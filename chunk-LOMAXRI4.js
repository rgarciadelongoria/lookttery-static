import{a as X}from"./chunk-GW4A3HUB.js";import{c as u}from"./chunk-RGY6OTGO.js";import{bootstrapApplication as vi}from"@angular/platform-browser";import{provideRouter as fi}from"@angular/router";import{CommonModule as Ue}from"@angular/common";import"@angular/core";import{RouterModule as Ne}from"@angular/router";import{IonicModule as Ge}from"@ionic/angular";var T=function(t){return t.SHELL_VERSION="shellVersion",t.SHELL_PUSH_TOKEN="shellPushToken",t}(T||{}),G=function(t){return t.SHELL_DEVICE_GET_ID="shellDeviceGetId",t.SHELL_DEVICE_GET_ID_RESPONSE="shellDeviceGetIdResponse",t.SHELL_SCANNER_RESPONSE="shellScannerResponse",t.SHELL_SCANNER_START="shellScannerStart",t.SHELL_SCANNER_STOP="shellScannerStop",t.SHELL_SCANNER_ERROR="shellScannerError",t}(G||{}),St=function(t){return t.SHELL_LOADING_REMOTE_OK="shellLoadingRemoteOk",t}(St||{});var _=function(t){return t.TOKEN="token",t.APP_UUID="appUuid",t.APP_SYNC_MARK="appSyncMark",t.LANGUAGE="language",t}(_||{}),j=function(t){return t.EN="en",t.ES="es",t}(j||{}),I=function(t){return t.SYSTEM="[SYSTEM]",t}(I||{}),E=function(t){return t.UUID_EMAIL_DOMAIN="@uuid.app",t.UUID_QR_CODE="app-uuid-code:",t.GAME_CODES="GameCodes",t}(E||{}),x=function(t){return t.LOTERIA_NACIONAL="ln",t}(x||{}),w=function(t){return t.CANCEL="CANCEL",t.ACCEPT="ACCEPT",t}(w||{});import{TranslateModule as je}from"@ngx-translate/core";import{CommonModule as Se}from"@angular/common";import{EventEmitter as ye}from"@angular/core";var C={api:{host:"https://api.lookttery.com/api"},web:{host:"https://lookttery.com"}};import"@angular/core";import{BehaviorSubject as Ce}from"rxjs";import*as tt from"@angular/core";import*as Mt from"@ngx-translate/core";var et=(()=>{let i=class i{constructor(e){this.translateService=e}transform(e){let n=new Date(e),o={weekday:"long",year:"numeric",month:"long",day:"numeric"},h=n.toLocaleDateString(this.translateService.currentLang,o),f=new Ce(h);return this.translateService.onLangChange.subscribe(()=>(h=n.toLocaleDateString(this.translateService.currentLang,o),f.next(h))),f}};i.\u0275fac=function(n){return new(n||i)(tt.\u0275\u0275directiveInject(Mt.TranslateService,16))},i.\u0275pipe=tt.\u0275\u0275definePipe({name:"date",type:i,pure:!0,standalone:!0});let t=i;return t})();import{IonicModule as xe}from"@ionic/angular";import{TranslateModule as be}from"@ngx-translate/core";import*as s from"@angular/core";import"@angular/core";import{lastValueFrom as Et}from"rxjs";import*as F from"@angular/core";import*as Dt from"@ionic/angular";import*as Lt from"@ngx-translate/core";import{HttpHeaders as _e}from"@angular/common/http";import"@angular/core";import{catchError as ve}from"rxjs";import*as z from"@angular/core";import*as Ot from"@angular/common/http";import*as Tt from"@angular/router";import"@angular/core";import*as Pt from"@angular/core";var v=(()=>{let i=class i{constructor(){}setItem(e,n){localStorage.setItem(e,n)}getItem(e){try{return JSON.parse(localStorage.getItem(e)||"")}catch{return localStorage.getItem(e)}}removeItem(e){localStorage.removeItem(e)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=Pt.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var It=function(t){return t.UNAUTHORIZED="Unauthorized",t}(It||{}),k=(()=>{let i=class i{constructor(e,n,o){this.http=e,this.router=n,this.storageSrv=o}get(e,n){return n=this.addTokenToHeaders(n),this.http.get(e,n)}post(e,n,o){return o=this.addPostHeaders(o),o=this.addTokenToHeaders(o),this.http.post(e,n,o).pipe(this.handleErrorAndRedirect())}delete(e,n){return n=this.addTokenToHeaders(n),this.http.delete(e,n)}addTokenToHeaders(e){let n=this.storageSrv.getItem(_.TOKEN),o=[["Authorization",`Bearer ${n==null?void 0:n.token}`]];return this.addHeaders(o,e)}addPostHeaders(e){let n=[["Content-Type","application/json"]];return this.addHeaders(n,e)}addHeaders(e,n){return e.forEach(o=>{n=n||{},n.headers=n.headers||{},n.headers instanceof _e?n.headers=n.headers.append(o[0],o[1]):typeof n.headers=="object"&&(n.headers[o[0]]=o[1])}),n||{}}handleErrorAndRedirect(){return ve((e,n)=>u(this,null,function*(){throw e.status===401&&e.statusText===It.UNAUTHORIZED&&(this.storageSrv.removeItem(_.TOKEN),this.router.navigate(["/","main"])),e}))}};i.\u0275fac=function(n){return new(n||i)(z.\u0275\u0275inject(Ot.HttpClient),z.\u0275\u0275inject(Tt.Router),z.\u0275\u0275inject(v))},i.\u0275prov=z.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var $=(()=>{let i=class i{constructor(e,n,o){this.alertController=e,this.translateSrv=n,this.apiSrv=o,this.apiTicket=`${C.api.host}/ticket`}createNewTicket(e){return u(this,null,function*(){let n={data:{info:{code:e}}};try{let o=yield this.apiSrv.post(this.apiTicket,n);return yield Et(o)}catch(o){throw o}})}deleteTicketById(e){return u(this,null,function*(){try{let n=yield this.apiSrv.delete(`${this.apiTicket}/${e}`);return yield Et(n)}catch(n){throw n}})}presentAlertConfirmDeleteTicket(){return u(this,null,function*(){let e=yield this.alertController.create({header:this.translateSrv.instant("TICKETS.DELETE_TICKET"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("TICKETS.DELETE_TICKET_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:w.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:w.ACCEPT,handler:()=>{}}]});yield e.present();let{role:n}=yield e.onDidDismiss();return n})}};i.\u0275fac=function(n){return new(n||i)(F.\u0275\u0275inject(Dt.AlertController),F.\u0275\u0275inject(Lt.TranslateService),F.\u0275\u0275inject(k))},i.\u0275prov=F.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import*as nt from"@angular/common";import*as it from"@ionic/angular";import*as Ut from"@ngx-translate/core";function we(t,i){t&1&&(s.\u0275\u0275elementStart(0,"section",1)(1,"article",2),s.\u0275\u0275element(2,"ion-skeleton-text",3),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"section",4),s.\u0275\u0275element(4,"ion-skeleton-text",5)(5,"ion-skeleton-text",6),s.\u0275\u0275elementEnd()()),t&2&&(s.\u0275\u0275advance(2),s.\u0275\u0275property("animated",!0),s.\u0275\u0275advance(2),s.\u0275\u0275property("animated",!0),s.\u0275\u0275advance(1),s.\u0275\u0275property("animated",!0))}function ke(t,i){if(t&1){let d=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"section",13)(1,"ion-icon",14),s.\u0275\u0275listener("click",function(n){s.\u0275\u0275restoreView(d);let o=s.\u0275\u0275nextContext(2);return o.deleteTicketById(o.data.ticket._id||""),s.\u0275\u0275resetView(n.stopPropagation())}),s.\u0275\u0275elementEnd()()}}function Me(t,i){if(t&1&&(s.\u0275\u0275elementStart(0,"span",15),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"async"),s.\u0275\u0275pipe(3,"currency"),s.\u0275\u0275elementEnd()),t&2){let d=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(2,1,s.\u0275\u0275pipeBind2(3,3,d.data.prize.quantity/100,"EUR")))}}function Pe(t,i){t&1&&(s.\u0275\u0275elementStart(0,"span",15),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()),t&2&&(s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(2,1,"GAMES.DRAW_PENDING")))}var Oe=t=>({"has-actions":t});function Te(t,i){if(t&1&&(s.\u0275\u0275template(0,ke,2,0,"section",7),s.\u0275\u0275elementStart(1,"section",8)(2,"article",2),s.\u0275\u0275element(3,"img",9),s.\u0275\u0275elementStart(4,"span",10),s.\u0275\u0275text(5),s.\u0275\u0275pipe(6,"async"),s.\u0275\u0275pipe(7,"date"),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(8,"section",4)(9,"span",11),s.\u0275\u0275text(10),s.\u0275\u0275elementEnd(),s.\u0275\u0275template(11,Me,4,6,"span",12)(12,Pe,3,3),s.\u0275\u0275elementEnd()()),t&2){let d=s.\u0275\u0275nextContext();s.\u0275\u0275conditional(0,d.showActions?0:-1),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(10,Oe,d.showActions)),s.\u0275\u0275advance(2),s.\u0275\u0275property("src",d.environment.web.host+"/assets/logos/games/"+d.data.ticket.code+".png",s.\u0275\u0275sanitizeUrl),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(6,6,s.\u0275\u0275pipeBind1(7,8,d.data.ticket.date))),s.\u0275\u0275advance(5),s.\u0275\u0275textInterpolate(d.data.ticket.data.info.number),s.\u0275\u0275advance(1),s.\u0275\u0275conditional(11,d.data.game.data.info.prizes.length?11:12)}}function Ie(t,i){t&1&&(s.\u0275\u0275elementStart(0,"p"),s.\u0275\u0275text(1,"Game not available"),s.\u0275\u0275elementEnd())}var ot=(()=>{let i=class i{constructor(e){this.ticketSrv=e,this.skeleton=!1,this.showActions=!0,this.deleteTicketEvent=new ye,this.environment=C,this.gameCodes=x}ngOnInit(){}deleteTicketById(e){return u(this,null,function*(){if((yield this.ticketSrv.presentAlertConfirmDeleteTicket())===w.ACCEPT){this.skeleton=!0;let o=yield this.ticketSrv.deleteTicketById(e);o&&this.deleteTicketEvent.emit(o)}})}};i.\u0275fac=function(n){return new(n||i)(s.\u0275\u0275directiveInject($))},i.\u0275cmp=s.\u0275\u0275defineComponent({type:i,selectors:[["app-ticket-ln"]],inputs:{data:"data",skeleton:"skeleton",showActions:"showActions"},outputs:{deleteTicketEvent:"deleteTicketEvent"},standalone:!0,features:[s.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[["class","ticket"],[1,"ticket"],[1,"ticket-title"],[1,"skeleton-25",3,"animated"],[1,"ticket-data"],[1,"skeleton-40",3,"animated"],[3,"animated"],["class","ticket-actions"],[1,"ticket",3,"ngClass"],["aria-hidden","true","slot","start","alt","",1,"ticket-title-img",3,"src"],["color","medium",1,"ticket-title-date"],[1,"ticket-data-number"],["class","ticket-data-prize"],[1,"ticket-actions"],["color","danger","name","remove-circle",1,"ticket-actions-delete",3,"click"],[1,"ticket-data-prize"]],template:function(n,o){n&1&&s.\u0275\u0275template(0,we,6,3,"section",0)(1,Te,13,12)(2,Ie,2,0),n&2&&s.\u0275\u0275conditional(0,o.skeleton?0:o.data.ticket.code===o.gameCodes.LOTERIA_NACIONAL?1:2)},dependencies:[Se,nt.NgClass,nt.AsyncPipe,et,X,xe,it.IonIcon,it.IonSkeletonText,be,Ut.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:300px}[_nghost-%COMP%]   .skeleton-25[_ngcontent-%COMP%]{height:25px}[_nghost-%COMP%]   .skeleton-40[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   .ticket[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:#63636333 0 2px 8px;padding:10px;border:thin solid var(--ln-primary)}[_nghost-%COMP%]   .ticket-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:100%}[_nghost-%COMP%]   .ticket-title-img[_ngcontent-%COMP%]{width:25px;margin:0 auto 0 0}[_nghost-%COMP%]   .ticket-title-date[_ngcontent-%COMP%]{font-size:14px;color:var(--ln-primary);font-weight:700}[_nghost-%COMP%]   .ticket-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .ticket-data-number[_ngcontent-%COMP%]{font-size:40px;font-weight:700;letter-spacing:17px}[_nghost-%COMP%]   .ticket-actions[_ngcontent-%COMP%]{position:relative;height:0;display:flex;width:100%;flex-direction:row;justify-content:flex-end;right:10px;bottom:-5px}[_nghost-%COMP%]   .ticket-actions-delete[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#fff;border-radius:100px}[_nghost-%COMP%]   .has-actions[_ngcontent-%COMP%]{margin-top:17px}"],changeDetection:0});let t=i;return t})();import{ZXingScannerModule as Re}from"@zxing/ngx-scanner";import{BarcodeFormat as ct}from"@zxing/library";import*as a from"@angular/core";import"@angular/core";import{lastValueFrom as Gt}from"rxjs";import{v4 as Ae}from"uuid";import*as R from"@angular/core";import"@angular/core";import{BehaviorSubject as Ee,lastValueFrom as rt}from"rxjs";import*as J from"@angular/core";var De=1e3*60*60*1.5,P=(()=>{let i=class i{constructor(e,n){this.apiSrv=e,this.storageSrv=n,this.user={},this.apiUser=`${C.api.host}/user`,this.user$=new Ee({})}getUser(){return this.user}getUserSubject(){return this.user$}setUser(e){this.user=e,this.user$.next(e)}createUserByUuid(e){return u(this,null,function*(){let n={email:`${e}${E.UUID_EMAIL_DOMAIN}`,password:e,name:e};try{let o=this.apiSrv.post(this.apiUser,n);return yield rt(o)}catch(o){throw o}})}loginByUuid(e){return u(this,null,function*(){let n=yield this.login(`${e}${E.UUID_EMAIL_DOMAIN}`,e);return this.setUser(n.user),n})}login(e,n){return u(this,null,function*(){let o={email:e,password:n};try{let h=this.apiSrv.post(`${this.apiUser}/login`,o),f=yield rt(h);if(f.token){let M={token:f.token,date:Date.now()};this.storageSrv.setItem(_.TOKEN,JSON.stringify(M)),console.info(I.SYSTEM,`TOKEN: ${f.token}`)}return f}catch(h){throw h}})}checkTokenExpiration(e){return u(this,null,function*(){let n=this.storageSrv.getItem(_.TOKEN),o=(n==null?void 0:n.date)||0;Date.now()-o>De&&(yield this.loginByUuid(e))})}getAllTicketsByUser(){return u(this,null,function*(){try{let e=this.apiSrv.get(`${this.apiUser}/ticket/all?limit=100&offset=0`);return yield rt(e)}catch{return[]}})}getAllPushesByUser(){return u(this,null,function*(){try{let e=this.apiSrv.get(`${this.apiUser}/push/all?limit=100&offset=0`);return yield rt(e)}catch{return[]}})}};i.\u0275fac=function(n){return new(n||i)(J.\u0275\u0275inject(k),J.\u0275\u0275inject(v))},i.\u0275prov=J.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import"@angular/core";import*as st from"@angular/core";var Nt=(()=>{let i=class i{constructor(e){this.storageSrv=e}hasShell(){let e="0.0.0";return this.storageSrv.getItem(T.SHELL_VERSION)===e}};i.\u0275fac=function(n){return new(n||i)(st.\u0275\u0275inject(v))},i.\u0275prov=st.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var L=(()=>{let i=class i{constructor(e,n,o,h){this.apiSrv=e,this.userSrv=n,this.coreSrv=o,this.storageSrv=h,this.uuid="",this.apiUuid=`${C.api.host}/uuid`,window.addEventListener(G.SHELL_DEVICE_GET_ID_RESPONSE,f=>u(this,null,function*(){var V;let M=localStorage.getItem(_.APP_UUID)||((V=f.detail)==null?void 0:V.response)||"";this.setAppUuid(M),yield this.onDeviceIdResponse()}))}init(){return u(this,null,function*(){yield this.requestDeviceId()})}getUuid(){return this.uuid}updateAppUuid(e){this.setAppUuid(e),this.setSyncMark()}requestDeviceId(){return u(this,null,function*(){if(this.coreSrv.hasShell())window.dispatchEvent(new CustomEvent(G.SHELL_DEVICE_GET_ID));else{let e=localStorage.getItem(_.APP_UUID)||"";this.setAppUuid(e),yield this.onDeviceIdResponse()}})}setAppUuid(e){this.uuid=e,this.uuid||(this.uuid=Ae()),this.storageSrv.setItem(_.APP_UUID,this.uuid)}setSyncMark(){this.storageSrv.setItem(_.APP_SYNC_MARK,new Date().toISOString())}onDeviceIdResponse(){return u(this,null,function*(){(yield this.getUuidData())?(yield this.userSrv.loginByUuid(this.uuid),console.info(I.SYSTEM,`UUID: ${this.uuid} was registered.`)):yield this.registerUuid()})}getUuidData(){return u(this,null,function*(){try{let e=this.apiSrv.get(`${this.apiUuid}/${this.uuid}`);return yield Gt(e)}catch{return null}})}registerUuid(){return u(this,null,function*(){let e=yield this.userSrv.createUserByUuid(this.uuid);if((yield this.userSrv.loginByUuid(this.uuid)).token){let o={uuid:this.uuid,user:e._id};try{let h=this.apiSrv.post(this.apiUuid,o),f=yield Gt(h);this.uuid=f.uuid,console.info(I.SYSTEM,`UUID: ${this.uuid} has been registered.`)}catch(h){console.error(h)}}})}};i.\u0275fac=function(n){return new(n||i)(R.\u0275\u0275inject(k),R.\u0275\u0275inject(P),R.\u0275\u0275inject(Nt),R.\u0275\u0275inject(v))},i.\u0275prov=R.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import"@angular/core";import{lastValueFrom as xt}from"rxjs";import*as Z from"@angular/core";import*as jt from"@angular/router";var A=(()=>{let i=class i{constructor(e,n){this.apiSrv=e,this.router=n,this.apiGame=`${C.api.host}/game`}getAllGamesByCodeOnlyWithPrizes(e,n=10,o=0){return u(this,null,function*(){try{let h=this.apiSrv.get(`${this.apiGame}?limit=${n}&offset=${o}&code=${e}&onlyWithPrizes=true`);return yield xt(h)}catch{return[]}})}getAllTicketsPrizesByUser(e=10,n=0){return u(this,null,function*(){try{let o=this.apiSrv.get(`${this.apiGame}/ticket/all?limit=${e}&offset=${n}`);return yield xt(o)}catch{return[]}})}getTicketPrizeByTicketId(e){return u(this,null,function*(){try{let n=this.apiSrv.get(`${this.apiGame}/ticket/${e}`);return yield xt(n)}catch{return null}})}openGame(e){e.data.info.prizes.length&&this.router.navigate(["/main/","game-detail-"+e.code],{state:{game:e}})}};i.\u0275fac=function(n){return new(n||i)(Z.\u0275\u0275inject(k),Z.\u0275\u0275inject(jt.Router))},i.\u0275prov=Z.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import*as U from"@ionic/angular";import*as lt from"@ngx-translate/core";import*as Rt from"@angular/common";import*as Bt from"@zxing/ngx-scanner";function Be(t,i){t&1&&(a.\u0275\u0275elementStart(0,"article"),a.\u0275\u0275text(1,"Camera permission denied."),a.\u0275\u0275elementEnd())}function Ve(t,i){t&1&&a.\u0275\u0275element(0,"ion-spinner",6)}function ze(t,i){if(t&1){let d=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"zxing-scanner",5),a.\u0275\u0275listener("camerasFound",function(n){a.\u0275\u0275restoreView(d);let o=a.\u0275\u0275nextContext(3);return a.\u0275\u0275resetView(o.webCamerasFound(n))})("scanSuccess",function(n){a.\u0275\u0275restoreView(d);let o=a.\u0275\u0275nextContext(3);return a.\u0275\u0275resetView(o.webCodeResult(n))}),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(1,Ve,1,0,"ion-spinner",6)}if(t&2){let d=a.\u0275\u0275nextContext(3);a.\u0275\u0275property("formats",d.allowedFormats),a.\u0275\u0275advance(1),a.\u0275\u0275conditional(1,d.hasWebCamera?-1:1)}}function Fe(t,i){if(t&1&&(a.\u0275\u0275element(0,"ion-icon",4),a.\u0275\u0275template(1,ze,2,2)),t&2){let d=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275conditional(1,d.showWebScan?1:-1)}}function $e(t,i){if(t&1&&a.\u0275\u0275template(0,Fe,2,1),t&2){let d=a.\u0275\u0275nextContext();a.\u0275\u0275conditional(0,d.showTicket?-1:0)}}function He(t,i){if(t&1&&a.\u0275\u0275element(0,"app-ticket-ln",8),t&2){let d=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("showActions",!1)("data",d.ticketData)}}function Ke(t,i){if(t&1){let d=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"section",7),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(d);let n=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(n.tapTicket(!1))}),a.\u0275\u0275template(1,He,1,2,"app-ticket-ln",8),a.\u0275\u0275elementStart(2,"article",9)(3,"span"),a.\u0275\u0275text(4),a.\u0275\u0275pipe(5,"translate"),a.\u0275\u0275elementEnd()()()}if(t&2){let d=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275conditional(1,(d.ticketData==null||d.ticketData.game==null?null:d.ticketData.game.code)===d.gameCodes.LOTERIA_NACIONAL?1:-1),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(5,2,"SCAN.MESSAGES.TAP_SCREEN_TO_SCAN"))}}var qe=t=>({visibility:t}),Vt=(()=>{let i=class i{handleShellScannerResponse(e){return u(this,null,function*(){var n;yield this.onScannerResponse(((n=e.detail)==null?void 0:n.response)||{})})}handleShellScannerError(e){return u(this,null,function*(){var n;yield this.onScannerError(((n=e.detail)==null?void 0:n.response)||{})})}constructor(e,n,o,h,f,M,V,ge,fe){this.cdr=e,this.ticketSrv=n,this.uuidSrv=o,this.userSrv=h,this.gameSrv=f,this.loadingCtrl=M,this.translateSrv=V,this.storageSrv=ge,this.alertController=fe,this.gameCodes=x,this.hasShell=!1,this.responses=[],this.hasPermission=!0,this.ticketData=null,this.showTicket=!1,this.allowedFormats=[ct.QR_CODE,ct.EAN_13,ct.CODE_128,ct.DATA_MATRIX],this.showWebScan=!1,this.hasWebCamera=!1,this.backgroundColor=""}ngOnInit(){}ngAfterViewInit(){}ionViewDidEnter(){return u(this,null,function*(){this.setTicketVisibility(!1),this.showWebScan=!this.storageSrv.getItem(T.SHELL_VERSION),this.cdr.detectChanges(),document.body.style.backgroundColor="transparent",yield this.startScan()})}ionViewWillLeave(){this.setTicketVisibility(!1),document.body.style.backgroundColor=this.backgroundColor,this.stopScan()}startScan(e){return u(this,null,function*(){this.showWebScan=!this.storageSrv.getItem(T.SHELL_VERSION),this.hasPermission=!0,this.cdr.detectChanges(),window.dispatchEvent(new CustomEvent(G.SHELL_SCANNER_START))})}stopScan(e){this.showWebScan=!1,this.cdr.detectChanges(),window.dispatchEvent(new CustomEvent(G.SHELL_SCANNER_STOP))}permissionResponse(e){this.hasPermission=e||!1}setTicketVisibility(e){this.showTicket=e,this.showTicket?document.querySelector("ion-tabs").style.padding="0":document.querySelector("ion-tabs").style.padding="",this.cdr.detectChanges()}tapTicket(e){return u(this,null,function*(){this.setTicketVisibility(!1),yield this.startScan()})}webCodeResult(e){this.onScannerResponse({content:e})}webCamerasFound(e){console.log("cameras",e),e.length>0&&(this.hasWebCamera=!0)}onScannerResponse(e){return u(this,null,function*(){var n,o;if(this.checkUuidQRCode(e.content||"")){let h=e.content.toString().replace(E.UUID_QR_CODE,"");yield this.syncUuid(h),this.setTicketVisibility(!1),yield this.startScan()}else if(e&&!e.closed){this.showLoading();let h="";try{h=(yield this.ticketSrv.createNewTicket(e.content||""))._id||""}catch(f){h=((o=(n=f.error)==null?void 0:n.ticket)==null?void 0:o._id)||""}this.ticketData=yield this.gameSrv.getTicketPrizeByTicketId(h),this.dismissLoading(),this.setTicketVisibility(!0)}})}onScannerError(e){return u(this,null,function*(){this.hasPermission=!1})}checkUuidQRCode(e){return!!e.toString().includes(E.UUID_QR_CODE)}showLoading(){return u(this,null,function*(){(yield this.loadingCtrl.create({message:yield this.translateSrv.instant("SCAN.MESSAGES.CHECKING_TICKETS"),duration:5e3})).present()})}dismissLoading(){return u(this,null,function*(){yield this.loadingCtrl.dismiss()})}presentAlertConfirmSyncUuid(){return u(this,null,function*(){let e=yield this.alertController.create({header:this.translateSrv.instant("UUID.SYNC_DEVICE"),subHeader:this.translateSrv.instant("GLOBAL.CONFIG_ACTION"),message:this.translateSrv.instant("UUID.SYNC_DEVICE_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:w.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:w.ACCEPT,handler:()=>{}}]});yield e.present();let{role:n}=yield e.onDidDismiss();return n})}syncUuid(e){return u(this,null,function*(){(yield this.presentAlertConfirmSyncUuid())===w.ACCEPT&&(this.uuidSrv.updateAppUuid(e),yield this.userSrv.loginByUuid(e))})}};i.\u0275fac=function(n){return new(n||i)(a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject($),a.\u0275\u0275directiveInject(L),a.\u0275\u0275directiveInject(P),a.\u0275\u0275directiveInject(A),a.\u0275\u0275directiveInject(U.LoadingController),a.\u0275\u0275directiveInject(lt.TranslateService),a.\u0275\u0275directiveInject(v),a.\u0275\u0275directiveInject(U.AlertController))},i.\u0275cmp=a.\u0275\u0275defineComponent({type:i,selectors:[["app-scan"]],hostBindings:function(n,o){n&1&&a.\u0275\u0275listener("shellScannerResponse",function(f){return o.handleShellScannerResponse(f)},!1,a.\u0275\u0275resolveWindow)("shellScannerError",function(f){return o.handleShellScannerError(f)},!1,a.\u0275\u0275resolveWindow)},standalone:!0,features:[a.\u0275\u0275StandaloneFeature],decls:26,vars:5,consts:[[1,"animated-background",3,"ngStyle"],[1,"scan"],[1,"scan-screen"],["class","ticket-background"],["name","add-outline",1,"scan-screen-pointer"],[1,"web-scanner",3,"formats","camerasFound","scanSuccess"],["name","dots"],[1,"ticket-background",3,"click"],[3,"showActions","data"],[1,"ticket-instructions"]],template:function(n,o){n&1&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275element(1,"span")(2,"span")(3,"span")(4,"span")(5,"span")(6,"span")(7,"span")(8,"span")(9,"span")(10,"span")(11,"span")(12,"span")(13,"span")(14,"span")(15,"span")(16,"span")(17,"span")(18,"span")(19,"span")(20,"span"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(21,"section",1)(22,"section",2),a.\u0275\u0275template(23,Be,2,0,"article")(24,$e,1,1),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(25,Ke,6,4,"section",3)),n&2&&(a.\u0275\u0275property("ngStyle",a.\u0275\u0275pureFunction1(3,qe,o.showTicket?"visible":"hidden")),a.\u0275\u0275advance(23),a.\u0275\u0275conditional(23,o.hasPermission?24:23),a.\u0275\u0275advance(2),a.\u0275\u0275conditional(25,o.showTicket?25:-1))},dependencies:[Ue,Rt.NgStyle,Ne,Ge,U.IonIcon,U.IonSpinner,je,lt.TranslatePipe,ot,Re,Bt.ZXingScannerComponent],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .scan[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:calc(100vh - env(safe-area-inset-bottom,0));margin:0}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:calc(100% - env(safe-area-inset-bottom,0))}[_nghost-%COMP%]   .scan-screen-pointer[_ngcontent-%COMP%]{width:40px;color:#fff;height:40px;z-index:9}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]   .web-scanner[_ngcontent-%COMP%]{position:fixed}[_nghost-%COMP%]   .ticket-background[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:absolute;width:100%;height:100vh;top:0;padding-top:80px}[_nghost-%COMP%]   .ticket-instructions[_ngcontent-%COMP%]{margin-top:40px;font-weight:700;color:#fff}ion-modal[_ngcontent-%COMP%]{--height: 200px;--border-radius: 8px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--background: transparent}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: transparent}ion-modal[_ngcontent-%COMP%]   .ticket-ln[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}ion-modal[_ngcontent-%COMP%]   .ticket-ln-number[_ngcontent-%COMP%]{font-size:40px;font-weight:700;letter-spacing:17px;margin:20px 20px 20px 37px}ion-modal[_ngcontent-%COMP%]   .ticket-ln-prize[_ngcontent-%COMP%]{font-size:20px;font-weight:700}ion-modal[_ngcontent-%COMP%]::part(content){background-color:transparent;border:none;box-shadow:none}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}@keyframes _ngcontent-%COMP%_move{to{transform:translateZ(1px) rotate(360deg)}}.animated-background[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;top:0;left:0;background:#3E1E68;overflow:hidden}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20vmin;height:20vmin;border-radius:20vmin;backface-visibility:hidden;position:absolute;animation:_ngcontent-%COMP%_move;animation-duration:45;animation-timing-function:linear;animation-iteration-count:infinite}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(0){color:#583c87;top:1%;left:25%;animation-duration:49s;animation-delay:-14s;transform-origin:-21vw -17vh;box-shadow:-40vmin 0 5.6508571128vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){color:#583c87;top:92%;left:7%;animation-duration:51s;animation-delay:-32s;transform-origin:22vw -3vh;box-shadow:-40vmin 0 5.8332436514vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){color:#e45a84;top:76%;left:65%;animation-duration:8s;animation-delay:-14s;transform-origin:-14vw -19vh;box-shadow:-40vmin 0 5.1087852604vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){color:#583c87;top:20%;left:55%;animation-duration:9s;animation-delay:-39s;transform-origin:12vw 5vh;box-shadow:40vmin 0 5.3298054904vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){color:#e45a84;top:26%;left:79%;animation-duration:54s;animation-delay:-14s;transform-origin:-6vw -2vh;box-shadow:-40vmin 0 5.3879032859vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){color:#583c87;top:47%;left:93%;animation-duration:7s;animation-delay:-17s;transform-origin:13vw -5vh;box-shadow:-40vmin 0 5.2369732429vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){color:#583c87;top:97%;left:46%;animation-duration:20s;animation-delay:-3s;transform-origin:6vw -16vh;box-shadow:40vmin 0 5.8166757212vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){color:#583c87;top:54%;left:52%;animation-duration:6s;animation-delay:-47s;transform-origin:23vw 16vh;box-shadow:-40vmin 0 5.4546477701vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){color:#e45a84;top:64%;left:61%;animation-duration:23s;animation-delay:-7s;transform-origin:17vw 3vh;box-shadow:-40vmin 0 5.6193809352vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){color:#ffacac;top:96%;left:17%;animation-duration:33s;animation-delay:-44s;transform-origin:20vw 11vh;box-shadow:40vmin 0 5.881491465vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){color:#e45a84;top:8%;left:18%;animation-duration:20s;animation-delay:-29s;transform-origin:18vw 2vh;box-shadow:-40vmin 0 5.9279891447vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){color:#583c87;top:48%;left:95%;animation-duration:51s;animation-delay:-34s;transform-origin:-21vw 24vh;box-shadow:40vmin 0 5.564150385vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){color:#e45a84;top:86%;left:74%;animation-duration:54s;animation-delay:-2s;transform-origin:-1vw 6vh;box-shadow:40vmin 0 5.3909289617vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(13){color:#583c87;top:6%;left:46%;animation-duration:19s;animation-delay:-31s;transform-origin:13vw 15vh;box-shadow:-40vmin 0 5.5802349616vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(14){color:#e45a84;top:45%;left:32%;animation-duration:17s;animation-delay:-41s;transform-origin:7vw 13vh;box-shadow:40vmin 0 5.2147795462vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(15){color:#e45a84;top:6%;left:76%;animation-duration:13s;animation-delay:-34s;transform-origin:-6vw -15vh;box-shadow:-40vmin 0 5.684363269vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(16){color:#ffacac;top:99%;left:41%;animation-duration:28s;animation-delay:-41s;transform-origin:-15vw -9vh;box-shadow:40vmin 0 5.6490626298vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(17){color:#583c87;top:53%;left:87%;animation-duration:38s;animation-delay:-1s;transform-origin:-9vw 5vh;box-shadow:-40vmin 0 5.7487953568vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(18){color:#583c87;top:93%;left:87%;animation-duration:29s;animation-delay:-46s;transform-origin:-8vw 23vh;box-shadow:-40vmin 0 5.2337571763vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(19){color:#ffacac;top:1%;left:67%;animation-duration:38s;animation-delay:-44s;transform-origin:-15vw -14vh;box-shadow:-40vmin 0 5.7801397915vmin currentColor}"],changeDetection:0});let t=i;return t})();import{CommonModule as We}from"@angular/common";import"@angular/core";import{RouterModule as Ye}from"@angular/router";import{IonicModule as Qe}from"@ionic/angular";import{TranslateModule as Je}from"@ngx-translate/core";import*as g from"@angular/core";import*as zt from"@angular/router";import*as N from"@ionic/angular";import*as Ft from"@ngx-translate/core";var Ze=["mainTabs"],$t=(()=>{let i=class i{constructor(e){this.router=e}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.mainTabs.select("games")},500)}};i.\u0275fac=function(n){return new(n||i)(g.\u0275\u0275directiveInject(zt.Router))},i.\u0275cmp=g.\u0275\u0275defineComponent({type:i,selectors:[["app-main"]],viewQuery:function(n,o){if(n&1&&g.\u0275\u0275viewQuery(Ze,5),n&2){let h;g.\u0275\u0275queryRefresh(h=g.\u0275\u0275loadQuery())&&(o.mainTabs=h.first)}},standalone:!0,features:[g.\u0275\u0275StandaloneFeature],decls:23,vars:12,consts:[["mainTabs",""],["slot","bottom"],["tab","games"],["name","grid-outline"],["tab","scan"],["name","scan-outline"],["tab","tickets"],["name","wallet-outline"],["tab","menu"],["name","cog-outline"]],template:function(n,o){n&1&&(g.\u0275\u0275elementStart(0,"ion-tabs",null,0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),g.\u0275\u0275element(4,"ion-icon",3),g.\u0275\u0275elementStart(5,"span"),g.\u0275\u0275text(6),g.\u0275\u0275pipe(7,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(8,"ion-tab-button",4),g.\u0275\u0275element(9,"ion-icon",5),g.\u0275\u0275elementStart(10,"span"),g.\u0275\u0275text(11),g.\u0275\u0275pipe(12,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(13,"ion-tab-button",6),g.\u0275\u0275element(14,"ion-icon",7),g.\u0275\u0275elementStart(15,"span"),g.\u0275\u0275text(16),g.\u0275\u0275pipe(17,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(18,"ion-tab-button",8),g.\u0275\u0275element(19,"ion-icon",9),g.\u0275\u0275elementStart(20,"span"),g.\u0275\u0275text(21),g.\u0275\u0275pipe(22,"translate"),g.\u0275\u0275elementEnd()()()()),n&2&&(g.\u0275\u0275advance(6),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(7,4,"MAIN.TABS.GAMES")),g.\u0275\u0275advance(5),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(12,6,"MAIN.TABS.SCAN_NOW")),g.\u0275\u0275advance(5),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(17,8,"MAIN.TABS.TICKETS")),g.\u0275\u0275advance(5),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(22,10,"MAIN.TABS.SETTINGS")))},dependencies:[We,Ye,Qe,N.IonIcon,N.IonTabBar,N.IonTabButton,N.IonTabs,Je,Ft.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}ion-tabs[_ngcontent-%COMP%]{padding:env(safe-area-inset-top,0) env(safe-area-inset-right,0) 0 env(safe-area-inset-left,0)}ion-tabs[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0)}"],changeDetection:0});let t=i;return t})();import{CommonModule as en}from"@angular/common";import{HttpClient as nn,HttpClientModule as on}from"@angular/common/http";import"@angular/core";import{NavigationEnd as rn,RouterModule as an}from"@angular/router";import{filter as sn}from"rxjs";import{IonicModule as cn}from"@ionic/angular";import{TranslateLoader as ln,TranslateModule as mn}from"@ngx-translate/core";import"@angular/core";import{catchError as Xe}from"rxjs/operators";import*as mt from"@angular/core";import*as Ht from"@angular/common/http";var Kt=(()=>{let i=class i{constructor(e){this.httpClient=e}getTranslation(e){let n=C.web.host+`/assets/i18n/${e}.json`;return this.httpClient.get(n).pipe(Xe(o=>(console.log("Error loading translation file",o),this.httpClient.get(C.web.host+"/assets/i18n/es.json"))))}};i.\u0275fac=function(n){return new(n||i)(mt.\u0275\u0275inject(Ht.HttpClient))},i.\u0275prov=mt.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac});let t=i;return t})();import"@angular/core";import{lastValueFrom as tn}from"rxjs";import*as H from"@angular/core";var K=(()=>{let i=class i{constructor(e,n,o){this.apiSrv=e,this.storageSrv=n,this.userSrv=o,this.apiPush=`${C.api.host}/push`}init(){this.userSrv.getUserSubject().subscribe(e=>u(this,null,function*(){e._id&&(yield this.registerToken(e))}))}getToken(){return this.storageSrv.getItem(T.SHELL_PUSH_TOKEN)||""}registerToken(e){return u(this,null,function*(){if(e._id&&this.getToken())if((yield this.userSrv.getAllPushesByUser()).some(o=>o.token===this.getToken()))console.info(I.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has already been registered.`);else{let o={token:this.getToken(),user:e._id};try{let h=this.apiSrv.post(this.apiPush,o),f=yield tn(h);this.storageSrv.setItem(T.SHELL_PUSH_TOKEN,f.token),console.info(I.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has been registered.`)}catch(h){console.error(h)}}})}};i.\u0275fac=function(n){return new(n||i)(H.\u0275\u0275inject(k),H.\u0275\u0275inject(v),H.\u0275\u0275inject(P))},i.\u0275prov=H.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import*as b from"@angular/core";import*as Wt from"@ngx-translate/core";import*as dt from"@angular/router";var Yt=(()=>{let i=class i{constructor(e,n,o,h,f,M){this.translateSrv=e,this.uuidSrv=n,this.userSrv=o,this.storageSrv=h,this.router=f,this.pushSrv=M,this.translateSrv.setDefaultLang("en"),this.translateSrv.use("en")}ngOnInit(){return u(this,null,function*(){this.setNoErrorLoadingRemote(),this.importStyles(),this.importScripts(),this.pushSrv.init(),yield this.uuidSrv.init(),this.router.events.pipe(sn(e=>e instanceof rn)).subscribe(e=>u(this,null,function*(){let n=this.uuidSrv.getUuid();n?this.userSrv.checkTokenExpiration(n):(this.pushSrv.init(),yield this.uuidSrv.init())})),this.loadLanguage()})}loadLanguage(){let e=this.storageSrv.getItem(_.LANGUAGE)||j.EN;this.translateSrv.use(e)}setNoErrorLoadingRemote(){this.storageSrv.setItem(St.SHELL_LOADING_REMOTE_OK,"true")}importScripts(){let e=["https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js","https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.esm.js"],n=document.head;e.forEach(o=>{let h=document.createElement("script");h.type="module",h.src=o,h.async=!1,document.head.appendChild(h),n.insertBefore(h,n.firstElementChild)})}importStyles(){let e=["https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"],n=document.head;e.forEach(o=>{let h=document.createElement("link");h.rel="stylesheet",h.href=o,n.insertBefore(h,n.firstElementChild)})}};i.\u0275fac=function(n){return new(n||i)(b.\u0275\u0275directiveInject(Wt.TranslateService),b.\u0275\u0275directiveInject(L),b.\u0275\u0275directiveInject(P),b.\u0275\u0275directiveInject(v),b.\u0275\u0275directiveInject(dt.Router),b.\u0275\u0275directiveInject(K))},i.\u0275cmp=b.\u0275\u0275defineComponent({type:i,selectors:[["app-remote-app"]],standalone:!0,features:[b.\u0275\u0275ProvidersFeature([k,L,K,P,$,A,mn.forRoot({loader:{provide:ln,useClass:Kt,deps:[nn]}}).providers]),b.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(n,o){n&1&&b.\u0275\u0275element(0,"router-outlet")},dependencies:[en,an,dt.RouterOutlet,cn,on],styles:[`:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}:host{display:block}body{background:var(--color-background)}
`],encapsulation:2,changeDetection:0});let t=i;return t})();import{CommonModule as gn}from"@angular/common";import"@angular/core";import{RouterModule as fn}from"@angular/router";import{IonicModule as Cn}from"@ionic/angular";import{CommonModule as Or}from"@angular/common";import"@angular/core";import{IonicModule as Ar}from"@ionic/angular";import*as B from"@angular/core";import*as dn from"@angular/router";import*as pn from"@ngx-translate/core";import*as wt from"@ionic/angular";import{TranslateModule as _n}from"@ngx-translate/core";import{CommonModule as hn}from"@angular/common";import"@angular/core";import{IonicModule as un}from"@ionic/angular";import*as O from"@angular/core";import*as Qt from"@ionic/angular";var pt=(()=>{let i=class i{};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=O.\u0275\u0275defineComponent({type:i,selectors:[["app-loading"]],standalone:!0,features:[O.\u0275\u0275StandaloneFeature],decls:2,vars:0,consts:[[1,"loading-content"],["name","circular"]],template:function(n,o){n&1&&(O.\u0275\u0275elementStart(0,"section",0),O.\u0275\u0275element(1,"ion-spinner",1),O.\u0275\u0275elementEnd())},dependencies:[hn,un,Qt.IonSpinner],styles:["[_nghost-%COMP%]{display:block}.loading-content[_ngcontent-%COMP%]{position:fixed;top:0;z-index:9;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background-color:#00000040}"],changeDetection:0});let t=i;return t})();import*as l from"@angular/core";import*as ht from"@ionic/angular";import*as Zt from"@ngx-translate/core";var vn=(t,i)=>i.ticket._id;function Sn(t,i){if(t&1){let d=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"app-ticket-ln",6),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(d);let n=l.\u0275\u0275nextContext().$implicit,o=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(o.openGame(n.game))})("deleteTicketEvent",function(n){l.\u0275\u0275restoreView(d);let o=l.\u0275\u0275nextContext(3);return l.\u0275\u0275resetView(o.deleteTicketById(n))}),l.\u0275\u0275elementEnd()}if(t&2){let d=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275property("data",d)}}function yn(t,i){if(t&1&&(l.\u0275\u0275elementStart(0,"span",4),l.\u0275\u0275template(1,Sn,1,1,"app-ticket-ln",5),l.\u0275\u0275elementEnd()),t&2){let d=i.$implicit,e=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275conditional(1,d.ticket.code===e.gamesCodes.LOTERIA_NACIONAL?1:-1)}}function xn(t,i){if(t&1){let d=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"span",7),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(d);let n=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(n.loadMore())}),l.\u0275\u0275elementStart(1,"section",8)(2,"span",9),l.\u0275\u0275text(3),l.\u0275\u0275pipe(4,"translate"),l.\u0275\u0275elementEnd()()()}t&2&&(l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(4,1,"GLOBAL.LOAD_MORE")))}function bn(t,i){if(t&1&&(l.\u0275\u0275elementStart(0,"section",2),l.\u0275\u0275repeaterCreate(1,yn,2,1,"span",3,vn),l.\u0275\u0275template(3,xn,5,3,"span",3),l.\u0275\u0275elementEnd()),t&2){let d=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275repeater(d.tickets),l.\u0275\u0275advance(2),l.\u0275\u0275conditional(3,d.showLoadMore?3:-1)}}function wn(t,i){t&1&&(l.\u0275\u0275elementStart(0,"section",10),l.\u0275\u0275element(1,"ion-icon",11),l.\u0275\u0275elementStart(2,"span",12),l.\u0275\u0275text(3),l.\u0275\u0275pipe(4,"translate"),l.\u0275\u0275elementEnd()()),t&2&&(l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(4,1,"TICKETS.EMPTY_TICKET_LIST")))}function kn(t,i){t&1&&l.\u0275\u0275element(0,"app-loading")}var Mn=5,Jt=5,Xt=(()=>{let i=class i{constructor(e,n){this.cdr=e,this.gameSrv=n,this.tickets=[],this.environment=C,this.loadingCount=0,this.gamesCodes=x,this.showLoadMore=!0,this.limit=Jt,this.offset=0}ionViewDidEnter(){return u(this,null,function*(){this.limit=Jt,this.offset=0,this.tickets=[],this.showLoadMore=!0,yield this.getUserTickets(),this.sortTicketsByDate()})}sortTicketsByDate(){this.tickets.sort((e,n)=>{let o=new Date(e.ticket.date);return new Date(n.ticket.date).getTime()-o.getTime()}),this.cdr.detectChanges()}deleteTicketById(e){return u(this,null,function*(){e&&(yield this.getUserTickets(!0))})}openGame(e){this.gameSrv.openGame(e)}loadMore(){return u(this,null,function*(){this.offset+=Mn,yield this.getUserTickets()})}getUserTickets(e=!1){return u(this,null,function*(){this.showLoading();try{let n=yield this.gameSrv.getAllTicketsPrizesByUser(this.limit,this.offset);e?this.tickets=n:this.tickets=this.tickets.concat(n),n.length<this.limit&&(this.showLoadMore=!1),this.requestHideLoading(),this.cdr.detectChanges()}catch{this.dismissLoading()}})}showLoading(){return u(this,null,function*(){let e=this.loadingCount;this.loadingCount++,e===0&&this.cdr.detectChanges()})}requestHideLoading(){return u(this,null,function*(){this.loadingCount--,this.loadingCount<=0&&this.dismissLoading()})}dismissLoading(){return u(this,null,function*(){this.loadingCount=0,this.cdr.detectChanges()})}};i.\u0275fac=function(n){return new(n||i)(l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(A))},i.\u0275cmp=l.\u0275\u0275defineComponent({type:i,selectors:[["app-tickets"]],standalone:!0,features:[l.\u0275\u0275StandaloneFeature],decls:4,vars:2,consts:[["padding","","color","light"],["class","main-container"],[1,"main-container"],["class","main-container-element"],[1,"main-container-element"],[3,"data"],[3,"data","click","deleteTicketEvent"],[1,"main-container-element",3,"click"],[1,"main-container-element-load-more"],[1,"main-container-element-load-more-text"],[1,"empty-content"],["name","scan-circle-outline",1,"empty-content-icon"],[1,"empty-content-message"]],template:function(n,o){n&1&&(l.\u0275\u0275elementStart(0,"ion-content",0),l.\u0275\u0275template(1,bn,4,1,"section",1)(2,wn,5,3)(3,kn,1,0,"app-loading"),l.\u0275\u0275elementEnd()),n&2&&(l.\u0275\u0275advance(1),l.\u0275\u0275conditional(1,o.tickets.length?1:2),l.\u0275\u0275advance(2),l.\u0275\u0275conditional(3,o.loadingCount>0?3:-1))},dependencies:[gn,fn,Cn,ht.IonContent,ht.IonIcon,_n,Zt.TranslatePipe,ot,pt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-bottom:150px}[_nghost-%COMP%]   .main-container-element[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .main-container-element-load-more[_ngcontent-%COMP%]{justify-content:center;width:100%;max-width:290px;height:40px;background-color:transparent;border:solid thin var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;margin:5px;border-radius:7px;box-shadow:var(--box-shadow);padding:15px}[_nghost-%COMP%]   .main-container-element-load-more-text[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}[_nghost-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}[_nghost-%COMP%]   .empty-content-icon[_ngcontent-%COMP%]{width:120px;height:120px;color:gray}[_nghost-%COMP%]   .empty-content-message[_ngcontent-%COMP%]{color:gray;margin:20px}"],changeDetection:0});let t=i;return t})();import{CommonModule as Pn}from"@angular/common";import"@angular/core";import{IonicModule as On}from"@ionic/angular";import{QrCodeModule as Tn}from"ng-qrcode";import{RouterModule as In}from"@angular/router";import{TranslateModule as En}from"@ngx-translate/core";import*as p from"@angular/core";import*as ut from"@ngx-translate/core";import*as S from"@ionic/angular";import*as te from"@angular/common";import*as ee from"ng-qrcode";function Dn(t,i){if(t&1&&p.\u0275\u0275element(0,"qr-code",8),t&2){let d=p.\u0275\u0275nextContext();p.\u0275\u0275property("value",d.qrUuid)}}function Ln(t,i){if(t&1){let d=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"ion-item",9),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(d);let n=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(n.deSyncDevice())}),p.\u0275\u0275elementStart(1,"ion-label",10),p.\u0275\u0275text(2),p.\u0275\u0275pipe(3,"translate"),p.\u0275\u0275elementEnd()()}t&2&&(p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(3,1,"UUID.DESYNC_DEVICE")))}var ne=(()=>{let i=class i{constructor(e,n,o,h,f,M){this.cdr=e,this.uuidSrv=n,this.pushSrv=o,this.storageSrv=h,this.translateSrv=f,this.alertController=M,this.qrUuid="",this.languages=j,this.currentLanguage=j.EN,this.isSynced=!1}ionViewDidEnter(){this.initLogic()}changeLanguage(e){this.storageSrv.setItem(_.LANGUAGE,e),this.translateSrv.use(e),this.cdr.detectChanges()}deSyncDevice(){return u(this,null,function*(){(yield this.presentAlertConfirmDeSyncUuid())===w.ACCEPT&&(this.storageSrv.removeItem(_.APP_UUID),this.storageSrv.removeItem(_.APP_SYNC_MARK),this.isSynced=!1,this.pushSrv.init(),yield this.uuidSrv.init(),setTimeout(()=>{this.initLogic()},400),this.cdr.detectChanges())})}initLogic(){this.qrUuid=E.UUID_QR_CODE+this.uuidSrv.getUuid(),this.isSynced=!!this.storageSrv.getItem(_.APP_SYNC_MARK),this.currentLanguage=this.storageSrv.getItem(_.LANGUAGE)||j.EN,this.cdr.detectChanges()}presentAlertConfirmDeSyncUuid(){return u(this,null,function*(){let e=yield this.alertController.create({header:this.translateSrv.instant("UUID.DESYNC_DEVICE"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("UUID.DESYNC_DEVICE_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:w.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:w.ACCEPT,handler:()=>{}}]});yield e.present();let{role:n}=yield e.onDidDismiss();return n})}};i.\u0275fac=function(n){return new(n||i)(p.\u0275\u0275directiveInject(p.ChangeDetectorRef),p.\u0275\u0275directiveInject(L),p.\u0275\u0275directiveInject(K),p.\u0275\u0275directiveInject(v),p.\u0275\u0275directiveInject(ut.TranslateService),p.\u0275\u0275directiveInject(S.AlertController))},i.\u0275cmp=p.\u0275\u0275defineComponent({type:i,selectors:[["app-menu"]],standalone:!0,features:[p.\u0275\u0275StandaloneFeature],decls:14,vars:12,consts:[["padding","","color","light"],[1,"menu-list"],[1,"menu-list-qr"],["size","300","errorCorrectionLevel","M",3,"value",4,"ngIf"],["interface","action-sheet",3,"label","value","ionChange"],["value","en"],["value","es"],["button",""],["size","300","errorCorrectionLevel","M",3,"value"],["button","",3,"click"],["color","danger"]],template:function(n,o){n&1&&(p.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-list",1)(2,"section",2),p.\u0275\u0275template(3,Dn,1,1,"qr-code",3),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(4,"ion-item")(5,"ion-select",4),p.\u0275\u0275listener("ionChange",function(f){return o.changeLanguage(f.detail.value)}),p.\u0275\u0275pipe(6,"translate"),p.\u0275\u0275elementStart(7,"ion-select-option",5),p.\u0275\u0275text(8),p.\u0275\u0275pipe(9,"translate"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(10,"ion-select-option",6),p.\u0275\u0275text(11),p.\u0275\u0275pipe(12,"translate"),p.\u0275\u0275elementEnd()()(),p.\u0275\u0275template(13,Ln,4,3,"ion-item",7),p.\u0275\u0275elementEnd()()),n&2&&(p.\u0275\u0275advance(3),p.\u0275\u0275property("ngIf",o.qrUuid),p.\u0275\u0275advance(2),p.\u0275\u0275propertyInterpolate("label",p.\u0275\u0275pipeBind1(6,6,"GLOBAL.LANGUAGES")),p.\u0275\u0275propertyInterpolate("value",o.currentLanguage),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(9,8,"GLOBAL.ENGLISH")),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(12,10,"GLOBAL.SPANISH")),p.\u0275\u0275advance(2),p.\u0275\u0275conditional(13,o.isSynced?13:-1))},dependencies:[Pn,te.NgIf,On,S.IonContent,S.IonItem,S.IonLabel,S.IonList,S.IonSelect,S.IonSelectOption,S.SelectValueAccessor,In,Tn,ee.QrCodeComponent,En,ut.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .menu-list-qr[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:10px 0 30px}[_nghost-%COMP%]   .menu-list-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}"],changeDetection:0});let t=i;return t})();import{CommonModule as zn}from"@angular/common";import"@angular/core";import{RouterModule as Fn}from"@angular/router";import{IonicModule as $n}from"@ionic/angular";import{TranslateModule as Hn}from"@ngx-translate/core";import{CommonModule as An}from"@angular/common";import"@angular/core";import{IonicModule as Un}from"@ionic/angular";import{TranslateModule as Nn}from"@ngx-translate/core";import*as r from"@angular/core";import"@angular/core";import*as ie from"@angular/core";var gt=(()=>{let i=class i{constructor(){}getBestPrizes(e){return JSON.parse(e)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=ie.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import*as ft from"@angular/common";import*as re from"@ionic/angular";function Gn(t,i){if(t&1&&(r.\u0275\u0275elementStart(0,"article",9)(1,"ion-label",10)(2,"span",11),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"ion-label",12),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"async"),r.\u0275\u0275pipe(7,"currency"),r.\u0275\u0275elementEnd()()),t&2){let d=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass","game-more-best-prize-first-number"),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(d.bestGamePrizes.primerPremio.decimo),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass","game-more-best-prize-first-quantity"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,4,r.\u0275\u0275pipeBind2(7,6,d.bestGamePrizes.primerPremio.prize/100,"EUR")))}}function jn(t,i){if(t&1&&(r.\u0275\u0275elementStart(0,"article",13)(1,"ion-label",10)(2,"span",11),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd()(),r.\u0275\u0275elementStart(4,"ion-label",12),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"async"),r.\u0275\u0275pipe(7,"currency"),r.\u0275\u0275elementEnd()()),t&2){let d=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass","game-more-best-prize-second-number"),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(d.bestGamePrizes.segundoPremio.decimo),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass","game-more-best-prize-second-quantity"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,4,r.\u0275\u0275pipeBind2(7,6,d.bestGamePrizes.segundoPremio.prize/100,"EUR")))}}var Rn=(t,i)=>i.decimo;function Bn(t,i){if(t&1&&(r.\u0275\u0275elementStart(0,"span",11),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),t&2){let d=i.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(d.decimo)}}function Vn(t,i){if(t&1&&(r.\u0275\u0275elementStart(0,"article",14)(1,"ion-label",10),r.\u0275\u0275repeaterCreate(2,Bn,2,1,"span",15,Rn),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"ion-label",12),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"async"),r.\u0275\u0275pipe(7,"currency"),r.\u0275\u0275elementEnd()()),t&2){let d=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("ngClass","game-more-best-prize-third-number"),r.\u0275\u0275advance(1),r.\u0275\u0275repeater(d.bestGamePrizes.reintegros),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngClass","game-more-best-prize-third-quantity"),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,3,r.\u0275\u0275pipeBind2(7,5,d.bestGamePrizes.reintegros[0].prize/100,"EUR")))}}var Ct=(()=>{let i=class i{constructor(e){this.lnSrv=e,this.environment=C,this.gameCodes=x,this.bestGamePrizes={}}ngOnChanges(){this.getBestPrizes()}getBestPrizes(){this.bestGamePrizes=this.lnSrv.getBestPrizes(this.data.data.info.raw)}};i.\u0275fac=function(n){return new(n||i)(r.\u0275\u0275directiveInject(gt))},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["app-game-ln"]],inputs:{data:"data"},standalone:!0,features:[r.\u0275\u0275NgOnChangesFeature,r.\u0275\u0275StandaloneFeature],decls:13,vars:9,consts:[[1,"game"],[1,"row"],["aria-hidden","true","slot","start","alt","",1,"game-img",3,"src"],[1,"game-data"],["color","medium",1,"game-data-date"],[1,"game-more"],["class","game-more-item game-more-best-prize-first"],["class","game-more-item game-more-best-prize-second"],["class","game-more-item"],[1,"game-more-item","game-more-best-prize-first"],[3,"ngClass"],[1,"ball"],["slot","end",3,"ngClass"],[1,"game-more-item","game-more-best-prize-second"],[1,"game-more-item"],["class","ball"]],template:function(n,o){n&1&&(r.\u0275\u0275elementStart(0,"section",0)(1,"article",1),r.\u0275\u0275element(2,"img",2),r.\u0275\u0275elementStart(3,"section",3)(4,"span",4),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"async"),r.\u0275\u0275pipe(7,"date"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(8,"article",1)(9,"section",5),r.\u0275\u0275template(10,Gn,8,9,"article",6)(11,jn,8,9,"article",7)(12,Vn,8,8,"article",8),r.\u0275\u0275elementEnd()()()),n&2&&(r.\u0275\u0275advance(2),r.\u0275\u0275property("src",o.environment.web.host+"/assets/logos/games/"+o.data.code+".png",r.\u0275\u0275sanitizeUrl),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,5,r.\u0275\u0275pipeBind1(7,7,o.data.date))),r.\u0275\u0275advance(5),r.\u0275\u0275conditional(10,o.bestGamePrizes.primerPremio?10:-1),r.\u0275\u0275advance(1),r.\u0275\u0275conditional(11,o.bestGamePrizes.segundoPremio?11:-1),r.\u0275\u0275advance(1),r.\u0275\u0275conditional(12,o.bestGamePrizes.reintegros?12:-1))},dependencies:[An,ft.NgClass,ft.AsyncPipe,et,X,Un,re.IonLabel,Nn],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block;width:100%;max-width:300px}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:var(--box-shadow);padding:10px;border:thin solid var(--ln-primary)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100%}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{width:25px;margin:0 15px 0 0}[_nghost-%COMP%]   .game-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .game-data-date[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right;font-size:14px;color:var(--ln-primary);font-weight:700}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .game-more-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:35px;font-size:14px}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{background:var(--ln-primary);color:#fff;padding:5px 10px;border-radius:20px;margin-right:10px}[_nghost-%COMP%]   .game-more-best-prize-first-quantity[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0});let t=i;return t})();import*as m from"@angular/core";import*as se from"@angular/router";import*as _t from"@ionic/angular";import*as ce from"@ngx-translate/core";var Kn=(t,i)=>i._id;function qn(t,i){if(t&1&&m.\u0275\u0275element(0,"app-game-ln",5),t&2){let d=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275property("data",d)}}function Wn(t,i){if(t&1){let d=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"span",4),m.\u0275\u0275listener("click",function(){let o=m.\u0275\u0275restoreView(d).$implicit,h=m.\u0275\u0275nextContext(2);return m.\u0275\u0275resetView(h.openGame(o))}),m.\u0275\u0275template(1,qn,1,1,"app-game-ln",5),m.\u0275\u0275elementEnd()}if(t&2){let d=i.$implicit,e=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275conditional(1,d.code===e.gamesCodes.LOTERIA_NACIONAL?1:-1)}}function Yn(t,i){if(t&1){let d=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"span",4),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(d);let n=m.\u0275\u0275nextContext(2);return m.\u0275\u0275resetView(n.loadMore())}),m.\u0275\u0275elementStart(1,"section",6)(2,"span",7),m.\u0275\u0275text(3),m.\u0275\u0275pipe(4,"translate"),m.\u0275\u0275elementEnd()()()}t&2&&(m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(4,1,"GLOBAL.LOAD_MORE")))}function Qn(t,i){if(t&1&&(m.\u0275\u0275elementStart(0,"section",2),m.\u0275\u0275repeaterCreate(1,Wn,2,1,"span",3,Kn),m.\u0275\u0275template(3,Yn,5,3,"span",3),m.\u0275\u0275elementEnd()),t&2){let d=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275repeater(d.games),m.\u0275\u0275advance(2),m.\u0275\u0275conditional(3,d.showLoadMore?3:-1)}}function Jn(t,i){t&1&&(m.\u0275\u0275elementStart(0,"section",8),m.\u0275\u0275element(1,"ion-icon",9),m.\u0275\u0275elementStart(2,"span",10),m.\u0275\u0275text(3),m.\u0275\u0275pipe(4,"translate"),m.\u0275\u0275elementEnd()()),t&2&&(m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(4,1,"GAMES.EMPTY_GAME_LIST")))}function Zn(t,i){t&1&&m.\u0275\u0275element(0,"app-loading")}var Xn=10,ae=20,le=(()=>{let i=class i{constructor(e,n,o){this.cdr=e,this.gameSrv=n,this.router=o,this.games=[],this.gamesCodes=x,this.loadingCount=0,this.showLoadMore=!0,this.limit=ae,this.offset=0}ionViewDidEnter(){return u(this,null,function*(){this.limit=ae,this.offset=0,this.games=[],this.showLoadMore=!0,yield this.getGamesByCodeOnlyWithPrizes(x.LOTERIA_NACIONAL),this.filterGamesWithPrizes(),this.sortGamesByDate(),this.cdr.detectChanges()})}openGame(e){this.gameSrv.openGame(e)}loadMore(){return u(this,null,function*(){this.offset+=Xn,yield this.getGamesByCodeOnlyWithPrizes(x.LOTERIA_NACIONAL)})}filterGamesWithPrizes(){this.games=this.games.filter(e=>e.data.info.prizes.length>0)}sortGamesByDate(){this.games.sort((e,n)=>{let o=new Date(e.date);return new Date(n.date).getTime()-o.getTime()})}getGamesByCodeOnlyWithPrizes(e){return u(this,null,function*(){try{this.showLoading();let n=yield this.gameSrv.getAllGamesByCodeOnlyWithPrizes(e,this.limit,this.offset);this.games=this.games.concat(n),n.length<this.limit&&(this.showLoadMore=!1),this.cdr.detectChanges(),this.dismissLoading()}catch(n){console.log("Error getting games by code",n),this.dismissLoading()}})}showLoading(){return u(this,null,function*(){let e=this.loadingCount;this.loadingCount++,e===0&&this.cdr.detectChanges()})}requestHideLoading(){return u(this,null,function*(){this.loadingCount--,this.loadingCount<=0&&this.dismissLoading()})}dismissLoading(){return u(this,null,function*(){this.loadingCount=0,this.cdr.detectChanges()})}};i.\u0275fac=function(n){return new(n||i)(m.\u0275\u0275directiveInject(m.ChangeDetectorRef),m.\u0275\u0275directiveInject(A),m.\u0275\u0275directiveInject(se.Router))},i.\u0275cmp=m.\u0275\u0275defineComponent({type:i,selectors:[["app-games"]],standalone:!0,features:[m.\u0275\u0275StandaloneFeature],decls:4,vars:2,consts:[["padding","","color","light"],["class","main-container"],[1,"main-container"],["class","main-container-element"],[1,"main-container-element",3,"click"],[3,"data"],[1,"main-container-element-load-more"],[1,"main-container-element-load-more-text"],[1,"empty-content"],["name","scan-circle-outline",1,"empty-content-icon"],[1,"empty-content-message"]],template:function(n,o){n&1&&(m.\u0275\u0275elementStart(0,"ion-content",0),m.\u0275\u0275template(1,Qn,4,1,"section",1)(2,Jn,5,3)(3,Zn,1,0,"app-loading"),m.\u0275\u0275elementEnd()),n&2&&(m.\u0275\u0275advance(1),m.\u0275\u0275conditional(1,o.games.length?1:2),m.\u0275\u0275advance(2),m.\u0275\u0275conditional(3,o.loadingCount>0?3:-1))},dependencies:[zn,Fn,$n,_t.IonContent,_t.IonIcon,Hn,ce.TranslatePipe,Ct,pt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-bottom:150px}[_nghost-%COMP%]   .main-container-element[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .main-container-element-load-more[_ngcontent-%COMP%]{justify-content:center;width:100%;max-width:290px;height:40px;background-color:transparent;border:solid thin var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;margin:5px;border-radius:7px;box-shadow:var(--box-shadow);padding:15px}[_nghost-%COMP%]   .main-container-element-load-more-text[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}[_nghost-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}[_nghost-%COMP%]   .empty-content-icon[_ngcontent-%COMP%]{width:120px;height:120px;color:gray}[_nghost-%COMP%]   .empty-content-message[_ngcontent-%COMP%]{color:gray;margin:20px}"],changeDetection:0});let t=i;return t})();import{CommonModule as ti}from"@angular/common";import"@angular/core";import{IonicModule as ei}from"@ionic/angular";import{ScrollingModule as ni}from"@angular/cdk/scrolling";import{TranslateModule as ii}from"@ngx-translate/core";import{FormsModule as oi}from"@angular/forms";import*as c from"@angular/core";import*as y from"@ionic/angular";import*as q from"@angular/forms";import*as kt from"@ngx-translate/core";import*as vt from"@angular/common";import*as W from"@angular/cdk/scrolling";var ri=()=>[vt.NgClass,vt.AsyncPipe,import("./chunk-BK64RPGE.js").then(t=>t.CustomCurrencyPipe),y.IonItem,y.IonLabel,y.IonList,W.CdkFixedSizeVirtualScroll,W.CdkVirtualForOf,W.CdkVirtualScrollViewport,kt.TranslatePipe];function ai(t,i){if(t&1&&c.\u0275\u0275element(0,"app-game-ln",2),t&2){let d=c.\u0275\u0275nextContext();c.\u0275\u0275property("data",d.game)}}function si(t,i){t&1&&c.\u0275\u0275element(0,"ion-spinner",7)}function ci(t,i){t&1&&c.\u0275\u0275element(0,"ion-icon",8)}function li(t,i){t&1&&c.\u0275\u0275element(0,"ion-icon",9)}function mi(t,i){t&1&&c.\u0275\u0275element(0,"ion-icon",8)}function di(t,i){t&1&&c.\u0275\u0275element(0,"ion-icon",10)}function pi(t,i){if(t&1){let d=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"ion-icon",11),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(d);let n=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(n.clearSearch())}),c.\u0275\u0275elementEnd()}}function hi(t,i){if(t&1&&(c.\u0275\u0275elementStart(0,"ion-item",16)(1,"ion-label",17),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"ion-label",18),c.\u0275\u0275text(5),c.\u0275\u0275pipe(6,"async"),c.\u0275\u0275pipe(7,"currency"),c.\u0275\u0275elementEnd()()),t&2){let d=i.$implicit,e=i.$index;c.\u0275\u0275advance(1),c.\u0275\u0275property("ngClass","result-list-prize-number-"+e),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,4,d.number)),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngClass","result-list-prize-quantity-"+e),c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(6,6,c.\u0275\u0275pipeBind2(7,8,d.quantity/100,"EUR")))}}function ui(t,i){if(t&1&&c.\u0275\u0275template(0,hi,8,11,"ion-item",15),t&2){let d=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("cdkVirtualForOf",d.results)("cdkVirtualForTrack",d.result)}}function gi(t,i){if(t&1&&(c.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",12)(1,"ion-list",13),c.\u0275\u0275template(2,ui,1,2,"ion-item",14),c.\u0275\u0275elementEnd()()),t&2){let d=c.\u0275\u0275nextContext();c.\u0275\u0275advance(2),c.\u0275\u0275conditional(2,d.results.length?2:-1)}}var me=(()=>{let i=class i{constructor(e,n){this.cdr=e,this.lnSrv=n,this.debounce=1e3,this.minSearchLength=3,this.environment=C,this.game={},this.gameCodes=x,this.results=[],this.searchValue="",this.bestGamePrizes={},this.showSearchLoading=!1}ionViewDidEnter(){this.searchValue="",this.game=history.state.game,this.formatPrizesNumbers(),this.results=this.game.data.info.prizes,this.cdr.detectChanges()}formatPrizesNumbers(){this.game.data.info.prizes.forEach(e=>{e.number=e.number.padStart(5,"?")})}handleInput(e){if(this.searchValue=e.target.value.toLowerCase(),this.results=this.game.data.info.prizes.filter(n=>n.number.toLowerCase().indexOf(this.searchValue)>-1),!this.results.length){let o=this.game.data.info.prizes.filter(h=>h.number.includes("?")).filter(h=>{let f=h.number.match(/\?/g)||[],M=h.number.slice(f.length),V=this.searchValue.slice(f.length);return M===V});this.results=Array.from(new Set([...this.results,...o]))}this.showSearchLoading=!1}clearSearch(){this.searchValue="",this.results=this.game.data.info.prizes}};i.\u0275fac=function(n){return new(n||i)(c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(gt))},i.\u0275cmp=c.\u0275\u0275defineComponent({type:i,selectors:[["app-game-detail"]],standalone:!0,features:[c.\u0275\u0275StandaloneFeature],decls:15,vars:8,consts:[[1,"container"],[1,"game"],[3,"data"],[1,"search"],["maxlength","5",3,"placeholder","ngModel","debounce","ionInput","ngModelChange","keypress"],["class","search-icon","slot","start","name","dots","aria-hidden","true"],["class","search-icon","slot","end","name","close","aria-hidden","true"],["slot","start","name","dots","aria-hidden","true",1,"search-icon"],["slot","start","name","search","aria-hidden","true",1,"search-icon"],["slot","start","name","checkmark-outline","aria-hidden","true",1,"search-icon"],["slot","start","name","checkmark-done-outline","aria-hidden","true",1,"search-icon"],["slot","end","name","close","aria-hidden","true",1,"search-icon",3,"click"],["itemSize","50","minBufferPx","900","maxBufferPx","1350"],[1,"result-list"],["class","result-list-prize"],["class","result-list-prize",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrack"],[1,"result-list-prize"],[3,"ngClass"],["slot","end",3,"ngClass"]],template:function(n,o){n&1&&(c.\u0275\u0275elementStart(0,"ion-content",0)(1,"section",1),c.\u0275\u0275template(2,ai,1,1,"app-game-ln",2),c.\u0275\u0275elementStart(3,"article",3)(4,"ion-input",4),c.\u0275\u0275listener("ionInput",function(f){return o.handleInput(f)})("ngModelChange",function(f){return o.searchValue=f})("keypress",function(){return o.showSearchLoading=!0}),c.\u0275\u0275pipe(5,"translate"),c.\u0275\u0275template(6,si,1,0,"ion-spinner",5)(7,ci,1,0)(8,li,1,0)(9,mi,1,0)(10,di,1,0)(11,pi,1,0,"ion-icon",6),c.\u0275\u0275elementEnd()(),c.\u0275\u0275template(12,gi,3,1),c.\u0275\u0275defer(13,12,ri),c.\u0275\u0275deferOnIdle(),c.\u0275\u0275elementEnd()()),n&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275conditional(2,o.game&&o.game._id?2:-1),c.\u0275\u0275advance(2),c.\u0275\u0275propertyInterpolate("placeholder",c.\u0275\u0275pipeBind1(5,6,"GLOBAL.SEARCH")),c.\u0275\u0275property("ngModel",o.searchValue)("debounce",o.debounce),c.\u0275\u0275advance(2),c.\u0275\u0275conditional(6,o.showSearchLoading?6:o.results.length&&!o.searchValue.length?7:o.results.length&&o.searchValue.length<5?8:!o.results.length&&o.searchValue.length?9:10),c.\u0275\u0275advance(5),c.\u0275\u0275conditional(11,o.searchValue.length?11:-1))},dependencies:[ti,ei,y.IonContent,y.IonIcon,y.IonInput,y.IonSpinner,y.TextValueAccessor,ni,oi,q.NgControlStatus,q.MaxLengthValidator,q.NgModel,ii,kt.TranslatePipe,Ct],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%;width:100%;overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:var(--color-background);box-shadow:#0000003d 0 3px 8px;width:100%;height:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%;padding:15px 15px 0}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:0 15px;background-color:#fff;border-radius:100px;margin:15px;border:thin solid var(--ion-color-dark);width:calc(100% - 30px)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:16px}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]{margin-bottom:56px;overflow-y:scroll;overscroll-behavior:none}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{width:50px;margin:0 15px 0 0}[_nghost-%COMP%]   .no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}"],changeDetection:0});let t=i;return t})();var de=[{path:"",component:Yt,children:[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:$t,children:[{path:"games",component:le},{path:"game-detail-ln",component:me},{path:"scan",component:Vt},{path:"tickets",component:Xt},{path:"menu",component:ne}]}]}];var pe={providers:[fi(de)]};import"@angular/core";import{CommonModule as Ci}from"@angular/common";import{RouterModule as _i}from"@angular/router";import*as Y from"@angular/core";import*as he from"@angular/router";var ue=(()=>{let i=class i{constructor(){this.title="lookttery-app"}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=Y.\u0275\u0275defineComponent({type:i,selectors:[["app-root"]],standalone:!0,features:[Y.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(n,o){n&1&&Y.\u0275\u0275element(0,"router-outlet")},dependencies:[Ci,_i,he.RouterOutlet]});let t=i;return t})();vi(ue,pe).catch(t=>console.error(t));
