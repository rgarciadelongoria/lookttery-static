import{c}from"./chunk-POLL2CVR.js";import{bootstrapApplication as ie}from"@angular/platform-browser";import{provideRouter as Xt}from"@angular/router";import{CommonModule as yt}from"@angular/common";import"@angular/core";import{RouterModule as Et}from"@angular/router";import{IonicModule as It}from"@ionic/angular";var C=function(n){return n.SHELL_DEVICE_GET_ID="shellDeviceGetId",n.SHELL_SCANNER_RESPONSE="shellScannerResponse",n.SHELL_SCANNER_START="shellScannerStart",n.SHELL_SCANNER_STOP="shellScannerStop",n.SHELL_SCANNER_ERROR="shellScannerError",n.SHELL_DEVICE_GET_ID_RESPONSE="shellDeviceGetIdResponse",n}(C||{}),B=function(n){return n.SHELL_LOADING_REMOTE_OK="shellLoadingRemoteOk",n}(B||{});import*as m from"@angular/core";import*as Z from"@angular/router";import"@angular/core";var h={api:{host:"https://api.lookttery.com/api"},web:{host:"http://www.lookttery.com"}};import{lastValueFrom as Q}from"rxjs";var y=function(n){return n.TOKEN="token",n}(y||{}),I=function(n){return n.SYSTEM="[SYSTEM]",n}(I||{}),b=function(n){return n.UUID_EMAIL_DOMAIN="@uuid.app",n}(b||{});var T=function(n){return n.CANCEL="CANCEL",n.ACCEPT="ACCEPT",n}(T||{});import*as w from"@angular/core";import*as Y from"@ionic/angular";import*as W from"@ngx-translate/core";import{HttpHeaders as St}from"@angular/common/http";import"@angular/core";import{catchError as vt,throwError as Ct}from"rxjs";import*as D from"@angular/core";import*as G from"@angular/common/http";import*as z from"@angular/router";import"@angular/core";import*as K from"@angular/core";var k=(()=>{let i=class i{constructor(){}setItem(t,e){localStorage.setItem(t,e)}getItem(t){try{return JSON.parse(localStorage.getItem(t)||"")}catch{return localStorage.getItem(t)}}removeItem(t){localStorage.removeItem(t)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=K.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var q=function(n){return n.UNAUTHORIZED="Unauthorized",n}(q||{}),f=(()=>{let i=class i{constructor(t,e,o){this.http=t,this.router=e,this.storageSrv=o}get(t,e){return e=this.addTokenToHeaders(e),this.http.get(t,e)}post(t,e,o){return o=this.addPostHeaders(o),o=this.addTokenToHeaders(o),this.http.post(t,e,o).pipe(this.handleErrorAndRedirect())}delete(t,e){return e=this.addTokenToHeaders(e),this.http.delete(t,e)}addTokenToHeaders(t){let o=[["Authorization",`Bearer ${this.storageSrv.getItem(y.TOKEN)?.token}`]];return this.addHeaders(o,t)}addPostHeaders(t){let e=[["Content-Type","application/json"]];return this.addHeaders(e,t)}addHeaders(t,e){return t.forEach(o=>{e=e||{},e.headers=e.headers||{},e.headers instanceof St?e.headers=e.headers.append(o[0],o[1]):typeof e.headers=="object"&&(e.headers[o[0]]=o[1])}),e||{}}handleErrorAndRedirect(){return vt((t,e)=>c(this,null,function*(){return t.status===401&&t.statusText===q.UNAUTHORIZED&&(this.storageSrv.removeItem(y.TOKEN),this.router.navigate(["/","main"])),Ct(t)}))}};i.\u0275fac=function(e){return new(e||i)(D.\u0275\u0275inject(G.HttpClient),D.\u0275\u0275inject(z.Router),D.\u0275\u0275inject(k))},i.\u0275prov=D.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var x=(()=>{let i=class i{constructor(t,e,o){this.alertController=t,this.translateSrv=e,this.apiSrv=o,this.apiTicket=`${h.api.host}/ticket`}createNewTicket(t){return c(this,null,function*(){let e={data:{info:{code:t}}};try{let o=this.apiSrv.post(this.apiTicket,e);return yield Q(o)}catch(o){throw o}})}deleteTicketById(t,e=!1){return c(this,null,function*(){let o=T.ACCEPT;if(e&&(o=yield this.presentAlertConfirmDeleteTicket()),o===T.ACCEPT)try{let a=yield this.apiSrv.delete(`${this.apiTicket}/${t}`);return yield Q(a)}catch(a){throw a}})}presentAlertConfirmDeleteTicket(){return c(this,null,function*(){let t=yield this.alertController.create({header:this.translateSrv.instant("TICKETS.DELETE_TICKET"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("TICKETS.DELETE_TICKET_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:T.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:T.ACCEPT,handler:()=>{}}]});yield t.present();let{role:e}=yield t.onDidDismiss();return e})}};i.\u0275fac=function(e){return new(e||i)(w.\u0275\u0275inject(Y.AlertController),w.\u0275\u0275inject(W.TranslateService),w.\u0275\u0275inject(f))},i.\u0275prov=w.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();function Tt(n,i){n&1&&m.\u0275\u0275element(0,"article",3)}function kt(n,i){n&1&&(m.\u0275\u0275elementStart(0,"article"),m.\u0275\u0275text(1,"Camera permission denied."),m.\u0275\u0275elementEnd())}var X=(()=>{let i=class i{handleShellScannerResponse(t){return c(this,null,function*(){yield this.onScannerResponse(t.detail?.response||{})})}handleShellScannerError(t){return c(this,null,function*(){yield this.onScannerError(t.detail?.response||{})})}constructor(t,e){this.router=t,this.ticketSrv=e,this.responses=[],this.hasPermission=!0}ngOnInit(){}ionViewDidEnter(){this.startScan()}ionViewWillLeave(){this.stopScan()}startScan(){this.hasPermission=!0,window.dispatchEvent(new CustomEvent(C.SHELL_SCANNER_START))}stopScan(){window.dispatchEvent(new CustomEvent(C.SHELL_SCANNER_STOP))}onScannerResponse(t){return c(this,null,function*(){let e=yield this.ticketSrv.createNewTicket(t.content||"");this.exit()})}onScannerError(t){return c(this,null,function*(){console.log(t),this.hasPermission=!1})}exit(){this.router.navigate(["/main/","tickets"])}};i.\u0275fac=function(e){return new(e||i)(m.\u0275\u0275directiveInject(Z.Router),m.\u0275\u0275directiveInject(x))},i.\u0275cmp=m.\u0275\u0275defineComponent({type:i,selectors:[["app-scan"]],hostBindings:function(e,o){e&1&&m.\u0275\u0275listener("shellScannerResponse",function(d){return o.handleShellScannerResponse(d)},!1,m.\u0275\u0275resolveWindow)("shellScannerError",function(d){return o.handleShellScannerError(d)},!1,m.\u0275\u0275resolveWindow)},standalone:!0,features:[m.\u0275\u0275StandaloneFeature],decls:4,vars:1,consts:[[1,"scan"],[1,"scan-screen"],["class","scan-screen-pointer square-div"],[1,"scan-screen-pointer","square-div"]],template:function(e,o){e&1&&(m.\u0275\u0275elementStart(0,"section",0)(1,"section",1),m.\u0275\u0275template(2,Tt,1,0,"article",2)(3,kt,2,0),m.\u0275\u0275elementEnd()()),e&2&&(m.\u0275\u0275advance(2),m.\u0275\u0275conditional(2,o.hasPermission?2:3))},dependencies:[yt,Et,It],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .scan[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100vh;margin:0}[_nghost-%COMP%]   .scan-controls[_ngcontent-%COMP%]{width:100%;padding:20px}[_nghost-%COMP%]   .scan-controls[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:44px}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}[_nghost-%COMP%]   .scan-screen-pointer[_ngcontent-%COMP%]{width:calc(100% - 40px);max-width:400px;height:calc(100% - 40px);max-height:400px;background-color:#00000026;border:10px rgba(255,217,0,.55) solid;border-radius:15px}"],changeDetection:0});let n=i;return n})();import{CommonModule as Dt}from"@angular/common";import"@angular/core";import{RouterModule as wt}from"@angular/router";import{IonicModule as xt}from"@ionic/angular";import{TranslateModule as _t}from"@ngx-translate/core";import*as s from"@angular/core";import*as g from"@ionic/angular";import*as tt from"@ngx-translate/core";var Mt=["mainTabs"],et=(()=>{let i=class i{constructor(){}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.mainTabs.select("scan")},500)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.\u0275\u0275defineComponent({type:i,selectors:[["app-main"]],viewQuery:function(e,o){if(e&1&&s.\u0275\u0275viewQuery(Mt,5),e&2){let a;s.\u0275\u0275queryRefresh(a=s.\u0275\u0275loadQuery())&&(o.mainTabs=a.first)}},standalone:!0,features:[s.\u0275\u0275StandaloneFeature],decls:13,vars:3,consts:[["mainTabs",""],["slot","bottom"],["tab","scan"],["name","scan-outline"],["tab","tickets"],["name","wallet-outline"]],template:function(e,o){e&1&&(s.\u0275\u0275element(0,"ion-router-outlet"),s.\u0275\u0275elementStart(1,"ion-tabs",null,0)(3,"ion-tab-bar",1)(4,"ion-tab-button",2),s.\u0275\u0275element(5,"ion-icon",3),s.\u0275\u0275elementStart(6,"span"),s.\u0275\u0275text(7),s.\u0275\u0275pipe(8,"translate"),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(9,"ion-tab-button",4),s.\u0275\u0275element(10,"ion-icon",5),s.\u0275\u0275elementStart(11,"span"),s.\u0275\u0275text(12,"Tickets"),s.\u0275\u0275elementEnd()()()()),e&2&&(s.\u0275\u0275advance(7),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(8,1,"MAIN.SCAN_NOW")))},dependencies:[Dt,wt,xt,g.IonIcon,g.IonTabBar,g.IonTabButton,g.IonTabs,g.IonRouterOutlet,_t,tt.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let n=i;return n})();import{CommonModule as Rt}from"@angular/common";import{HttpClient as jt,HttpClientModule as Nt}from"@angular/common/http";import"@angular/core";import{NavigationEnd as Ut,RouterModule as Ht}from"@angular/router";import{filter as Bt}from"rxjs";import{IonicModule as $t}from"@ionic/angular";import"@angular/core";import{lastValueFrom as it}from"rxjs";import*as O from"@angular/core";import"@angular/core";import{lastValueFrom as F}from"rxjs";import*as M from"@angular/core";var Ot=1e3*60*60*1.5,v=(()=>{let i=class i{constructor(t,e){this.apiSrv=t,this.storageSrv=e,this.apiUser=`${h.api.host}/user`}createUserByUuid(t){return c(this,null,function*(){let e={email:`${t}${b.UUID_EMAIL_DOMAIN}`,password:t,name:t};try{let o=this.apiSrv.post(this.apiUser,e);return yield F(o)}catch(o){throw o}})}loginByUuid(t){return c(this,null,function*(){return yield this.login(`${t}${b.UUID_EMAIL_DOMAIN}`,t)})}login(t,e){return c(this,null,function*(){let o={email:t,password:e};try{let a=this.apiSrv.post(`${this.apiUser}/login`,o),d=yield F(a);if(d.token){let gt={token:d.token,date:Date.now()};this.storageSrv.setItem(y.TOKEN,JSON.stringify(gt)),console.info(I.SYSTEM,`${d.token}`)}return d}catch(a){throw a}})}checkTokenExpiration(t){return c(this,null,function*(){let o=this.storageSrv.getItem(y.TOKEN)?.date||0;Date.now()-o>Ot&&(yield this.loginByUuid(t))})}getAllTicketsByUser(){return c(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiUser}/ticket/all?limit=100&offset=0`);return yield F(t)}catch{return[]}})}};i.\u0275fac=function(e){return new(e||i)(M.\u0275\u0275inject(f),M.\u0275\u0275inject(k))},i.\u0275prov=M.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();var L=(()=>{let i=class i{constructor(t,e){this.apiSrv=t,this.userSrv=e,this.uuid="",this.apiUuid=`${h.api.host}/uuid`,window.addEventListener(C.SHELL_DEVICE_GET_ID_RESPONSE,o=>c(this,null,function*(){yield this.onDeviceIdResponse(o.detail?.response||{})}))}init(){this.requestDeviceId()}getUuid(){return this.uuid}requestDeviceId(){window.dispatchEvent(new CustomEvent(C.SHELL_DEVICE_GET_ID))}onDeviceIdResponse(t){return c(this,null,function*(){this.uuid=t||"",(yield this.getUuidData())?(yield this.userSrv.loginByUuid(this.uuid),console.info(I.SYSTEM,`UUID ${this.uuid} was registered.`)):yield this.registerUuid()})}getUuidData(){return c(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiUuid}/${this.uuid}`);return yield it(t)}catch{return null}})}registerUuid(){return c(this,null,function*(){let t=yield this.userSrv.createUserByUuid(this.uuid);if((yield this.userSrv.loginByUuid(this.uuid)).token){let o={uuid:this.uuid,user:t._id};try{let a=this.apiSrv.post(this.apiUuid,o),d=yield it(a);this.uuid=d.uuid,console.info(I.SYSTEM,`UUID ${this.uuid} has been registered.`)}catch(a){console.error(a)}}})}};i.\u0275fac=function(e){return new(e||i)(O.\u0275\u0275inject(f),O.\u0275\u0275inject(v))},i.\u0275prov=O.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();import{TranslateLoader as Ft,TranslateModule as Vt}from"@ngx-translate/core";import"@angular/core";import{catchError as Pt}from"rxjs/operators";import*as A from"@angular/core";import*as nt from"@angular/common/http";var rt=(()=>{let i=class i{constructor(t){this.httpClient=t}getTranslation(t){let e=h.web.host+`/assets/i18n/${t}.json`;return this.httpClient.get(e).pipe(Pt(o=>(console.log("Error loading translation file",o),this.httpClient.get(h.web.host+"/assets/i18n/es.json"))))}};i.\u0275fac=function(e){return new(e||i)(A.\u0275\u0275inject(nt.HttpClient))},i.\u0275prov=A.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac});let n=i;return n})();import"@angular/core";import{lastValueFrom as Lt}from"rxjs";import*as R from"@angular/core";var j=(()=>{let i=class i{constructor(t){this.apiSrv=t,this.apiGame=`${h.api.host}/game`}getAllTicketsPrizesByUser(){return c(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiGame}/ticket/all?limit=100&offset=0`);return yield Lt(t)}catch{return[]}})}};i.\u0275fac=function(e){return new(e||i)(R.\u0275\u0275inject(f))},i.\u0275prov=R.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let n=i;return n})();import*as u from"@angular/core";import*as ot from"@ngx-translate/core";import*as N from"@angular/router";var at=(()=>{let i=class i{constructor(t,e,o,a,d){this.translateSrv=t,this.uuidSrv=e,this.userSrv=o,this.storageSrv=a,this.router=d,this.translateSrv.setDefaultLang("en"),this.translateSrv.use("en")}ngOnInit(){this.setNoErrorLoadingRemote(),this.importStyles(),this.importScripts(),this.uuidSrv.init(),this.router.events.pipe(Bt(t=>t instanceof Ut)).subscribe(t=>{let e=this.uuidSrv.getUuid();e?this.userSrv.checkTokenExpiration(e):this.uuidSrv.init()})}setNoErrorLoadingRemote(){this.storageSrv.setItem(B.SHELL_LOADING_REMOTE_OK,!0)}importScripts(){let t=["https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js","https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.esm.js"],e=document.head;t.forEach(o=>{let a=document.createElement("script");a.type="module",a.src=o,a.async=!1,document.head.appendChild(a),e.insertBefore(a,e.firstElementChild)})}importStyles(){let t=["https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"],e=document.head;t.forEach(o=>{let a=document.createElement("link");a.rel="stylesheet",a.href=o,e.insertBefore(a,e.firstElementChild)})}};i.\u0275fac=function(e){return new(e||i)(u.\u0275\u0275directiveInject(ot.TranslateService),u.\u0275\u0275directiveInject(L),u.\u0275\u0275directiveInject(v),u.\u0275\u0275directiveInject(k),u.\u0275\u0275directiveInject(N.Router))},i.\u0275cmp=u.\u0275\u0275defineComponent({type:i,selectors:[["app-remote-app"]],standalone:!0,features:[u.\u0275\u0275ProvidersFeature([f,L,v,x,j,Vt.forRoot({loader:{provide:Ft,useClass:rt,deps:[jt]}}).providers]),u.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(e,o){e&1&&u.\u0275\u0275element(0,"router-outlet")},dependencies:[Rt,Ht,N.RouterOutlet,$t,Nt],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let n=i;return n})();import{CommonModule as qt}from"@angular/common";import"@angular/core";import{RouterModule as Qt}from"@angular/router";import{IonicModule as Yt}from"@ionic/angular";import{CommonModule as Kt}from"@angular/common";import"@angular/core";import{IonicModule as Gt}from"@ionic/angular";import*as l from"@angular/core";import*as st from"@ngx-translate/core";import*as S from"@ionic/angular";var ct=(()=>{let i=class i{constructor(t,e){this.cdr=t,this.translateSrv=e}changeLanguage(t){this.translateSrv.use(t),this.cdr.detectChanges()}};i.\u0275fac=function(e){return new(e||i)(l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(st.TranslateService))},i.\u0275cmp=l.\u0275\u0275defineComponent({type:i,selectors:[["app-header"]],standalone:!0,features:[l.\u0275\u0275StandaloneFeature],decls:9,vars:0,consts:[["slot","end"],[3,"click"]],template:function(e,o){e&1&&(l.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),l.\u0275\u0275text(3,"Lookttery"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"ion-buttons",0)(5,"ion-button",1),l.\u0275\u0275listener("click",function(){return o.changeLanguage("en")}),l.\u0275\u0275text(6,"EN"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(7,"ion-button",1),l.\u0275\u0275listener("click",function(){return o.changeLanguage("es")}),l.\u0275\u0275text(8,"ES"),l.\u0275\u0275elementEnd()()()())},dependencies:[Kt,Gt,S.IonButton,S.IonButtons,S.IonHeader,S.IonTitle,S.IonToolbar],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let n=i;return n})();import"@angular/core";import{BehaviorSubject as zt}from"rxjs";import*as U from"@angular/core";import*as mt from"@ngx-translate/core";var lt=(()=>{let i=class i{constructor(t){this.translateService=t}transform(t){let e=new Date(t),o={weekday:"long",year:"numeric",month:"long",day:"numeric"},a=e.toLocaleDateString(this.translateService.currentLang,o),d=new zt(a);return this.translateService.onLangChange.subscribe(()=>(a=e.toLocaleDateString(this.translateService.currentLang,o),d.next(a))),d}};i.\u0275fac=function(e){return new(e||i)(U.\u0275\u0275directiveInject(mt.TranslateService,16))},i.\u0275pipe=U.\u0275\u0275definePipe({name:"date",type:i,pure:!0,standalone:!0});let n=i;return n})();import*as r from"@angular/core";import*as H from"@angular/common";import*as p from"@ionic/angular";var Wt=(n,i)=>i.ticket._id;function Jt(n,i){if(n&1){let E=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ion-item-sliding")(1,"ion-item",2)(2,"ion-label",3)(3,"ion-note",4),r.\u0275\u0275text(4),r.\u0275\u0275pipe(5,"async"),r.\u0275\u0275pipe(6,"date"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"section",5),r.\u0275\u0275element(8,"ion-img",6),r.\u0275\u0275elementStart(9,"strong",7),r.\u0275\u0275text(10),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(11,"span",8),r.\u0275\u0275text(12),r.\u0275\u0275pipe(13,"currency"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(14,"ion-item-options",9)(15,"ion-item-option",10),r.\u0275\u0275listener("click",function(){let o=r.\u0275\u0275restoreView(E).$implicit,a=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(a.deleteTicketById(o.ticket._id||""))}),r.\u0275\u0275element(16,"ion-icon",11),r.\u0275\u0275elementEnd()()()}if(n&2){let E=i.$implicit,t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(1),r.\u0275\u0275property("button",!0),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(5,5,r.\u0275\u0275pipeBind1(6,7,E.ticket.date))),r.\u0275\u0275advance(4),r.\u0275\u0275property("src",t.environment.web.host+"/assets/logos/games/"+E.ticket.code+".png"),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(E.ticket.data.info.number),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind2(13,9,E.prize.quantity/100,"EUR"))}}function Zt(n,i){n&1&&(r.\u0275\u0275elementStart(0,"p"),r.\u0275\u0275text(1,"Empty list of tickets"),r.\u0275\u0275elementEnd())}var pt=(()=>{let i=class i{constructor(t,e,o,a){this.cdr=t,this.userSrv=e,this.ticketSrv=o,this.gameSrv=a,this.tickets=[],this.environment=h}ngOnInit(){}ionViewDidEnter(){return c(this,null,function*(){yield this.getUserTickets(),this.sortTicketsByDate()})}sortTicketsByDate(){this.tickets.sort((t,e)=>{let o=new Date(t.ticket.date);return new Date(e.ticket.date).getTime()-o.getTime()}),this.cdr.detectChanges()}deleteTicketById(t){return c(this,null,function*(){yield this.ticketSrv.deleteTicketById(t,!0),yield this.getUserTickets()})}getUserTickets(){return c(this,null,function*(){this.tickets=yield this.gameSrv.getAllTicketsPrizesByUser(),this.cdr.detectChanges(),console.log(this.tickets)})}};i.\u0275fac=function(e){return new(e||i)(r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(v),r.\u0275\u0275directiveInject(x),r.\u0275\u0275directiveInject(j))},i.\u0275cmp=r.\u0275\u0275defineComponent({type:i,selectors:[["app-tickets"]],standalone:!0,features:[r.\u0275\u0275StandaloneFeature],decls:6,vars:1,consts:[["padding","","color","light"],[1,"ticket-list"],[1,"ticket-item",3,"button"],[1,"ticket-item-text"],["color","medium"],[1,"game-item-data"],["aria-hidden","true","slot","start","alt","",1,"game-item-img",3,"src"],[1,"game-item-data-number"],[1,"game-item-prize"],["slot","end"],["color","danger","expandable","true",3,"click"],["slot","icon-only","name","trash"]],template:function(e,o){e&1&&(r.\u0275\u0275element(0,"app-header"),r.\u0275\u0275elementStart(1,"ion-content",0)(2,"ion-list",1),r.\u0275\u0275repeaterCreate(3,Jt,17,12,"ion-item-sliding",null,Wt,!1,Zt,2,0),r.\u0275\u0275elementEnd()()),e&2&&(r.\u0275\u0275advance(3),r.\u0275\u0275repeater(o.tickets))},dependencies:[qt,H.AsyncPipe,H.CurrencyPipe,Qt,Yt,p.IonContent,p.IonIcon,p.IonImg,p.IonItem,p.IonItemOption,p.IonItemOptions,p.IonItemSliding,p.IonLabel,p.IonList,p.IonNote,ct,lt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   .ticket-list[_ngcontent-%COMP%]{margin-bottom:150px}[_nghost-%COMP%]   .ticket-list[_ngcontent-%COMP%]   .ticket-item[_ngcontent-%COMP%]   .ticket-item-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .ticket-list[_ngcontent-%COMP%]   .ticket-item[_ngcontent-%COMP%]   .ticket-item-text[_ngcontent-%COMP%]   .game-item-img[_ngcontent-%COMP%]{width:40px;height:40px}[_nghost-%COMP%]   .ticket-list[_ngcontent-%COMP%]   .ticket-item[_ngcontent-%COMP%]   .ticket-item-text[_ngcontent-%COMP%]   .game-item-data[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:calc(100% - 45px);align-items:center;margin-top:12px}[_nghost-%COMP%]   .ticket-list[_ngcontent-%COMP%]   .ticket-item[_ngcontent-%COMP%]   .ticket-item-text[_ngcontent-%COMP%]   .game-item-data[_ngcontent-%COMP%]   .game-item-data-number[_ngcontent-%COMP%]{letter-spacing:15px;font-size:30px;display:block;width:100%;padding-left:12px}"],changeDetection:0});let n=i;return n})();var dt=[{path:"",component:at,children:[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:et,children:[{path:"scan",component:X},{path:"tickets",component:pt}]}]}];var ut={providers:[Xt(dt)]};import"@angular/core";import{CommonModule as te}from"@angular/common";import{RouterModule as ee}from"@angular/router";import*as _ from"@angular/core";import*as ht from"@angular/router";var ft=(()=>{let i=class i{constructor(){this.title="lookttery-app"}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=_.\u0275\u0275defineComponent({type:i,selectors:[["app-root"]],standalone:!0,features:[_.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(e,o){e&1&&_.\u0275\u0275element(0,"router-outlet")},dependencies:[te,ee,ht.RouterOutlet]});let n=i;return n})();ie(ft,ut).catch(n=>console.error(n));
