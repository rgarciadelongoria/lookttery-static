import{a as $}from"./chunk-HRWXZQVS.js";import{c as _}from"./chunk-RGY6OTGO.js";import{bootstrapApplication as Go}from"@angular/platform-browser";import{provideRouter as Do,withHashLocation as Ro}from"@angular/router";import{CommonModule as gn}from"@angular/common";import"@angular/core";import{RouterModule as un}from"@angular/router";import{IonicModule as fn}from"@ionic/angular";var H=function(t){return t.SHELL_VERSION="shellVersion",t.SHELL_PUSH_TOKEN="shellPushToken",t}(H||{}),D=function(t){return t.SHELL_DEVICE_GET_ID="shellDeviceGetId",t.SHELL_DEVICE_GET_ID_RESPONSE="shellDeviceGetIdResponse",t.SHELL_PUSH_REQUEST_PERMISSION="shellPushRequestPermission",t.SHELL_PUSH_REQUEST_PERMISSION_RESPONSE="shellPushRequestPermissionResponse",t.SHELL_PUSH_REGISTER="shellPushRegister",t.SHELL_PUSH_REGISTER_RESPONSE="shellPushRegisterResponse",t.SHELL_SCANNER_RESPONSE="shellScannerResponse",t.SHELL_SCANNER_REQUEST_PERMISSION="shellScannerRequestPermission",t.SHELL_SCANNER_REQUEST_PERMISSION_RESPONSE="shellScannerRequestPermissionResponse",t.SHELL_SCANNER_START="shellScannerStart",t.SHELL_SCANNER_STOP="shellScannerStop",t.SHELL_SCANNER_ERROR="shellScannerError",t.SHELL_BROWSER_OPEN="shellBrowserOpen",t.SHELL_BROWSER_OPEN_RESPONSE="shellBrowserOpenResponse",t}(D||{}),Vt=function(t){return t.SHELL_LOADING_REMOTE_OK="shellLoadingRemoteOk",t}(Vt||{});var x=function(t){return t.APP_SYNC_MARK="appSyncMark",t.APP_UUID="appUuid",t.LANGUAGE="language",t.ONBOARDING="onboarding",t.TAB_NAVIGATION="tabNavigation",t.TOKEN="token",t.RELOAD_TICKETS="reloadTickets",t.GAMES="games",t}(x||{}),N=function(t){return t.GAMES="games",t.SCAN="scan",t.TICKETS="tickets",t.MENU="menu",t}(N||{}),R=function(t){return t.EN="en",t.ES="es",t.CAT="cat",t.GL="gl",t.EU="eu",t}(R||{}),V=function(t){return t.SYSTEM="[SYSTEM]",t}(V||{}),F=function(t){return t.UUID_EMAIL_DOMAIN="@uuid.app",t.UUID_QR_CODE="app-uuid-code:",t.GAME_CODES="GameCodes",t}(F||{}),P=function(t){return t.LOTERIA_NACIONAL="ln",t.LA_PRIMITIVA="pr",t}(P||{}),O=function(t){return t.CANCEL="CANCEL",t.ACCEPT="ACCEPT",t}(O||{});import{TranslateModule as _n}from"@ngx-translate/core";import{CommonModule as Be}from"@angular/common";import{EventEmitter as Ge}from"@angular/core";var S={api:{host:"https://api.lookttery.com/api"},web:{host:"https://lookttery.com"}};import"@angular/core";import{BehaviorSubject as De}from"rxjs";import*as _t from"@angular/core";import*as Qt from"@ngx-translate/core";var q=(()=>{let i=class i{constructor(e){this.translateService=e}transform(e){let n=new Date(e),o={weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"},C=n.toLocaleDateString(this.translateService.currentLang,o),v=new De(C);return this.translateService.onLangChange.subscribe(()=>{C=n.toLocaleDateString(this.translateService.currentLang,o),v.next(C)}),v}};i.\u0275fac=function(n){return new(n||i)(_t.\u0275\u0275directiveInject(Qt.TranslateService,16))},i.\u0275pipe=_t.\u0275\u0275definePipe({name:"date",type:i,pure:!0,standalone:!0});let t=i;return t})();import{IonicModule as Ue}from"@ionic/angular";import{TranslateModule as je}from"@ngx-translate/core";import*as c from"@angular/core";import"@angular/core";import{lastValueFrom as Jt}from"rxjs";import*as et from"@angular/core";import*as te from"@ionic/angular";import*as ee from"@ngx-translate/core";import{HttpHeaders as Re}from"@angular/common/http";import"@angular/core";import{catchError as Ne}from"rxjs";import*as tt from"@angular/core";import*as Yt from"@angular/common/http";import*as Zt from"@angular/router";import"@angular/core";import*as Wt from"@angular/core";var y=(()=>{let i=class i{constructor(){}setItem(e,n){localStorage.setItem(e,n)}getItem(e){try{return JSON.parse(localStorage.getItem(e)||"")}catch{return localStorage.getItem(e)}}removeItem(e){localStorage.removeItem(e)}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=Wt.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var Xt=function(t){return t.UNAUTHORIZED="Unauthorized",t}(Xt||{}),G=(()=>{let i=class i{constructor(e,n,o){this.http=e,this.router=n,this.storageSrv=o}get(e,n){return n=this.addTokenToHeaders(n),this.http.get(e,n)}post(e,n,o){return o=this.addPostHeaders(o),o=this.addTokenToHeaders(o),this.http.post(e,n,o).pipe(this.handleErrorAndRedirect())}delete(e,n){return n=this.addTokenToHeaders(n),this.http.delete(e,n)}addTokenToHeaders(e){let n=this.storageSrv.getItem(x.TOKEN),o=[["Authorization",`Bearer ${n==null?void 0:n.token}`]];return this.addHeaders(o,e)}addPostHeaders(e){let n=[["Content-Type","application/json"]];return this.addHeaders(n,e)}addHeaders(e,n){return e.forEach(o=>{n=n||{},n.headers=n.headers||{},n.headers instanceof Re?n.headers=n.headers.append(o[0],o[1]):typeof n.headers=="object"&&(n.headers[o[0]]=o[1])}),n||{}}handleErrorAndRedirect(){return Ne((e,n)=>_(this,null,function*(){throw e.status===401&&e.statusText===Xt.UNAUTHORIZED&&(this.storageSrv.removeItem(x.TOKEN),this.router.navigate(["/","main"])),e}))}};i.\u0275fac=function(n){return new(n||i)(tt.\u0275\u0275inject(Yt.HttpClient),tt.\u0275\u0275inject(Zt.Router),tt.\u0275\u0275inject(y))},i.\u0275prov=tt.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var K=(()=>{let i=class i{constructor(e,n,o){this.alertController=e,this.translateSrv=n,this.apiSrv=o,this.apiTicket=`${S.api.host}/ticket`}createNewTicket(e){return _(this,null,function*(){let n={data:{info:{code:e}}};try{let o=yield this.apiSrv.post(this.apiTicket,n);return yield Jt(o)}catch(o){throw o}})}deleteTicketById(e){return _(this,null,function*(){try{let n=yield this.apiSrv.delete(`${this.apiTicket}/${e}`);return yield Jt(n)}catch(n){throw n}})}presentAlertConfirmDeleteTicket(){return _(this,null,function*(){let e=yield this.alertController.create({header:this.translateSrv.instant("TICKETS.DELETE_TICKET"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("TICKETS.DELETE_TICKET_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:O.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:O.ACCEPT,handler:()=>{}}]});yield e.present();let{role:n}=yield e.onDidDismiss();return n})}};i.\u0275fac=function(n){return new(n||i)(et.\u0275\u0275inject(te.AlertController),et.\u0275\u0275inject(ee.TranslateService),et.\u0275\u0275inject(G))},i.\u0275prov=et.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import"@angular/core";import{lastValueFrom as dt}from"rxjs";import*as pt from"@angular/core";import*as ne from"@angular/router";var L=(()=>{let i=class i{constructor(e,n){this.apiSrv=e,this.router=n,this.apiGame=`${S.api.host}/game`}getAllGamesByCodeOnlyWithPrizes(e,n=10,o=0,C=0,v=0){return _(this,null,function*(){try{let b=this.apiSrv.get(`${this.apiGame}?limit=${n}&offset=${o}&code=${e}&onlyWithPrizes=true&minDays=${C}&maxDays=${v}`);return yield dt(b)}catch{return[]}})}getAllTicketsPrizesByUser(e=10,n=0){return _(this,null,function*(){try{let o=this.apiSrv.get(`${this.apiGame}/ticket/all?limit=${e}&offset=${n}`);return yield dt(o)}catch{return[]}})}getTicketPrizeByTicketId(e){return _(this,null,function*(){try{let n=this.apiSrv.get(`${this.apiGame}/ticket/${e}`);return yield dt(n)}catch(n){throw n}})}openGame(e,n=""){e.data.info.prizes.length&&this.router.navigate(["/main/","game-detail-"+e.code],{state:{game:e,number:n}})}checkPrizeByNumberLN(e,n){return _(this,null,function*(){try{let o=this.apiSrv.get(`${this.apiGame}/ln/${e}/${n}`);return yield dt(o)}catch(o){throw o}})}checkPrizeByNumberPR(e,n){return _(this,null,function*(){try{let o=this.apiSrv.get(`${this.apiGame}/pr/${e}/${n}`);return yield dt(o)}catch(o){throw o}})}};i.\u0275fac=function(n){return new(n||i)(pt.\u0275\u0275inject(G),pt.\u0275\u0275inject(ne.Router))},i.\u0275prov=pt.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import*as Ct from"@angular/common";import*as it from"@ionic/angular";import*as ie from"@ngx-translate/core";function Ve(t,i){t&1&&(c.\u0275\u0275elementStart(0,"section",1)(1,"article",2),c.\u0275\u0275element(2,"ion-skeleton-text",3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"section",4),c.\u0275\u0275element(4,"ion-skeleton-text",5)(5,"ion-skeleton-text",6),c.\u0275\u0275elementEnd()()),t&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275property("animated",!0),c.\u0275\u0275advance(2),c.\u0275\u0275property("animated",!0),c.\u0275\u0275advance(1),c.\u0275\u0275property("animated",!0))}function ze(t,i){if(t&1){let r=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"section",15)(1,"ion-icon",16),c.\u0275\u0275listener("click",function(n){c.\u0275\u0275restoreView(r);let o=c.\u0275\u0275nextContext(2);return o.deleteTicketById(o.data.ticket._id||""),c.\u0275\u0275resetView(n.stopPropagation())}),c.\u0275\u0275elementEnd()()}}function He(t,i){t&1&&c.\u0275\u0275element(0,"ion-spinner",17)}function Fe(t,i){if(t&1&&(c.\u0275\u0275elementStart(0,"span",18),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"async"),c.\u0275\u0275pipe(3,"currency"),c.\u0275\u0275elementEnd()),t&2){let r=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(2,1,c.\u0275\u0275pipeBind2(3,3,r.prize.quantity/100,"EUR")))}}function $e(t,i){t&1&&(c.\u0275\u0275elementStart(0,"span",18),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"translate"),c.\u0275\u0275elementEnd()),t&2&&(c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(2,1,"GAMES.DRAW_PENDING")))}var qe=t=>({"has-actions":t});function Ke(t,i){if(t&1&&(c.\u0275\u0275template(0,ze,2,0,"section",7),c.\u0275\u0275elementStart(1,"section",8)(2,"article",2),c.\u0275\u0275element(3,"img",9)(4,"img",10),c.\u0275\u0275elementStart(5,"span",11),c.\u0275\u0275text(6),c.\u0275\u0275pipe(7,"async"),c.\u0275\u0275pipe(8,"date"),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(9,"section",4)(10,"span",12)(11,"span",13),c.\u0275\u0275text(12),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(13,"span",13),c.\u0275\u0275text(14),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(15,"span",13),c.\u0275\u0275text(16),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(17,"span",13),c.\u0275\u0275text(18),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(19,"span",13),c.\u0275\u0275text(20),c.\u0275\u0275elementEnd()(),c.\u0275\u0275template(21,He,1,0,"ion-spinner",14)(22,Fe,4,6)(23,$e,3,3),c.\u0275\u0275elementEnd()()),t&2){let r=c.\u0275\u0275nextContext();c.\u0275\u0275conditional(0,r.showActions?0:-1),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(15,qe,r.showActions)),c.\u0275\u0275advance(2),c.\u0275\u0275property("src",r.environment.web.host+"/assets/logos/games/"+r.data.ticket.code+"-title.svg",c.\u0275\u0275sanitizeUrl),c.\u0275\u0275advance(1),c.\u0275\u0275property("src",r.environment.web.host+"/assets/logos/games/"+r.data.ticket.code+".svg",c.\u0275\u0275sanitizeUrl),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(7,11,c.\u0275\u0275pipeBind1(8,13,r.data.ticket.date))),c.\u0275\u0275advance(6),c.\u0275\u0275textInterpolate(r.data.ticket.data.info.number==null?null:r.data.ticket.data.info.number.toString()[0]),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(r.data.ticket.data.info.number==null?null:r.data.ticket.data.info.number.toString()[1]),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(r.data.ticket.data.info.number==null?null:r.data.ticket.data.info.number.toString()[2]),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(r.data.ticket.data.info.number==null?null:r.data.ticket.data.info.number.toString()[3]),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(r.data.ticket.data.info.number==null?null:r.data.ticket.data.info.number.toString()[4]),c.\u0275\u0275advance(1),c.\u0275\u0275conditional(21,r.showSearchLoading?21:r.prize.number?22:23)}}function Qe(t,i){t&1&&(c.\u0275\u0275elementStart(0,"p"),c.\u0275\u0275text(1,"Game not available"),c.\u0275\u0275elementEnd())}var vt=(()=>{let i=class i{constructor(e,n,o){this.ticketSrv=e,this.gameSrv=n,this.cdr=o,this.skeleton=!1,this.showActions=!0,this.deleteTicketEvent=new Ge,this.environment=S,this.gameCodes=P,this.prize={},this.showSearchLoading=!1}ngOnChanges(){this.getPrize()}deleteTicketById(e){return _(this,null,function*(){if((yield this.ticketSrv.presentAlertConfirmDeleteTicket())===O.ACCEPT){this.skeleton=!0;let o=yield this.ticketSrv.deleteTicketById(e);o&&this.deleteTicketEvent.emit(o)}})}getPrize(){return _(this,null,function*(){var o,C,v,b,w,E,Y,lt;this.showSearchLoading=!0;let e=((b=(v=(C=(o=this.data)==null?void 0:o.ticket)==null?void 0:C.data)==null?void 0:v.info)==null?void 0:b.number)||"",n=((lt=(Y=(E=(w=this.data)==null?void 0:w.game)==null?void 0:E.data)==null?void 0:Y.info)==null?void 0:lt.gameId)||"";if(e&&n)try{let Z=yield this.gameSrv.checkPrizeByNumberLN(n||"",e);this.prize=Z[0]||{}}catch(Z){console.error(Z),this.prize={}}else this.prize={};this.showSearchLoading=!1,this.cdr.detectChanges()})}};i.\u0275fac=function(n){return new(n||i)(c.\u0275\u0275directiveInject(K),c.\u0275\u0275directiveInject(L),c.\u0275\u0275directiveInject(c.ChangeDetectorRef))},i.\u0275cmp=c.\u0275\u0275defineComponent({type:i,selectors:[["app-ticket-ln"]],inputs:{data:"data",skeleton:"skeleton",showActions:"showActions"},outputs:{deleteTicketEvent:"deleteTicketEvent"},standalone:!0,features:[c.\u0275\u0275NgOnChangesFeature,c.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[["class","ticket skeleton has-actions"],[1,"ticket","skeleton","has-actions"],[1,"ticket-title"],[1,"skeleton-normal",3,"animated"],[1,"ticket-data"],[1,"skeleton-big",3,"animated"],[3,"animated"],["class","ticket-actions"],[1,"ticket",3,"ngClass"],["aria-hidden","true","slot","start","alt","",1,"ticket-title-img-title",3,"src"],["aria-hidden","true",1,"ticket-title-img",3,"src"],["color","medium",1,"ticket-title-date"],[1,"ticket-data-number"],[1,"ticket-data-number-character"],["class","ticket-data-spinner","name","dots"],[1,"ticket-actions"],["color","danger","name","remove-circle",1,"ticket-actions-delete",3,"click"],["name","dots",1,"ticket-data-spinner"],[1,"ticket-data-prize"]],template:function(n,o){n&1&&c.\u0275\u0275template(0,Ve,6,3,"section",0)(1,Ke,24,17)(2,Qe,2,0),n&2&&c.\u0275\u0275conditional(0,o.skeleton?0:o.data.ticket.code===o.gameCodes.LOTERIA_NACIONAL?1:2)},dependencies:[Be,Ct.NgClass,Ct.AsyncPipe,q,$,Ue,it.IonIcon,it.IonSkeletonText,it.IonSpinner,je,ie.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .skeleton-normal[_ngcontent-%COMP%]{height:25px}[_nghost-%COMP%]   .skeleton-big[_ngcontent-%COMP%]{height:60px}[_nghost-%COMP%]   .ticket[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:#63636333 0 2px 8px;padding:10px;border:thin solid var(--ln-primary)}[_nghost-%COMP%]   .ticket.skeleton[_ngcontent-%COMP%]{border:thin solid var(--ion-color-medium)}[_nghost-%COMP%]   .ticket-title[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:flex-end;align-items:center;width:100%}[_nghost-%COMP%]   .ticket-title-img-title[_ngcontent-%COMP%]{position:absolute;width:100px;top:-25px;left:0}[_nghost-%COMP%]   .ticket-title-img[_ngcontent-%COMP%]{position:absolute;opacity:.15;width:300px;top:-20px;left:-70px;rotate:20deg}[_nghost-%COMP%]   .ticket-title-date[_ngcontent-%COMP%]{font-size:14px;color:var(--ln-primary);font-weight:700;margin-left:10px}[_nghost-%COMP%]   .ticket-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .ticket-data-number[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;margin:10px 0 0;gap:15px;height:50px;align-items:center}[_nghost-%COMP%]   .ticket-data-number-character[_ngcontent-%COMP%]{font-size:25px;font-weight:700}[_nghost-%COMP%]   .ticket-data-spinner[_ngcontent-%COMP%]{height:18.9px}[_nghost-%COMP%]   .ticket-actions[_ngcontent-%COMP%]{position:relative;height:0;display:flex;width:100%;flex-direction:row;justify-content:flex-end;right:10px;bottom:-5px}[_nghost-%COMP%]   .ticket-actions-delete[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#fff;border-radius:100px}[_nghost-%COMP%]   .has-actions[_ngcontent-%COMP%]{margin-top:17px}"],changeDetection:0});let t=i;return t})();import{ZXingScannerModule as Cn}from"@zxing/ngx-scanner";import{BarcodeFormat as Pt}from"@zxing/library";import{CommonModule as We}from"@angular/common";import{EventEmitter as Ye}from"@angular/core";import{IonicModule as Ze}from"@ionic/angular";import{TranslateModule as Xe}from"@ngx-translate/core";import*as l from"@angular/core";import*as xt from"@angular/common";import*as ot from"@ionic/angular";import*as oe from"@ngx-translate/core";function Je(t,i){t&1&&(l.\u0275\u0275elementStart(0,"section",1)(1,"article",2),l.\u0275\u0275element(2,"ion-skeleton-text",3),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(3,"section",4),l.\u0275\u0275element(4,"ion-skeleton-text",5)(5,"ion-skeleton-text",6),l.\u0275\u0275elementEnd()()),t&2&&(l.\u0275\u0275advance(2),l.\u0275\u0275property("animated",!0),l.\u0275\u0275advance(2),l.\u0275\u0275property("animated",!0),l.\u0275\u0275advance(1),l.\u0275\u0275property("animated",!0))}function tn(t,i){if(t&1){let r=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"section",14)(1,"ion-icon",15),l.\u0275\u0275listener("click",function(n){l.\u0275\u0275restoreView(r);let o=l.\u0275\u0275nextContext(2);return o.deleteTicketById(o.data.ticket._id||""),l.\u0275\u0275resetView(n.stopPropagation())}),l.\u0275\u0275elementEnd()()}}function en(t,i){if(t&1&&(l.\u0275\u0275elementStart(0,"span",17),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),t&2){let r=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1("R(",r,")")}}function nn(t,i){if(t&1&&(l.\u0275\u0275elementStart(0,"span",17),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),t&2){let r=l.\u0275\u0275nextContext().$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(r)}}function on(t,i){if(t&1&&l.\u0275\u0275template(0,en,2,1,"span",16)(1,nn,2,1),t&2){let r=i.$index,e=l.\u0275\u0275nextContext(2);l.\u0275\u0275conditional(0,r===e.numbers.length-1?0:1)}}function an(t,i){t&1&&l.\u0275\u0275element(0,"ion-spinner",18)}function rn(t,i){if(t&1&&(l.\u0275\u0275elementStart(0,"span",19),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"async"),l.\u0275\u0275pipe(3,"currency"),l.\u0275\u0275elementEnd()),t&2){let r=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,l.\u0275\u0275pipeBind2(3,3,r.category.quantity,"EUR")))}}function sn(t,i){t&1&&(l.\u0275\u0275elementStart(0,"span",19),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"translate"),l.\u0275\u0275elementEnd()),t&2&&(l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(2,1,"GAMES.DRAW_PENDING")))}var cn=t=>({"has-actions":t});function ln(t,i){if(t&1&&(l.\u0275\u0275template(0,tn,2,0,"section",7),l.\u0275\u0275elementStart(1,"section",8)(2,"article",2),l.\u0275\u0275element(3,"img",9)(4,"img",10),l.\u0275\u0275elementStart(5,"span",11),l.\u0275\u0275text(6),l.\u0275\u0275pipe(7,"async"),l.\u0275\u0275pipe(8,"date"),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(9,"section",4)(10,"span",12),l.\u0275\u0275repeaterCreate(11,on,2,1,null,null,l.\u0275\u0275repeaterTrackByIndex),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(13,an,1,0,"ion-spinner",13)(14,rn,4,6)(15,sn,3,3),l.\u0275\u0275elementEnd()()),t&2){let r=l.\u0275\u0275nextContext();l.\u0275\u0275conditional(0,r.showActions?0:-1),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(10,cn,r.showActions)),l.\u0275\u0275advance(2),l.\u0275\u0275property("src",r.environment.web.host+"/assets/logos/games/"+r.data.ticket.code+"-title.svg",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(1),l.\u0275\u0275property("src",r.environment.web.host+"/assets/logos/games/"+r.data.ticket.code+".svg",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(7,6,l.\u0275\u0275pipeBind1(8,8,r.data.ticket.date))),l.\u0275\u0275advance(5),l.\u0275\u0275repeater(r.numbers),l.\u0275\u0275advance(2),l.\u0275\u0275conditional(13,r.showSearchLoading?13:r.category.category?14:15)}}function mn(t,i){t&1&&(l.\u0275\u0275elementStart(0,"p"),l.\u0275\u0275text(1,"Game not available"),l.\u0275\u0275elementEnd())}var St=(()=>{let i=class i{constructor(e,n,o){this.ticketSrv=e,this.gameSrv=n,this.cdr=o,this.skeleton=!1,this.showActions=!0,this.deleteTicketEvent=new Ye,this.environment=S,this.gameCodes=P,this.category={},this.showSearchLoading=!1,this.numbers=[]}ngOnChanges(){var e,n,o,C;this.getPrize(),this.numbers=this.splitIntoPairs(((C=(o=(n=(e=this.data)==null?void 0:e.ticket)==null?void 0:n.data)==null?void 0:o.info)==null?void 0:C.number)||""),this.cdr.detectChanges()}deleteTicketById(e){return _(this,null,function*(){if((yield this.ticketSrv.presentAlertConfirmDeleteTicket())===O.ACCEPT){this.skeleton=!0;let o=yield this.ticketSrv.deleteTicketById(e);o&&this.deleteTicketEvent.emit(o)}})}splitIntoPairs(e){let n=[];for(let o=0;o<e.length;o+=2)n.push(e.substring(o,o+2));return n}getPrize(){return _(this,null,function*(){var o,C,v,b,w,E,Y,lt;this.showSearchLoading=!0;let e=((b=(v=(C=(o=this.data)==null?void 0:o.ticket)==null?void 0:C.data)==null?void 0:v.info)==null?void 0:b.number)||"",n=((lt=(Y=(E=(w=this.data)==null?void 0:w.game)==null?void 0:E.data)==null?void 0:Y.info)==null?void 0:lt.gameId)||"";if(e&&n)try{let Z=yield this.gameSrv.checkPrizeByNumberPR(n||"",e);this.category=Z||{}}catch(Z){console.error(Z),this.category={}}else this.category={};this.showSearchLoading=!1,this.cdr.detectChanges()})}};i.\u0275fac=function(n){return new(n||i)(l.\u0275\u0275directiveInject(K),l.\u0275\u0275directiveInject(L),l.\u0275\u0275directiveInject(l.ChangeDetectorRef))},i.\u0275cmp=l.\u0275\u0275defineComponent({type:i,selectors:[["app-ticket-pr"]],inputs:{data:"data",skeleton:"skeleton",showActions:"showActions"},outputs:{deleteTicketEvent:"deleteTicketEvent"},standalone:!0,features:[l.\u0275\u0275NgOnChangesFeature,l.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[["class","ticket skeleton has-actions"],[1,"ticket","skeleton","has-actions"],[1,"ticket-title"],[1,"skeleton-normal",3,"animated"],[1,"ticket-data"],[1,"skeleton-big",3,"animated"],[3,"animated"],["class","ticket-actions"],[1,"ticket",3,"ngClass"],["aria-hidden","true","slot","start","alt","",1,"ticket-title-img-title",3,"src"],["aria-hidden","true",1,"ticket-title-img",3,"src"],["color","medium",1,"ticket-title-date"],[1,"ticket-data-number"],["class","ticket-data-spinner","name","dots"],[1,"ticket-actions"],["color","danger","name","remove-circle",1,"ticket-actions-delete",3,"click"],["class","ticket-data-number-character"],[1,"ticket-data-number-character"],["name","dots",1,"ticket-data-spinner"],[1,"ticket-data-prize"]],template:function(n,o){n&1&&l.\u0275\u0275template(0,Je,6,3,"section",0)(1,ln,16,12)(2,mn,2,0),n&2&&l.\u0275\u0275conditional(0,o.skeleton?0:o.data.ticket.code===o.gameCodes.LA_PRIMITIVA?1:2)},dependencies:[We,xt.NgClass,xt.AsyncPipe,q,$,Ze,ot.IonIcon,ot.IonSkeletonText,ot.IonSpinner,Xe,oe.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .skeleton-normal[_ngcontent-%COMP%]{height:25px}[_nghost-%COMP%]   .skeleton-big[_ngcontent-%COMP%]{height:60px}[_nghost-%COMP%]   .ticket[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:#63636333 0 2px 8px;padding:10px;border:thin solid var(--pr-primary)}[_nghost-%COMP%]   .ticket.skeleton[_ngcontent-%COMP%]{border:thin solid var(--ion-color-medium)}[_nghost-%COMP%]   .ticket-title[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:flex-end;align-items:center;width:100%}[_nghost-%COMP%]   .ticket-title-img-title[_ngcontent-%COMP%]{position:absolute;width:100px;top:-25px;left:0}[_nghost-%COMP%]   .ticket-title-img[_ngcontent-%COMP%]{position:absolute;opacity:.15;width:300px;top:-20px;left:-70px;rotate:20deg}[_nghost-%COMP%]   .ticket-title-date[_ngcontent-%COMP%]{font-size:14px;color:var(--pr-primary);font-weight:700;margin-left:10px}[_nghost-%COMP%]   .ticket-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .ticket-data-number[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-start;margin:10px 0 0;gap:15px;height:50px;align-items:center}[_nghost-%COMP%]   .ticket-data-number-character[_ngcontent-%COMP%]{font-size:25px;font-weight:700}[_nghost-%COMP%]   .ticket-data-spinner[_ngcontent-%COMP%]{height:18.9px}[_nghost-%COMP%]   .ticket-actions[_ngcontent-%COMP%]{position:relative;height:0;display:flex;width:100%;flex-direction:row;justify-content:flex-end;right:10px;bottom:-5px}[_nghost-%COMP%]   .ticket-actions-delete[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#fff;border-radius:100px}[_nghost-%COMP%]   .has-actions[_ngcontent-%COMP%]{margin-top:17px}"],changeDetection:0});let t=i;return t})();import*as f from"@angular/core";import"@angular/core";import{lastValueFrom as re}from"rxjs";import{v4 as hn}from"uuid";import*as X from"@angular/core";import"@angular/core";import{BehaviorSubject as dn,lastValueFrom as yt}from"rxjs";import*as ht from"@angular/core";var pn=1e3*60*60*1.5,U=(()=>{let i=class i{constructor(e,n){this.apiSrv=e,this.storageSrv=n,this.user={},this.apiUser=`${S.api.host}/user`,this.user$=new dn({})}getUser(){return this.user}getUserSubject(){return this.user$}setUser(e){this.user=e,this.user$.next(e)}createUserByUuid(e){return _(this,null,function*(){let n={email:`${e}${F.UUID_EMAIL_DOMAIN}`,password:e,name:e};try{let o=this.apiSrv.post(this.apiUser,n);return yield yt(o)}catch(o){throw o}})}loginByUuid(e){return _(this,null,function*(){this.storageSrv.setItem(x.RELOAD_TICKETS,!0);let n=yield this.login(`${e}${F.UUID_EMAIL_DOMAIN}`,e);return this.setUser(n.user),n})}login(e,n){return _(this,null,function*(){let o={email:e,password:n};try{let C=this.apiSrv.post(`${this.apiUser}/login`,o),v=yield yt(C);if(v.token){let b={token:v.token,date:Date.now()};this.storageSrv.setItem(x.TOKEN,JSON.stringify(b)),console.info(V.SYSTEM,`TOKEN: ${v.token}`)}return v}catch(C){throw C}})}checkTokenExpiration(e){return _(this,null,function*(){let n=this.storageSrv.getItem(x.TOKEN),o=(n==null?void 0:n.date)||0;Date.now()-o>pn&&(yield this.loginByUuid(e))})}getAllTicketsByUser(){return _(this,null,function*(){try{let e=this.apiSrv.get(`${this.apiUser}/ticket/all?limit=100&offset=0`);return yield yt(e)}catch{return[]}})}getAllPushesByUser(){return _(this,null,function*(){try{let e=this.apiSrv.get(`${this.apiUser}/push/all?limit=100&offset=0`);return yield yt(e)}catch{return[]}})}};i.\u0275fac=function(n){return new(n||i)(ht.\u0275\u0275inject(G),ht.\u0275\u0275inject(y))},i.\u0275prov=ht.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import"@angular/core";import*as bt from"@angular/core";var kt=(()=>{let i=class i{constructor(e){this.storageSrv=e}hasShell(){let e="0.0.0";return this.storageSrv.getItem(H.SHELL_VERSION)===e}};i.\u0275fac=function(n){return new(n||i)(bt.\u0275\u0275inject(y))},i.\u0275prov=bt.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var Q=(()=>{let i=class i{constructor(e,n,o,C){this.apiSrv=e,this.userSrv=n,this.coreSrv=o,this.storageSrv=C,this.uuid="",this.apiUuid=`${S.api.host}/uuid`,window.addEventListener(D.SHELL_DEVICE_GET_ID_RESPONSE,v=>_(this,null,function*(){var w;let b=localStorage.getItem(x.APP_UUID)||((w=v.detail)==null?void 0:w.response)||"";this.setAppUuid(b),yield this.onDeviceIdResponse()}))}init(){return _(this,null,function*(){yield this.requestDeviceId()})}getUuid(){return this.uuid}updateAppUuid(e){this.setAppUuid(e),this.setSyncMark()}requestDeviceId(){return _(this,null,function*(){if(this.coreSrv.hasShell())window.dispatchEvent(new CustomEvent(D.SHELL_DEVICE_GET_ID));else{let e=localStorage.getItem(x.APP_UUID)||"";this.setAppUuid(e),yield this.onDeviceIdResponse()}})}setAppUuid(e){this.uuid=e,this.uuid||(this.uuid=hn()),this.storageSrv.setItem(x.APP_UUID,this.uuid)}setSyncMark(){this.storageSrv.setItem(x.APP_SYNC_MARK,new Date().toISOString())}onDeviceIdResponse(){return _(this,null,function*(){(yield this.getUuidData())?(yield this.userSrv.loginByUuid(this.uuid),console.info(V.SYSTEM,`UUID: ${this.uuid} was registered.`)):yield this.registerUuid()})}getUuidData(){return _(this,null,function*(){try{let e=this.apiSrv.get(`${this.apiUuid}/${this.uuid}`);return yield re(e)}catch{return null}})}registerUuid(){return _(this,null,function*(){let e=yield this.userSrv.createUserByUuid(this.uuid);if((yield this.userSrv.loginByUuid(this.uuid)).token){let o={uuid:this.uuid,user:e._id};try{let C=this.apiSrv.post(this.apiUuid,o),v=yield re(C);this.uuid=v.uuid,console.info(V.SYSTEM,`UUID: ${this.uuid} has been registered.`)}catch(C){console.error(C)}}})}};i.\u0275fac=function(n){return new(n||i)(X.\u0275\u0275inject(G),X.\u0275\u0275inject(U),X.\u0275\u0275inject(kt),X.\u0275\u0275inject(y))},i.\u0275prov=X.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import*as W from"@ionic/angular";import*as wt from"@ngx-translate/core";import*as se from"@angular/common";import*as ce from"@zxing/ngx-scanner";function vn(t,i){t&1&&(f.\u0275\u0275elementStart(0,"article"),f.\u0275\u0275text(1,"Camera permission denied."),f.\u0275\u0275elementEnd())}function xn(t,i){t&1&&f.\u0275\u0275element(0,"ion-spinner",6)}function Sn(t,i){if(t&1){let r=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"zxing-scanner",5),f.\u0275\u0275listener("camerasFound",function(n){f.\u0275\u0275restoreView(r);let o=f.\u0275\u0275nextContext(3);return f.\u0275\u0275resetView(o.webCamerasFound(n))})("scanSuccess",function(n){f.\u0275\u0275restoreView(r);let o=f.\u0275\u0275nextContext(3);return f.\u0275\u0275resetView(o.webCodeResult(n))}),f.\u0275\u0275elementEnd(),f.\u0275\u0275template(1,xn,1,0,"ion-spinner",6)}if(t&2){let r=f.\u0275\u0275nextContext(3);f.\u0275\u0275property("formats",r.allowedFormats),f.\u0275\u0275advance(1),f.\u0275\u0275conditional(1,r.hasWebCamera?-1:1)}}function yn(t,i){if(t&1&&(f.\u0275\u0275element(0,"ion-icon",4),f.\u0275\u0275template(1,Sn,2,2)),t&2){let r=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(1),f.\u0275\u0275conditional(1,r.showWebScan?1:-1)}}function bn(t,i){if(t&1&&f.\u0275\u0275template(0,yn,2,1),t&2){let r=f.\u0275\u0275nextContext();f.\u0275\u0275conditional(0,r.showTicket?-1:0)}}function kn(t,i){if(t&1&&f.\u0275\u0275element(0,"app-ticket-ln",8),t&2){let r=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("showActions",!1)("data",r.gameTicketPrizeData)}}function Pn(t,i){if(t&1&&f.\u0275\u0275element(0,"app-ticket-pr",8),t&2){let r=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("showActions",!1)("data",r.gameTicketPrizeData)}}function wn(t,i){if(t&1){let r=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"section",7),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(r);let n=f.\u0275\u0275nextContext();return f.\u0275\u0275resetView(n.tapTicket(!1))}),f.\u0275\u0275template(1,kn,1,2,"app-ticket-ln",8)(2,Pn,1,2),f.\u0275\u0275elementStart(3,"article",9)(4,"span"),f.\u0275\u0275text(5),f.\u0275\u0275pipe(6,"translate"),f.\u0275\u0275elementEnd()()()}if(t&2){let r=f.\u0275\u0275nextContext();f.\u0275\u0275advance(1),f.\u0275\u0275conditional(1,(r.gameTicketPrizeData==null||r.gameTicketPrizeData.ticket==null?null:r.gameTicketPrizeData.ticket.code)===r.gameCodes.LOTERIA_NACIONAL?1:(r.gameTicketPrizeData==null||r.gameTicketPrizeData.ticket==null?null:r.gameTicketPrizeData.ticket.code)===r.gameCodes.LA_PRIMITIVA?2:-1),f.\u0275\u0275advance(4),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(6,2,"SCAN.MESSAGES.TAP_SCREEN_TO_SCAN"))}}var On=t=>({visibility:t}),le=(()=>{let i=class i{handleShellScannerResponse(e){return _(this,null,function*(){var n;yield this.onScannerResponse(((n=e.detail)==null?void 0:n.response)||{})})}handleShellScannerError(e){return _(this,null,function*(){var n;yield this.onScannerError(((n=e.detail)==null?void 0:n.response)||{})})}constructor(e,n,o,C,v,b,w,E,Y){this.cdr=e,this.ticketSrv=n,this.uuidSrv=o,this.userSrv=C,this.gameSrv=v,this.loadingCtrl=b,this.translateSrv=w,this.storageSrv=E,this.alertController=Y,this.gameCodes=P,this.hasShell=!1,this.responses=[],this.hasPermission=!0,this.gameTicketPrizeData=null,this.showTicket=!1,this.allowedFormats=[Pt.QR_CODE,Pt.EAN_13,Pt.CODE_128,Pt.DATA_MATRIX],this.showWebScan=!1,this.hasWebCamera=!1,this.backgroundColor=""}ngOnInit(){}ngAfterViewInit(){}ionViewDidEnter(){return _(this,null,function*(){this.setTicketVisibility(!1),this.showWebScan=!this.storageSrv.getItem(H.SHELL_VERSION),this.cdr.detectChanges(),document.body.style.backgroundColor="transparent",yield this.startScan()})}ionViewWillLeave(){this.setTicketVisibility(!1),document.body.style.backgroundColor=this.backgroundColor,this.stopScan()}startScan(e){return _(this,null,function*(){this.showWebScan=!this.storageSrv.getItem(H.SHELL_VERSION),this.hasPermission=!0,this.cdr.detectChanges(),window.dispatchEvent(new CustomEvent(D.SHELL_SCANNER_START))})}stopScan(e){this.showWebScan=!1,this.cdr.detectChanges(),window.dispatchEvent(new CustomEvent(D.SHELL_SCANNER_STOP))}permissionResponse(e){this.hasPermission=e||!1}setTicketVisibility(e){this.showTicket=e,this.showTicket?document.querySelector("ion-tabs").style.padding="0":document.querySelector("ion-tabs").style.padding="",this.cdr.detectChanges()}tapTicket(e){return _(this,null,function*(){this.setTicketVisibility(!1),yield this.startScan()})}webCodeResult(e){this.onScannerResponse({content:e})}webCamerasFound(e){console.log("cameras",e),e.length>0&&(this.hasWebCamera=!0)}onScannerResponse(e){return _(this,null,function*(){var o,C,v;this.gameTicketPrizeData=null;let n=e.displayValue||"";if(this.checkUuidQRCode(n||"")){let b=n.toString().replace(F.UUID_QR_CODE,"");yield this.syncUuid(b),this.setTicketVisibility(!1),yield this.startScan()}else if(e&&!e.closed){this.setTicketVisibility(!0),this.showLoading();let b="",w={};try{w=yield this.ticketSrv.createNewTicket(n||""),this.storageSrv.setItem(x.RELOAD_TICKETS,!0)}catch(E){console.log(E),w=((o=E.error)==null?void 0:o.ticket)||{}}try{b=w._id||"",this.gameTicketPrizeData=yield this.gameSrv.getTicketPrizeByTicketId(b)}catch(E){console.log(E),this.gameTicketPrizeData={game:{},ticket:w||null,prize:{}}}(v=(C=this.gameTicketPrizeData)==null?void 0:C.ticket)!=null&&v._id||(yield this.presentAlertInvalidCode(),this.setTicketVisibility(!1),yield this.startScan())}this.dismissLoading(),this.cdr.detectChanges()})}onScannerError(e){return _(this,null,function*(){this.hasPermission=!1})}checkUuidQRCode(e){return!!e.toString().includes(F.UUID_QR_CODE)}showLoading(){return _(this,null,function*(){(yield this.loadingCtrl.create({message:yield this.translateSrv.instant("SCAN.MESSAGES.CHECKING_TICKETS"),duration:5e3})).present()})}dismissLoading(){return _(this,null,function*(){yield this.loadingCtrl.dismiss()})}presentAlertInvalidCode(){return _(this,null,function*(){this.dismissLoading();let e=yield this.alertController.create({header:this.translateSrv.instant("GLOBAL.INVALID_CODE"),subHeader:this.translateSrv.instant("GLOBAL.INVALID_GAME"),message:this.translateSrv.instant("GLOBAL.INVALID_CODE_TEXT"),buttons:[{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:O.ACCEPT,handler:()=>{}}]});yield e.present();let{role:n}=yield e.onDidDismiss();return n})}presentAlertConfirmSyncUuid(){return _(this,null,function*(){let e=yield this.alertController.create({header:this.translateSrv.instant("UUID.SYNC_DEVICE"),subHeader:this.translateSrv.instant("GLOBAL.CONFIG_ACTION"),message:this.translateSrv.instant("UUID.SYNC_DEVICE_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:O.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:O.ACCEPT,handler:()=>{}}]});yield e.present();let{role:n}=yield e.onDidDismiss();return n})}syncUuid(e){return _(this,null,function*(){(yield this.presentAlertConfirmSyncUuid())===O.ACCEPT&&(this.uuidSrv.updateAppUuid(e),yield this.userSrv.loginByUuid(e))})}};i.\u0275fac=function(n){return new(n||i)(f.\u0275\u0275directiveInject(f.ChangeDetectorRef),f.\u0275\u0275directiveInject(K),f.\u0275\u0275directiveInject(Q),f.\u0275\u0275directiveInject(U),f.\u0275\u0275directiveInject(L),f.\u0275\u0275directiveInject(W.LoadingController),f.\u0275\u0275directiveInject(wt.TranslateService),f.\u0275\u0275directiveInject(y),f.\u0275\u0275directiveInject(W.AlertController))},i.\u0275cmp=f.\u0275\u0275defineComponent({type:i,selectors:[["app-scan"]],hostBindings:function(n,o){n&1&&f.\u0275\u0275listener("shellScannerResponse",function(v){return o.handleShellScannerResponse(v)},!1,f.\u0275\u0275resolveWindow)("shellScannerError",function(v){return o.handleShellScannerError(v)},!1,f.\u0275\u0275resolveWindow)},standalone:!0,features:[f.\u0275\u0275StandaloneFeature],decls:26,vars:5,consts:[[1,"animated-background",3,"ngStyle"],[1,"scan"],[1,"scan-screen"],["class","ticket-background"],["name","add-outline",1,"scan-screen-pointer"],[1,"web-scanner",3,"formats","camerasFound","scanSuccess"],["name","dots"],[1,"ticket-background",3,"click"],[3,"showActions","data"],[1,"ticket-instructions"]],template:function(n,o){n&1&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275element(1,"span")(2,"span")(3,"span")(4,"span")(5,"span")(6,"span")(7,"span")(8,"span")(9,"span")(10,"span")(11,"span")(12,"span")(13,"span")(14,"span")(15,"span")(16,"span")(17,"span")(18,"span")(19,"span")(20,"span"),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(21,"section",1)(22,"section",2),f.\u0275\u0275template(23,vn,2,0,"article")(24,bn,1,1),f.\u0275\u0275elementEnd()(),f.\u0275\u0275template(25,wn,7,4,"section",3)),n&2&&(f.\u0275\u0275property("ngStyle",f.\u0275\u0275pureFunction1(3,On,o.showTicket?"visible":"hidden")),f.\u0275\u0275advance(23),f.\u0275\u0275conditional(23,o.hasPermission?24:23),f.\u0275\u0275advance(2),f.\u0275\u0275conditional(25,o.showTicket&&o.gameTicketPrizeData?25:-1))},dependencies:[gn,se.NgStyle,un,fn,W.IonIcon,W.IonSpinner,_n,wt.TranslatePipe,vt,St,Cn,ce.ZXingScannerComponent],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .scan[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100vh;margin:0}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100vw;height:100vh;box-shadow:#0000004d 0 0 36px 32px inset,#0000004d 0 0 36px 12px inset}[_nghost-%COMP%]   .scan-screen-pointer[_ngcontent-%COMP%]{width:45px;color:#fff;height:45px;z-index:9}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]   .web-scanner[_ngcontent-%COMP%]{position:fixed}[_nghost-%COMP%]   .ticket-background[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:absolute;width:100%;height:100vh;top:0;padding-top:80px}[_nghost-%COMP%]   .ticket-instructions[_ngcontent-%COMP%]{margin-top:40px;font-weight:700;color:#fff}ion-modal[_ngcontent-%COMP%]{--height: 200px;--border-radius: 8px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--background: transparent}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: transparent}ion-modal[_ngcontent-%COMP%]   .ticket-ln[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}ion-modal[_ngcontent-%COMP%]   .ticket-ln-number[_ngcontent-%COMP%]{font-size:40px;font-weight:700;letter-spacing:17px;margin:20px 20px 20px 37px}ion-modal[_ngcontent-%COMP%]   .ticket-ln-prize[_ngcontent-%COMP%]{font-size:20px;font-weight:700}ion-modal[_ngcontent-%COMP%]::part(content){background-color:transparent;border:none;box-shadow:none}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}@keyframes _ngcontent-%COMP%_move{to{transform:translateZ(1px) rotate(360deg)}}.animated-background[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;top:0;left:0;background:#3E1E68;overflow:hidden}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20vmin;height:20vmin;border-radius:20vmin;backface-visibility:hidden;position:absolute;animation:_ngcontent-%COMP%_move;animation-duration:45;animation-timing-function:linear;animation-iteration-count:infinite}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(0){color:#583c87;top:1%;left:25%;animation-duration:49s;animation-delay:-14s;transform-origin:-21vw -17vh;box-shadow:-40vmin 0 5.6508571128vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){color:#583c87;top:92%;left:7%;animation-duration:51s;animation-delay:-32s;transform-origin:22vw -3vh;box-shadow:-40vmin 0 5.8332436514vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){color:#e45a84;top:76%;left:65%;animation-duration:8s;animation-delay:-14s;transform-origin:-14vw -19vh;box-shadow:-40vmin 0 5.1087852604vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){color:#583c87;top:20%;left:55%;animation-duration:9s;animation-delay:-39s;transform-origin:12vw 5vh;box-shadow:40vmin 0 5.3298054904vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){color:#e45a84;top:26%;left:79%;animation-duration:54s;animation-delay:-14s;transform-origin:-6vw -2vh;box-shadow:-40vmin 0 5.3879032859vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){color:#583c87;top:47%;left:93%;animation-duration:7s;animation-delay:-17s;transform-origin:13vw -5vh;box-shadow:-40vmin 0 5.2369732429vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){color:#583c87;top:97%;left:46%;animation-duration:20s;animation-delay:-3s;transform-origin:6vw -16vh;box-shadow:40vmin 0 5.8166757212vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){color:#583c87;top:54%;left:52%;animation-duration:6s;animation-delay:-47s;transform-origin:23vw 16vh;box-shadow:-40vmin 0 5.4546477701vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){color:#e45a84;top:64%;left:61%;animation-duration:23s;animation-delay:-7s;transform-origin:17vw 3vh;box-shadow:-40vmin 0 5.6193809352vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){color:#ffacac;top:96%;left:17%;animation-duration:33s;animation-delay:-44s;transform-origin:20vw 11vh;box-shadow:40vmin 0 5.881491465vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){color:#e45a84;top:8%;left:18%;animation-duration:20s;animation-delay:-29s;transform-origin:18vw 2vh;box-shadow:-40vmin 0 5.9279891447vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){color:#583c87;top:48%;left:95%;animation-duration:51s;animation-delay:-34s;transform-origin:-21vw 24vh;box-shadow:40vmin 0 5.564150385vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){color:#e45a84;top:86%;left:74%;animation-duration:54s;animation-delay:-2s;transform-origin:-1vw 6vh;box-shadow:40vmin 0 5.3909289617vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(13){color:#583c87;top:6%;left:46%;animation-duration:19s;animation-delay:-31s;transform-origin:13vw 15vh;box-shadow:-40vmin 0 5.5802349616vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(14){color:#e45a84;top:45%;left:32%;animation-duration:17s;animation-delay:-41s;transform-origin:7vw 13vh;box-shadow:40vmin 0 5.2147795462vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(15){color:#e45a84;top:6%;left:76%;animation-duration:13s;animation-delay:-34s;transform-origin:-6vw -15vh;box-shadow:-40vmin 0 5.684363269vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(16){color:#ffacac;top:99%;left:41%;animation-duration:28s;animation-delay:-41s;transform-origin:-15vw -9vh;box-shadow:40vmin 0 5.6490626298vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(17){color:#583c87;top:53%;left:87%;animation-duration:38s;animation-delay:-1s;transform-origin:-9vw 5vh;box-shadow:-40vmin 0 5.7487953568vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(18){color:#583c87;top:93%;left:87%;animation-duration:29s;animation-delay:-46s;transform-origin:-8vw 23vh;box-shadow:-40vmin 0 5.2337571763vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(19){color:#ffacac;top:1%;left:67%;animation-duration:38s;animation-delay:-44s;transform-origin:-15vw -14vh;box-shadow:-40vmin 0 5.7801397915vmin currentColor}"],changeDetection:0});let t=i;return t})();import{CommonModule as jn}from"@angular/common";import"@angular/core";import{RouterModule as Vn}from"@angular/router";import{IonicModule as zn}from"@ionic/angular";import{TranslateModule as Hn}from"@ngx-translate/core";import{CommonModule as In}from"@angular/common";import"@angular/core";import"@angular/core";import{FormsModule as Tn}from"@angular/forms";import{IonicModule as En}from"@ionic/angular";import{TranslateLoader as Ln,TranslateModule as de}from"@ngx-translate/core";import"@angular/core";import{catchError as Mn}from"rxjs/operators";import*as Ot from"@angular/core";import*as me from"@angular/common/http";var Mt=(()=>{let i=class i{constructor(e){this.httpClient=e}getTranslation(e){let n=S.web.host+`/assets/i18n/${e}.json`;return this.httpClient.get(n).pipe(Mn(o=>(console.log("Error loading translation file",o),this.httpClient.get(S.web.host+"/assets/i18n/es.json"))))}};i.\u0275fac=function(n){return new(n||i)(Ot.\u0275\u0275inject(me.HttpClient))},i.\u0275prov=Ot.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac});let t=i;return t})();import{HttpClient as An}from"@angular/common/http";import*as a from"@angular/core";import*as It from"@ngx-translate/core";import*as M from"@ionic/angular";function Dn(t,i){if(t&1){let r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"section",2)(1,"h2"),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"p"),a.\u0275\u0275text(5),a.\u0275\u0275pipe(6,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"ion-list",3)(8,"ion-item",4),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(n.changeLanguage("en"))}),a.\u0275\u0275element(9,"span",5),a.\u0275\u0275elementStart(10,"ion-label"),a.\u0275\u0275text(11),a.\u0275\u0275pipe(12,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"ion-item",4),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(n.changeLanguage("es"))}),a.\u0275\u0275element(14,"span",6),a.\u0275\u0275elementStart(15,"ion-label"),a.\u0275\u0275text(16),a.\u0275\u0275pipe(17,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(18,"ion-item",4),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(n.changeLanguage("ca"))}),a.\u0275\u0275element(19,"span",7),a.\u0275\u0275elementStart(20,"ion-label"),a.\u0275\u0275text(21),a.\u0275\u0275pipe(22,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(23,"ion-item",4),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(n.changeLanguage("gl"))}),a.\u0275\u0275element(24,"span",8),a.\u0275\u0275elementStart(25,"ion-label"),a.\u0275\u0275text(26),a.\u0275\u0275pipe(27,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(28,"ion-item",4),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(n.changeLanguage("eu"))}),a.\u0275\u0275element(29,"span",9),a.\u0275\u0275elementStart(30,"ion-label"),a.\u0275\u0275text(31),a.\u0275\u0275pipe(32,"translate"),a.\u0275\u0275elementEnd()()()()}t&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,7,"ONBOARDING.LANGUAGE.TITLE")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(6,9,"ONBOARDING.LANGUAGE.DESCRIPTION")),a.\u0275\u0275advance(6),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(12,11,"GLOBAL.ENGLISH")),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(17,13,"GLOBAL.SPANISH")),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(22,15,"GLOBAL.CATALAN")),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(27,17,"GLOBAL.GALICIAN")),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(32,19,"GLOBAL.BASQUE")))}function Rn(t,i){if(t&1){let r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ion-button",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(n.requestNotificationPermission())}),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()}t&2&&(a.\u0275\u0275property("strong",!0),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,2,"GLOBAL.CONTINUE")))}function Nn(t,i){if(t&1){let r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ion-button",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(n.requestNotificationPermission())}),a.\u0275\u0275text(1),a.\u0275\u0275pipe(2,"translate"),a.\u0275\u0275elementEnd()}t&2&&(a.\u0275\u0275property("strong",!0),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(2,2,"GLOBAL.REQUEST_PERMISSION")))}function Bn(t,i){if(t&1){let r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"p")(1,"ion-text",14),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(4,"ion-button",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext(2);return a.\u0275\u0275resetView(n.requestNotificationPermission())}),a.\u0275\u0275text(5),a.\u0275\u0275pipe(6,"translate"),a.\u0275\u0275elementEnd()}t&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,3,"ONBOARDING.NOTIFICATIONS_PERMISSION.DENIED")),a.\u0275\u0275advance(2),a.\u0275\u0275property("strong",!0),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(6,5,"GLOBAL.CONTINUE")))}function Gn(t,i){if(t&1&&(a.\u0275\u0275elementStart(0,"section",10)(1,"h2"),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"ion-icon",11),a.\u0275\u0275elementStart(5,"p"),a.\u0275\u0275text(6),a.\u0275\u0275pipe(7,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,Rn,3,4,"ion-button",12)(9,Nn,3,4)(10,Bn,7,7),a.\u0275\u0275elementEnd()),t&2){let r=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,3,"ONBOARDING.NOTIFICATIONS_PERMISSION.TITLE")),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(7,5,"ONBOARDING.NOTIFICATIONS_PERMISSION.DESCRIPTION")),a.\u0275\u0275advance(2),a.\u0275\u0275conditional(8,r.notificationPermission==="granted"?8:r.notificationPermission==="prompt"?9:10)}}function Un(t,i){if(t&1){let r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"section",15)(1,"h2"),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"ion-icon",16),a.\u0275\u0275elementStart(5,"p"),a.\u0275\u0275text(6),a.\u0275\u0275pipe(7,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"ion-button",13),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(r);let n=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(n.requestCameraPermission())}),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"translate"),a.\u0275\u0275elementEnd()()}t&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,4,"ONBOARDING.CAMERA_PERMISSION.TITLE")),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(7,6,"ONBOARDING.CAMERA_PERMISSION.DESCRIPTION")),a.\u0275\u0275advance(2),a.\u0275\u0275property("strong",!0),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(10,8,"GLOBAL.CONTINUE")))}var Tt=(()=>{let i=class i{handleShellPushRequestPermissionResponse(e){return _(this,null,function*(){var n;yield this.onPushRequestPermissionResponse(((n=e.detail)==null?void 0:n.response)||{})})}handleShellPushRegisterResponse(e){return _(this,null,function*(){var n;yield this.onPushRegisterResponse(((n=e.detail)==null?void 0:n.response)||{})})}handleShellScannerRequestPermissionResponse(e){return _(this,null,function*(){var n;yield this.onScannerRequestPermissionResponse(((n=e.detail)==null?void 0:n.response)||{})})}constructor(e,n,o,C,v){this.cdr=e,this.storageSrv=n,this.coreSrv=o,this.translateSrv=C,this.modalCtrl=v,this.name="",this.step=0,this.currentLanguage=R.EN,this.hasShell=!1,this.notificationPermission="",this.environment=S,this.translateSrv.setDefaultLang(this.storageSrv.getItem("language")||"en"),this.translateSrv.use(this.storageSrv.getItem("language")||"en")}ngOnInit(){}ngAfterViewInit(){this.hasShell=this.coreSrv.hasShell(),window.dispatchEvent(new CustomEvent(D.SHELL_PUSH_REQUEST_PERMISSION)),this.cdr.detectChanges()}increaseStep(){this.step++}changeLanguage(e){this.storageSrv.setItem(x.LANGUAGE,e),this.translateSrv.use(e),this.increaseStep(),this.cdr.detectChanges(),this.hasShell||this.closeModal()}requestNotificationPermission(){window.dispatchEvent(new CustomEvent(D.SHELL_PUSH_REGISTER))}requestCameraPermission(){window.dispatchEvent(new CustomEvent(D.SHELL_SCANNER_REQUEST_PERMISSION))}onPushRequestPermissionResponse(e){this.notificationPermission=e.receive,this.cdr.detectChanges()}onPushRegisterResponse(e){this.increaseStep()}onScannerRequestPermissionResponse(e){return _(this,null,function*(){yield this.closeModal()})}closeModal(){return _(this,null,function*(){return this.storageSrv.setItem(x.ONBOARDING,"true"),this.modalCtrl.dismiss(this.name,"confirm")})}};i.\u0275fac=function(n){return new(n||i)(a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(y),a.\u0275\u0275directiveInject(kt),a.\u0275\u0275directiveInject(It.TranslateService),a.\u0275\u0275directiveInject(M.ModalController))},i.\u0275cmp=a.\u0275\u0275defineComponent({type:i,selectors:[["app-onboarding"]],hostBindings:function(n,o){n&1&&a.\u0275\u0275listener("shellPushRequestPermissionResponse",function(v){return o.handleShellPushRequestPermissionResponse(v)},!1,a.\u0275\u0275resolveWindow)("shellPushRegisterResponse",function(v){return o.handleShellPushRegisterResponse(v)},!1,a.\u0275\u0275resolveWindow)("shellScannerRequestPermissionResponse",function(v){return o.handleShellScannerRequestPermissionResponse(v)},!1,a.\u0275\u0275resolveWindow)},standalone:!0,features:[a.\u0275\u0275ProvidersFeature([de.forRoot({loader:{provide:Ln,useClass:Mt,deps:[An]}}).providers]),a.\u0275\u0275StandaloneFeature],decls:4,vars:1,consts:[[1,"ion-padding"],["class","page choose-language"],[1,"page","choose-language"],[1,"language-list"],["button","",3,"click"],[1,"flag","fi","fi-gb"],[1,"flag","fi","fi-es"],[1,"flag","fi","fi-es-ct"],[1,"flag","fi","fi-es-ga"],[1,"flag","fi","fi-es-pv"],[1,"page","notification-permission"],["name","notifications-outline",1,"notifications-permission-img"],[3,"strong"],[3,"strong","click"],["color","danger"],[1,"page","camera-permission"],["name","barcode-outline",1,"camera-permission-img"]],template:function(n,o){n&1&&(a.\u0275\u0275elementStart(0,"ion-content",0),a.\u0275\u0275template(1,Dn,33,21,"section",1)(2,Gn,11,7)(3,Un,11,10),a.\u0275\u0275elementEnd()),n&2&&(a.\u0275\u0275advance(1),a.\u0275\u0275conditional(1,o.step===0?1:o.step===1&&o.hasShell?2:o.step===2&&o.hasShell?3:-1))},dependencies:[In,En,M.IonButton,M.IonContent,M.IonIcon,M.IonItem,M.IonLabel,M.IonList,M.IonText,de,It.TranslatePipe,Tn],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;padding-top:40px}[_nghost-%COMP%]   .choose-language[_ngcontent-%COMP%]   .language-list[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .choose-language[_ngcontent-%COMP%]   .language-list[_ngcontent-%COMP%]   .flag[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .notifications-permission-img[_ngcontent-%COMP%]{width:200px;height:200px}[_nghost-%COMP%]   .camera-permission-img[_ngcontent-%COMP%]{width:200px;height:200px}"],changeDetection:0});let t=i;return t})();import*as g from"@angular/core";import*as pe from"@angular/router";import*as Et from"@ngx-translate/core";import*as A from"@ionic/angular";import*as he from"@angular/common";var Fn=["mainTabs"];function $n(t,i){if(t&1){let r=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"ion-fab",4)(1,"ion-fab-button",5),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(r);let n=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(n.clickScanButton())}),g.\u0275\u0275element(2,"ion-icon",6),g.\u0275\u0275elementEnd()()}}function qn(t,i){if(t&1){let r=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"ion-fab",7)(1,"ion-fab-button",5),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(r);let n=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(n.clickCloseScanButton())}),g.\u0275\u0275element(2,"ion-icon",8),g.\u0275\u0275elementEnd()()}}function Kn(t,i){if(t&1){let r=g.\u0275\u0275getCurrentView();g.\u0275\u0275elementStart(0,"ion-tab-bar",3)(1,"ion-tab-button",9),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(r);let n=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(n.saveTabNavigation(n.tabs.GAMES))}),g.\u0275\u0275element(2,"ion-icon",10),g.\u0275\u0275elementStart(3,"span"),g.\u0275\u0275text(4),g.\u0275\u0275pipe(5,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(6,"ion-tab-button",9),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(r);let n=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(n.saveTabNavigation(n.tabs.TICKETS))}),g.\u0275\u0275element(7,"ion-icon",11),g.\u0275\u0275elementStart(8,"span"),g.\u0275\u0275text(9),g.\u0275\u0275pipe(10,"translate"),g.\u0275\u0275elementEnd()(),g.\u0275\u0275element(11,"span",12)(12,"span",13),g.\u0275\u0275elementStart(13,"ion-tab-button",9),g.\u0275\u0275listener("click",function(){g.\u0275\u0275restoreView(r);let n=g.\u0275\u0275nextContext();return g.\u0275\u0275resetView(n.saveTabNavigation(n.tabs.MENU))}),g.\u0275\u0275element(14,"ion-icon",14),g.\u0275\u0275elementStart(15,"span"),g.\u0275\u0275text(16),g.\u0275\u0275pipe(17,"translate"),g.\u0275\u0275elementEnd()()()}if(t&2){let r=g.\u0275\u0275nextContext();g.\u0275\u0275advance(1),g.\u0275\u0275property("tab",r.tabs.GAMES),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(5,6,"MAIN.TABS.GAMES")),g.\u0275\u0275advance(2),g.\u0275\u0275property("tab",r.tabs.TICKETS),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(10,8,"MAIN.TABS.TICKETS")),g.\u0275\u0275advance(4),g.\u0275\u0275property("tab",r.tabs.MENU),g.\u0275\u0275advance(3),g.\u0275\u0275textInterpolate(g.\u0275\u0275pipeBind1(17,10,"MAIN.TABS.SETTINGS"))}}var Qn=t=>({"is-scan":t}),ge=(()=>{let i=class i{constructor(e,n,o,C){this.router=e,this.storageSrv=n,this.translateSrv=o,this.modalController=C,this.tabs=N,this.activeTabName=N.GAMES,this.hasOnboarding=!1}ngOnInit(){}ngAfterViewInit(){return _(this,null,function*(){this.hasOnboarding=this.storageSrv.getItem(x.ONBOARDING),this.hasOnboarding?setTimeout(()=>{this.mainTabs.select(N.GAMES)},500):(yield this.openOnboardingModal(),this.mainTabs.select(N.GAMES))})}openOnboardingModal(){return _(this,null,function*(){let e=yield this.modalController.create({component:Tt});e.present(),yield e.onWillDismiss();let n=this.storageSrv.getItem(x.LANGUAGE)||R.EN;this.translateSrv.use(n),this.storageSrv.setItem(x.ONBOARDING,!0)})}saveTabNavigation(e){this.activeTabName=e;let n=this.storageSrv.getItem(x.TAB_NAVIGATION)||[];n.unshift(e),n.length=10,this.storageSrv.setItem(x.TAB_NAVIGATION,JSON.stringify(n))}clickScanButton(){this.saveTabNavigation(N.SCAN),this.mainTabs.select(N.SCAN)}clickMenuButton(){this.saveTabNavigation(N.MENU),this.mainTabs.select(N.MENU)}clickCloseScanButton(){this.saveTabNavigation(N.GAMES),this.mainTabs.select(N.GAMES)}};i.\u0275fac=function(n){return new(n||i)(g.\u0275\u0275directiveInject(pe.Router),g.\u0275\u0275directiveInject(y),g.\u0275\u0275directiveInject(Et.TranslateService),g.\u0275\u0275directiveInject(A.ModalController))},i.\u0275cmp=g.\u0275\u0275defineComponent({type:i,selectors:[["app-main"]],viewQuery:function(n,o){if(n&1&&g.\u0275\u0275viewQuery(Fn,5),n&2){let C;g.\u0275\u0275queryRefresh(C=g.\u0275\u0275loadQuery())&&(o.mainTabs=C.first)}},standalone:!0,features:[g.\u0275\u0275StandaloneFeature],decls:5,vars:5,consts:[["class","fab-button","slot","fixed","vertical","bottom","horizontal","center"],[3,"ngClass"],["mainTabs",""],["slot","bottom"],["slot","fixed","vertical","bottom","horizontal","center",1,"fab-button"],[3,"click"],["name","barcode-outline"],["slot","fixed","vertical","bottom","horizontal","center",1,"fab-button","close"],["name","close-outline"],[3,"tab","click"],["name","grid-outline"],["name","wallet-outline"],[1,"white-tab"],[1,"empty-tab"],["name","settings-outline"]],template:function(n,o){n&1&&(g.\u0275\u0275template(0,$n,3,0,"ion-fab",0)(1,qn,3,0),g.\u0275\u0275elementStart(2,"ion-tabs",1,2),g.\u0275\u0275template(4,Kn,18,12,"ion-tab-bar",3),g.\u0275\u0275elementEnd()),n&2&&(g.\u0275\u0275conditional(0,o.activeTabName!==o.tabs.SCAN?0:1),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngClass",g.\u0275\u0275pureFunction1(3,Qn,o.activeTabName===o.tabs.SCAN)),g.\u0275\u0275advance(2),g.\u0275\u0275conditional(4,o.activeTabName!==o.tabs.SCAN?4:-1))},dependencies:[jn,he.NgClass,Vn,zn,A.IonFab,A.IonFabButton,A.IonIcon,A.IonTabBar,A.IonTabButton,A.IonTabs,Hn,Et.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}ion-tabs[_ngcontent-%COMP%]{padding:env(safe-area-inset-top,0) env(safe-area-inset-right,0) 0 env(safe-area-inset-left,0)}ion-tabs.is-scan[_ngcontent-%COMP%]{padding:0}ion-tabs[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0);display:flex;flex-direction:row;justify-content:space-around}.empty-tab[_ngcontent-%COMP%]{min-width:calc(25% - 12.5px)}.white-tab[_ngcontent-%COMP%]{min-width:50px}.fab-button[_ngcontent-%COMP%]{margin-bottom:calc(20px + env(safe-area-inset-bottom,0))}.fab-button.ios[_ngcontent-%COMP%]{margin-bottom:calc(15px + env(safe-area-inset-bottom,0))}.fab-button.close[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native){background-color:var(--ion-color-danger);border-radius:100px;border:solid 2px white;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;color:#fff}.fab-button.close[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native):hover:after{background-color:var(--ion-color-danger-tint)}.fab-button.close[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native):active:after{background-color:var(--ion-color-danger-shade)}.fab-button[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native){background-color:var(--ion-color-success);border-radius:100px;border:solid 2px white;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;color:#fff}.fab-button[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native):hover:after{background-color:var(--ion-color-success-tint)}.fab-button[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native):active:after{background-color:var(--ion-color-success-shade)}.menu-button[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{margin-bottom:70px}"],changeDetection:0});let t=i;return t})();import{CommonModule as Wn}from"@angular/common";import{HttpClient as Yn,HttpClientModule as Zn}from"@angular/common/http";import"@angular/core";import{NavigationEnd as Xn,RouterModule as Jn}from"@angular/router";import{filter as ti}from"rxjs";import{IonicModule as ei}from"@ionic/angular";import{TranslateLoader as ni,TranslateModule as ii}from"@ngx-translate/core";import"@angular/core";import{lastValueFrom as Lt}from"rxjs";import*as at from"@angular/core";var rt=(()=>{let i=class i{constructor(e,n,o){this.apiSrv=e,this.storageSrv=n,this.userSrv=o,this.apiPush=`${S.api.host}/push`}ngOnDestroy(){var e;(e=this.userSubscription)==null||e.unsubscribe()}init(){this.userSubscription||(this.userSubscription=this.userSrv.getUserSubject().subscribe(e=>_(this,null,function*(){if(e._id){let n=yield this.getPushDataByToken();(n==null?void 0:n.user)!==e._id&&(yield this.unregisterToken()),yield this.registerToken(e)}})))}getToken(){return this.storageSrv.getItem(H.SHELL_PUSH_TOKEN)||""}registerToken(e){return _(this,null,function*(){if(e._id&&this.getToken()){let n=yield this.getPushDataByToken();if((n==null?void 0:n.user)===e._id)console.info(V.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has already been registered.`);else{let o={token:this.getToken(),user:e._id};try{let C=this.apiSrv.post(this.apiPush,o),v=yield Lt(C);this.storageSrv.setItem(H.SHELL_PUSH_TOKEN,v.token),console.info(V.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has been registered.`)}catch(C){console.error(C)}}}})}getPushDataByToken(){return _(this,null,function*(){try{let e=this.apiSrv.get(`${this.apiPush}/${this.getToken()}`);return yield Lt(e)}catch{return null}})}deletePushById(e){return _(this,null,function*(){try{let n=yield this.apiSrv.delete(`${this.apiPush}/${e}`);return yield Lt(n)}catch(n){throw n}})}deletePushByToken(e){return _(this,null,function*(){try{let n=yield this.apiSrv.delete(`${this.apiPush}/token/${e}`);return yield Lt(n)}catch(n){throw n}})}unregisterToken(){return _(this,null,function*(){if(this.getToken())try{let e=yield this.getPushDataByToken();e&&(yield this.deletePushByToken(e.token),console.info(V.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has been unregistered.`))}catch(e){console.error(e)}})}};i.\u0275fac=function(n){return new(n||i)(at.\u0275\u0275inject(G),at.\u0275\u0275inject(y),at.\u0275\u0275inject(U))},i.\u0275prov=at.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import*as T from"@angular/core";import*as fe from"@ngx-translate/core";import*as At from"@angular/router";var _e=(()=>{let i=class i{constructor(e,n,o,C,v,b){this.translateSrv=e,this.uuidSrv=n,this.userSrv=o,this.storageSrv=C,this.router=v,this.pushSrv=b,this.translateSrv.setDefaultLang("en"),this.translateSrv.use("en")}ngOnInit(){return _(this,null,function*(){this.setNoErrorLoadingRemote(),this.importStyles(),this.importScripts(),this.pushSrv.init(),yield this.uuidSrv.init(),this.initRouterEventsSubscription(),this.loadLanguage()})}initRouterEventsSubscription(){this.router.events.pipe(ti(e=>e instanceof Xn)).subscribe(e=>_(this,null,function*(){yield this.handleNavigationEnd()}))}handleNavigationEnd(){return _(this,null,function*(){let e=this.uuidSrv.getUuid();e?this.userSrv.checkTokenExpiration(e):(this.pushSrv.init(),yield this.uuidSrv.init())})}loadLanguage(){let e=this.storageSrv.getItem(x.LANGUAGE)||R.EN;this.translateSrv.use(e)}setNoErrorLoadingRemote(){this.storageSrv.setItem(Vt.SHELL_LOADING_REMOTE_OK,"true")}importScripts(){let e=["https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js","https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.esm.js"],n=document.head;e.forEach(o=>{let C=document.createElement("script");C.type="module",C.src=o,C.async=!1,document.head.appendChild(C),n.insertBefore(C,n.firstElementChild)})}importStyles(){let e=["https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css","https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.0/css/flag-icons.min.css"],n=document.head;e.forEach(o=>{let C=document.createElement("link");C.rel="stylesheet",C.href=o,n.insertBefore(C,n.firstElementChild)})}};i.\u0275fac=function(n){return new(n||i)(T.\u0275\u0275directiveInject(fe.TranslateService),T.\u0275\u0275directiveInject(Q),T.\u0275\u0275directiveInject(U),T.\u0275\u0275directiveInject(y),T.\u0275\u0275directiveInject(At.Router),T.\u0275\u0275directiveInject(rt))},i.\u0275cmp=T.\u0275\u0275defineComponent({type:i,selectors:[["app-remote-app"]],standalone:!0,features:[T.\u0275\u0275ProvidersFeature([G,Q,rt,U,K,L,ii.forRoot({loader:{provide:ni,useClass:Mt,deps:[Yn]}}).providers]),T.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(n,o){n&1&&T.\u0275\u0275element(0,"router-outlet")},dependencies:[Wn,Jn,At.RouterOutlet,ei,Zn],styles:[`:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--pr-primary: #1a8648;--joker-primary: #be1540;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}:host{display:block}body{background:var(--color-background)}
`],encapsulation:2,changeDetection:0});let t=i;return t})();import{CommonModule as si}from"@angular/common";import"@angular/core";import{RouterModule as ci}from"@angular/router";import{IonicModule as li}from"@ionic/angular";import{CommonModule as ws}from"@angular/common";import"@angular/core";import{IonicModule as Ls}from"@ionic/angular";import*as J from"@angular/core";import*as oi from"@angular/router";import*as ai from"@ngx-translate/core";import*as Ft from"@ionic/angular";import{TranslateModule as mi}from"@ngx-translate/core";import{CommonModule as Rs}from"@angular/common";import"@angular/core";import{IonicModule as js}from"@ionic/angular";import*as ut from"@angular/core";import*as ri from"@ionic/angular";import*as d from"@angular/core";import*as z from"@ionic/angular";import*as Ce from"@ngx-translate/core";var di=(t,i)=>i.ticket._id;function pi(t,i){if(t&1){let r=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"app-ticket-ln",7),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(r);let n=d.\u0275\u0275nextContext().$implicit,o=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(o.openGame(n.game,n.ticket.data.info.number))})("deleteTicketEvent",function(n){d.\u0275\u0275restoreView(r);let o=d.\u0275\u0275nextContext(3);return d.\u0275\u0275resetView(o.deleteTicketById(n))}),d.\u0275\u0275elementEnd()}if(t&2){let r=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275property("data",r)}}function hi(t,i){if(t&1){let r=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"app-ticket-pr",7),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(r);let n=d.\u0275\u0275nextContext().$implicit,o=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(o.openGame(n.game,n.ticket.data.info.number))})("deleteTicketEvent",function(n){d.\u0275\u0275restoreView(r);let o=d.\u0275\u0275nextContext(3);return d.\u0275\u0275resetView(o.deleteTicketById(n))}),d.\u0275\u0275elementEnd()}if(t&2){let r=d.\u0275\u0275nextContext().$implicit;d.\u0275\u0275property("data",r)}}function gi(t,i){if(t&1&&(d.\u0275\u0275elementStart(0,"span",5),d.\u0275\u0275template(1,pi,1,1,"app-ticket-ln",6)(2,hi,1,1),d.\u0275\u0275elementEnd()),t&2){let r=i.$implicit,e=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275conditional(1,r.ticket.code===e.gamesCodes.LOTERIA_NACIONAL?1:r.ticket.code===e.gamesCodes.LA_PRIMITIVA?2:-1)}}function ui(t,i){t&1&&(d.\u0275\u0275elementStart(0,"span"),d.\u0275\u0275element(1,"ion-spinner",9),d.\u0275\u0275elementEnd())}function fi(t,i){t&1&&(d.\u0275\u0275elementStart(0,"section",10)(1,"span",11),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd()()),t&2&&(d.\u0275\u0275advance(2),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,1,"GLOBAL.LOAD_MORE")))}function _i(t,i){if(t&1){let r=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"span",8),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(r);let n=d.\u0275\u0275nextContext(2);return d.\u0275\u0275resetView(n.loadMore())}),d.\u0275\u0275template(1,ui,2,0,"span")(2,fi,4,3),d.\u0275\u0275elementEnd()}if(t&2){let r=d.\u0275\u0275nextContext(2);d.\u0275\u0275advance(1),d.\u0275\u0275conditional(1,r.showLoadMoreSpinner?1:2)}}function Ci(t,i){if(t&1&&(d.\u0275\u0275elementStart(0,"section",3),d.\u0275\u0275repeaterCreate(1,gi,3,1,"span",4,di),d.\u0275\u0275template(3,_i,3,1,"span",4),d.\u0275\u0275elementEnd()),t&2){let r=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275repeater(r.tickets),d.\u0275\u0275advance(2),d.\u0275\u0275conditional(3,r.showLoadMore?3:-1)}}function vi(t,i){t&1&&(d.\u0275\u0275elementStart(0,"section",13),d.\u0275\u0275element(1,"ion-icon",14),d.\u0275\u0275elementStart(2,"span",15),d.\u0275\u0275text(3),d.\u0275\u0275pipe(4,"translate"),d.\u0275\u0275elementEnd()()),t&2&&(d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(4,1,"TICKETS.EMPTY_TICKET_LIST")))}function xi(t,i){t&1&&(d.\u0275\u0275elementStart(0,"span",5),d.\u0275\u0275element(1,"app-ticket-ln",16),d.\u0275\u0275elementEnd()),t&2&&(d.\u0275\u0275advance(1),d.\u0275\u0275property("skeleton",!0))}function Si(t,i){if(t&1&&d.\u0275\u0275repeaterCreate(0,xi,2,1,"span",4,d.\u0275\u0275repeaterTrackByIdentity),t&2){let r=d.\u0275\u0275nextContext(2);d.\u0275\u0275repeater(r.skeletons)}}function yi(t,i){if(t&1&&d.\u0275\u0275template(0,vi,5,3,"section",12)(1,Si,2,0),t&2){let r=d.\u0275\u0275nextContext();d.\u0275\u0275conditional(0,r.noTicketsLoaded?0:1)}}var bi=10,$t=10,ve=(()=>{let i=class i{constructor(e,n,o){this.cdr=e,this.gameSrv=n,this.storageSrv=o,this.tickets=[],this.environment=S,this.gamesCodes=P,this.showLoadMore=!0,this.skeletons=Array($t).fill(0),this.noTicketsLoaded=!1,this.showLoadMoreSpinner=!1,this.limit=$t,this.offset=0}ionViewDidEnter(){return _(this,null,function*(){this.limit=$t;let e=this.storageSrv.getItem(x.RELOAD_TICKETS);(!this.tickets.length||e)&&(this.offset=0,this.noTicketsLoaded=!e,this.cdr.detectChanges(),yield this.getUserTickets()),this.cdr.detectChanges()})}handleRefresh(e){return _(this,null,function*(){this.offset=0,yield this.getUserTickets(),e.target.complete()})}sortTicketsByDate(){this.tickets.sort((e,n)=>{let o=new Date(e.ticket.date);return new Date(n.ticket.date).getTime()-o.getTime()}),this.cdr.detectChanges()}deleteTicketById(e){return _(this,null,function*(){e&&(this.offset=0,yield this.getUserTickets())})}openGame(e,n=""){this.gameSrv.openGame(e,n)}loadMore(){return _(this,null,function*(){this.showLoadMoreSpinner=!0,this.offset+=bi,yield this.getUserTickets(),this.showLoadMoreSpinner=!1,this.cdr.detectChanges()})}getUserTickets(){return _(this,null,function*(){this.storageSrv.setItem(x.RELOAD_TICKETS,!1);try{let e=yield this.gameSrv.getAllTicketsPrizesByUser(this.limit,this.offset);this.showLoadMore=!1,this.offset===0?this.tickets=e:this.tickets=this.tickets.concat(e),e.length>=this.limit&&(this.showLoadMore=!0)}catch(e){console.log("Error getting tickets by user",e)}this.tickets.length?this.sortTicketsByDate():this.noTicketsLoaded=!0,this.cdr.detectChanges()})}};i.\u0275fac=function(n){return new(n||i)(d.\u0275\u0275directiveInject(d.ChangeDetectorRef),d.\u0275\u0275directiveInject(L),d.\u0275\u0275directiveInject(y))},i.\u0275cmp=d.\u0275\u0275defineComponent({type:i,selectors:[["app-tickets"]],standalone:!0,features:[d.\u0275\u0275StandaloneFeature],decls:5,vars:1,consts:[["padding","","color","light"],["slot","fixed",3,"ionRefresh"],["class","main-container"],[1,"main-container"],["class","main-container-element"],[1,"main-container-element"],[3,"data"],[3,"data","click","deleteTicketEvent"],[1,"main-container-element",3,"click"],["name","crescent"],[1,"main-container-element-load-more"],[1,"main-container-element-load-more-text"],["class","empty-content"],[1,"empty-content"],["name","scan-circle-outline",1,"empty-content-icon"],[1,"empty-content-message"],[3,"skeleton"]],template:function(n,o){n&1&&(d.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-refresher",1),d.\u0275\u0275listener("ionRefresh",function(v){return o.handleRefresh(v)}),d.\u0275\u0275element(2,"ion-refresher-content"),d.\u0275\u0275elementEnd(),d.\u0275\u0275template(3,Ci,4,1,"section",2)(4,yi,2,1),d.\u0275\u0275elementEnd()),n&2&&(d.\u0275\u0275advance(3),d.\u0275\u0275conditional(3,o.tickets.length?3:4))},dependencies:[si,ci,li,z.IonContent,z.IonIcon,z.IonRefresher,z.IonRefresherContent,z.IonSpinner,mi,Ce.TranslatePipe,vt,St],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px;--background: var(--color-background)}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-bottom:150px;background-color:var(--color-background)}[_nghost-%COMP%]   .main-container-element[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .main-container-element-load-more[_ngcontent-%COMP%]{justify-content:center;width:100%;height:40px;background-color:transparent;border:solid thin var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;margin:5px;border-radius:7px;box-shadow:var(--box-shadow);padding:15px}[_nghost-%COMP%]   .main-container-element-load-more-text[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}[_nghost-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}[_nghost-%COMP%]   .empty-content-icon[_ngcontent-%COMP%]{width:120px;height:120px;color:gray}[_nghost-%COMP%]   .empty-content-message[_ngcontent-%COMP%]{color:gray;margin:20px}"],changeDetection:0});let t=i;return t})();import{CommonModule as ki}from"@angular/common";import"@angular/core";import{IonicModule as Pi}from"@ionic/angular";import{QrCodeModule as wi}from"ng-qrcode";import{RouterModule as Oi}from"@angular/router";import{TranslateModule as Mi}from"@ngx-translate/core";import*as s from"@angular/core";import*as Dt from"@ngx-translate/core";import*as k from"@ionic/angular";import*as xe from"@angular/common";import*as Se from"ng-qrcode";var Ii=["accordionGroup"];function Ti(t,i){if(t&1&&s.\u0275\u0275element(0,"qr-code",18),t&2){let r=s.\u0275\u0275nextContext();s.\u0275\u0275property("value",r.qrUuid)}}function Ei(t,i){if(t&1&&(s.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),s.\u0275\u0275text(3),s.\u0275\u0275pipe(4,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"p"),s.\u0275\u0275text(6),s.\u0275\u0275elementEnd()()()),t&2){let r=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(4,2,"GLOBAL.ID")),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(r.uuid)}}function Li(t,i){if(t&1&&(s.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),s.\u0275\u0275text(3),s.\u0275\u0275pipe(4,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"p"),s.\u0275\u0275text(6),s.\u0275\u0275elementEnd()()()),t&2){let r=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(4,2,"GLOBAL.PUSH_TOKEN")),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(r.pushToken)}}function Ai(t,i){if(t&1&&(s.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),s.\u0275\u0275text(3),s.\u0275\u0275pipe(4,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(5,"p"),s.\u0275\u0275text(6),s.\u0275\u0275elementEnd()()()),t&2){let r=s.\u0275\u0275nextContext();s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(4,2,"GLOBAL.USER_ID")),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(r.user._id)}}function Di(t,i){if(t&1){let r=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"ion-item",13),s.\u0275\u0275listener("click",function(){s.\u0275\u0275restoreView(r);let n=s.\u0275\u0275nextContext();return s.\u0275\u0275resetView(n.deSyncDevice())}),s.\u0275\u0275elementStart(1,"ion-label",19),s.\u0275\u0275text(2),s.\u0275\u0275pipe(3,"translate"),s.\u0275\u0275elementEnd()()}t&2&&(s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(3,1,"UUID.DESYNC_DEVICE")))}var ye=(()=>{let i=class i{handleShellBrowserOpenResponse(e){return _(this,null,function*(){var n;yield this.onBrowserOpenResponse(((n=e.detail)==null?void 0:n.response)||{})})}constructor(e,n,o,C,v,b,w,E){this.cdr=e,this.uuidSrv=n,this.pushSrv=o,this.storageSrv=C,this.userSrv=v,this.translateSrv=b,this.alertController=w,this.modalController=E,this.qrUuid="",this.languages=R,this.currentLanguage=R.EN,this.isSynced=!1,this.uuid="",this.pushToken="",this.user={},this.environment=S}ionViewDidEnter(){this.initLogic()}changeLanguage(e){this.storageSrv.setItem(x.LANGUAGE,e),this.translateSrv.use(e),this.cdr.detectChanges()}deSyncDevice(){return _(this,null,function*(){(yield this.presentAlertConfirmDeSyncUuid())===O.ACCEPT&&(this.storageSrv.removeItem(x.APP_UUID),this.storageSrv.removeItem(x.APP_SYNC_MARK),this.isSynced=!1,this.pushSrv.init(),yield this.uuidSrv.init(),setTimeout(()=>{this.initLogic()},400),this.cdr.detectChanges())})}initLogic(){this.qrUuid=F.UUID_QR_CODE+this.uuidSrv.getUuid(),this.isSynced=!!this.storageSrv.getItem(x.APP_SYNC_MARK),this.currentLanguage=this.storageSrv.getItem(x.LANGUAGE)||R.EN,this.uuid=this.uuidSrv.getUuid(),this.pushToken=this.pushSrv.getToken(),this.user=this.userSrv.getUser(),this.cdr.detectChanges()}launchOnboarding(){return _(this,null,function*(){let e=yield this.modalController.create({component:Tt});e.present(),yield e.onWillDismiss(),this.pushSrv.init(),yield this.uuidSrv.init();let n=this.storageSrv.getItem(x.LANGUAGE)||R.EN;this.translateSrv.use(n),this.currentLanguage=this.storageSrv.getItem(x.LANGUAGE)||R.EN,this.storageSrv.setItem(x.ONBOARDING,!0)})}toggleAccordion(){let e=this.accordionGroup;e.value==="first"?e.value=void 0:e.value="first"}buyMeACoffee(){window.dispatchEvent(new CustomEvent(D.SHELL_BROWSER_OPEN,{detail:{url:"https://www.buymeacoffee.com/longocode"}}))}presentAlertConfirmDeSyncUuid(){return _(this,null,function*(){let e=yield this.alertController.create({header:this.translateSrv.instant("UUID.DESYNC_DEVICE"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("UUID.DESYNC_DEVICE_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:O.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:O.ACCEPT,handler:()=>{}}]});yield e.present();let{role:n}=yield e.onDidDismiss();return n})}onBrowserOpenResponse(e){console.log("Browser open response",e)}};i.\u0275fac=function(n){return new(n||i)(s.\u0275\u0275directiveInject(s.ChangeDetectorRef),s.\u0275\u0275directiveInject(Q),s.\u0275\u0275directiveInject(rt),s.\u0275\u0275directiveInject(y),s.\u0275\u0275directiveInject(U),s.\u0275\u0275directiveInject(Dt.TranslateService),s.\u0275\u0275directiveInject(k.AlertController),s.\u0275\u0275directiveInject(k.ModalController))},i.\u0275cmp=s.\u0275\u0275defineComponent({type:i,selectors:[["app-menu"]],viewQuery:function(n,o){if(n&1&&s.\u0275\u0275viewQuery(Ii,7),n&2){let C;s.\u0275\u0275queryRefresh(C=s.\u0275\u0275loadQuery())&&(o.accordionGroup=C.first)}},hostBindings:function(n,o){n&1&&s.\u0275\u0275listener("shellBrowserOpenResponse",function(v){return o.handleShellBrowserOpenResponse(v)},!1,s.\u0275\u0275resolveWindow)},standalone:!0,features:[s.\u0275\u0275StandaloneFeature],decls:41,vars:34,consts:[["padding","","color","light"],[1,"menu-list",3,"inset"],[1,"menu-list-qr",3,"click"],["size","200","errorCorrectionLevel","M",3,"value",4,"ngIf"],["accordionGroup",""],["value","first"],["slot","content"],["interface","action-sheet",3,"label","value","ionChange"],["value","en"],["value","es"],["value","ca"],["value","gl"],["value","eu"],["button","",3,"click"],["button",""],[1,"menu-list","buy-me-a-coffee",3,"inset"],["button","",1,"buy-me-a-coffee",3,"click"],["alt","Buy Me A Coffee",1,"buy-me-a-coffee-img",3,"src"],["size","200","errorCorrectionLevel","M",3,"value"],["color","danger"]],template:function(n,o){n&1&&(s.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-list",1)(2,"section",2),s.\u0275\u0275listener("click",function(){return o.toggleAccordion()}),s.\u0275\u0275template(3,Ti,1,1,"qr-code",3),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"ion-accordion-group",null,4)(6,"ion-accordion",5)(7,"div",6),s.\u0275\u0275template(8,Ei,7,4,"ion-item")(9,Li,7,4,"ion-item")(10,Ai,7,4,"ion-item"),s.\u0275\u0275elementEnd()()()(),s.\u0275\u0275elementStart(11,"ion-list",1)(12,"ion-item")(13,"ion-select",7),s.\u0275\u0275listener("ionChange",function(v){return o.changeLanguage(v.detail.value)}),s.\u0275\u0275pipe(14,"translate"),s.\u0275\u0275elementStart(15,"ion-select-option",8),s.\u0275\u0275text(16),s.\u0275\u0275pipe(17,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(18,"ion-select-option",9),s.\u0275\u0275text(19),s.\u0275\u0275pipe(20,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(21,"ion-select-option",10),s.\u0275\u0275text(22),s.\u0275\u0275pipe(23,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(24,"ion-select-option",11),s.\u0275\u0275text(25),s.\u0275\u0275pipe(26,"translate"),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(27,"ion-select-option",12),s.\u0275\u0275text(28),s.\u0275\u0275pipe(29,"translate"),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275elementStart(30,"ion-item",13),s.\u0275\u0275listener("click",function(){return o.launchOnboarding()}),s.\u0275\u0275elementStart(31,"ion-label"),s.\u0275\u0275text(32),s.\u0275\u0275pipe(33,"translate"),s.\u0275\u0275elementEnd()(),s.\u0275\u0275template(34,Di,4,3,"ion-item",14),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(35,"ion-list",15)(36,"ion-item",16),s.\u0275\u0275listener("click",function(){return o.buyMeACoffee()}),s.\u0275\u0275element(37,"img",17),s.\u0275\u0275elementStart(38,"ion-label"),s.\u0275\u0275text(39),s.\u0275\u0275pipe(40,"translate"),s.\u0275\u0275elementEnd()()()()),n&2&&(s.\u0275\u0275advance(1),s.\u0275\u0275property("inset",!0),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngIf",o.qrUuid),s.\u0275\u0275advance(5),s.\u0275\u0275conditional(8,o.uuid?8:-1),s.\u0275\u0275advance(1),s.\u0275\u0275conditional(9,o.pushToken?9:-1),s.\u0275\u0275advance(1),s.\u0275\u0275conditional(10,o.user?10:-1),s.\u0275\u0275advance(1),s.\u0275\u0275property("inset",!0),s.\u0275\u0275advance(2),s.\u0275\u0275propertyInterpolate("label",s.\u0275\u0275pipeBind1(14,18,"GLOBAL.LANGUAGES")),s.\u0275\u0275propertyInterpolate("value",o.currentLanguage),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(17,20,"GLOBAL.ENGLISH")),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(20,22,"GLOBAL.SPANISH")),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(23,24,"GLOBAL.CATALAN")),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(26,26,"GLOBAL.GALICIAN")),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(29,28,"GLOBAL.BASQUE")),s.\u0275\u0275advance(4),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(33,30,"CONFIG.LAUNCH_ONBOARDING")),s.\u0275\u0275advance(2),s.\u0275\u0275conditional(34,o.isSynced?34:-1),s.\u0275\u0275advance(1),s.\u0275\u0275property("inset",!0),s.\u0275\u0275advance(2),s.\u0275\u0275property("src",o.environment.web.host+"/assets/logos/bmc-logo-yellow.png",s.\u0275\u0275sanitizeUrl),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(40,32,"GLOBAL.BUY_ME_A_COFFEE")))},dependencies:[ki,xe.NgIf,Pi,k.IonAccordion,k.IonAccordionGroup,k.IonContent,k.IonItem,k.IonLabel,k.IonList,k.IonSelect,k.IonSelectOption,k.SelectValueAccessor,Oi,wi,Se.QrCodeComponent,Mi,Dt.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;--offset-bottom: 100px !important}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .menu-list-qr[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:10px 0}[_nghost-%COMP%]   .menu-list-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}[_nghost-%COMP%]   .menu-list[_ngcontent-%COMP%]:last-of-type{margin-bottom:200px}[_nghost-%COMP%]   .buy-me-a-coffee[_ngcontent-%COMP%]::part(native){background-color:#ffdd02}[_nghost-%COMP%]   .buy-me-a-coffee[_ngcontent-%COMP%]{text-align:left;background-color:#ffdd02}[_nghost-%COMP%]   .buy-me-a-coffee-img[_ngcontent-%COMP%]{height:30px;margin-right:10px}"],changeDetection:0});let t=i;return t})();import{CommonModule as Xi}from"@angular/common";import"@angular/core";import{RouterModule as Ji}from"@angular/router";import{IonicModule as to}from"@ionic/angular";import{TranslateModule as eo}from"@ngx-translate/core";import{CommonModule as Ri}from"@angular/common";import"@angular/core";import{IonicModule as Ni}from"@ionic/angular";import{TranslateModule as Bi}from"@ngx-translate/core";import*as m from"@angular/core";import"@angular/core";import*as be from"@angular/core";var Rt=(()=>{let i=class i{constructor(){}};i.\u0275fac=function(n){return new(n||i)},i.\u0275prov=be.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();import*as Nt from"@angular/common";import*as Pe from"@ionic/angular";function Gi(t,i){if(t&1&&(m.\u0275\u0275elementStart(0,"article",13)(1,"ion-label",10)(2,"span",14),m.\u0275\u0275text(3),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(4,"ion-label",12),m.\u0275\u0275text(5),m.\u0275\u0275pipe(6,"async"),m.\u0275\u0275pipe(7,"currency"),m.\u0275\u0275elementEnd()()),t&2){let r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass","game-more-best-prize-first-number"),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(r.primerPremio.number.substring(1)),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass","game-more-best-prize-first-quantity"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(6,4,m.\u0275\u0275pipeBind2(7,6,r.primerPremio.quantity/100,"EUR")))}}function Ui(t,i){if(t&1&&(m.\u0275\u0275elementStart(0,"article",15)(1,"ion-label",10)(2,"span",14),m.\u0275\u0275text(3),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(4,"ion-label",12),m.\u0275\u0275text(5),m.\u0275\u0275pipe(6,"async"),m.\u0275\u0275pipe(7,"currency"),m.\u0275\u0275elementEnd()()),t&2){let r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass","game-more-best-prize-second-number"),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(r.segundoPremio.number.substring(1)),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass","game-more-best-prize-second-quantity"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(6,4,m.\u0275\u0275pipeBind2(7,6,r.segundoPremio.quantity/100,"EUR")))}}function ji(t,i){if(t&1&&(m.\u0275\u0275elementStart(0,"span",14),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),t&2){let r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(r.primerReintegro.number)}}function Vi(t,i){if(t&1&&(m.\u0275\u0275elementStart(0,"span",14),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),t&2){let r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(r.segundoReintegro.number)}}function zi(t,i){if(t&1&&(m.\u0275\u0275elementStart(0,"span",14),m.\u0275\u0275text(1),m.\u0275\u0275elementEnd()),t&2){let r=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(r.tercerReintegro.number)}}var Bt=(()=>{let i=class i{constructor(e){this.lnSrv=e,this.environment=S,this.gameCodes=P,this.primerPremio={},this.segundoPremio={},this.primerReintegro={},this.segundoReintegro={},this.tercerReintegro={}}ngOnChanges(){this.getBestPrizes()}getBestPrizes(){this.primerPremio=this.data.data.info.prizes[0],this.segundoPremio=this.data.data.info.prizes[1],this.primerReintegro=this.data.data.info.prizes[2],this.segundoReintegro=this.data.data.info.prizes[3],this.tercerReintegro=this.data.data.info.prizes[4]}};i.\u0275fac=function(n){return new(n||i)(m.\u0275\u0275directiveInject(Rt))},i.\u0275cmp=m.\u0275\u0275defineComponent({type:i,selectors:[["app-game-ln"]],inputs:{data:"data"},standalone:!0,features:[m.\u0275\u0275NgOnChangesFeature,m.\u0275\u0275StandaloneFeature],decls:22,vars:20,consts:[[1,"game"],[1,"row"],["aria-hidden","true","slot","start","alt","",1,"game-img-title",3,"src"],["aria-hidden","true","slot","start","alt","",1,"game-img",3,"src"],[1,"game-data"],["color","medium",1,"game-data-date"],[1,"game-more"],["class","game-more-item game-more-best-prize-first"],["class","game-more-item game-more-best-prize-second"],[1,"game-more-item"],[3,"ngClass"],["class","ball"],["slot","end",3,"ngClass"],[1,"game-more-item","game-more-best-prize-first"],[1,"ball"],[1,"game-more-item","game-more-best-prize-second"]],template:function(n,o){n&1&&(m.\u0275\u0275elementStart(0,"section",0)(1,"article",1),m.\u0275\u0275element(2,"img",2)(3,"img",3),m.\u0275\u0275elementStart(4,"section",4)(5,"span",5),m.\u0275\u0275text(6),m.\u0275\u0275pipe(7,"async"),m.\u0275\u0275pipe(8,"date"),m.\u0275\u0275elementEnd()()(),m.\u0275\u0275elementStart(9,"article",1)(10,"section",6),m.\u0275\u0275template(11,Gi,8,9,"article",7)(12,Ui,8,9,"article",8),m.\u0275\u0275elementStart(13,"article",9)(14,"ion-label",10),m.\u0275\u0275template(15,ji,2,1,"span",11)(16,Vi,2,1,"span",11)(17,zi,2,1,"span",11),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(18,"ion-label",12),m.\u0275\u0275text(19),m.\u0275\u0275pipe(20,"async"),m.\u0275\u0275pipe(21,"currency"),m.\u0275\u0275elementEnd()()()()()),n&2&&(m.\u0275\u0275advance(2),m.\u0275\u0275property("src",o.environment.web.host+"/assets/logos/games/"+o.data.code+"-title.svg",m.\u0275\u0275sanitizeUrl),m.\u0275\u0275advance(1),m.\u0275\u0275property("src",o.environment.web.host+"/assets/logos/games/"+o.data.code+".svg",m.\u0275\u0275sanitizeUrl),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(7,11,m.\u0275\u0275pipeBind1(8,13,o.data.date))),m.\u0275\u0275advance(5),m.\u0275\u0275conditional(11,o.primerPremio?11:-1),m.\u0275\u0275advance(1),m.\u0275\u0275conditional(12,o.segundoPremio?12:-1),m.\u0275\u0275advance(2),m.\u0275\u0275property("ngClass","game-more-best-prize-third-number"),m.\u0275\u0275advance(1),m.\u0275\u0275conditional(15,o.primerReintegro?15:-1),m.\u0275\u0275advance(1),m.\u0275\u0275conditional(16,o.segundoReintegro?16:-1),m.\u0275\u0275advance(1),m.\u0275\u0275conditional(17,o.tercerReintegro?17:-1),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass","game-more-best-prize-third-quantity"),m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(20,15,m.\u0275\u0275pipeBind2(21,17,o.primerReintegro.quantity/100,"EUR"))))},dependencies:[Ri,Nt.NgClass,Nt.AsyncPipe,q,$,Ni,Pe.IonLabel,Bi],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--pr-primary: #1a8648;--joker-primary: #be1540;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:var(--box-shadow);padding:10px;border:thin solid var(--ln-primary)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100%}[_nghost-%COMP%]   .game-img-title[_ngcontent-%COMP%]{position:absolute;width:100px;top:-25px}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{position:absolute;opacity:.15;width:300px;top:-20px;left:-70px;rotate:20deg}[_nghost-%COMP%]   .game-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .game-data-date[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right;font-size:14px;color:var(--ln-primary);font-weight:700}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .game-more-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:35px;font-size:14px}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{background:var(--ln-primary);color:#fff;padding:5px 10px;border-radius:20px;margin-right:10px}[_nghost-%COMP%]   .game-more-best-prize-first-quantity[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0});let t=i;return t})();import{CommonModule as Hi}from"@angular/common";import"@angular/core";import{IonicModule as Fi}from"@ionic/angular";import{TranslateModule as $i}from"@ngx-translate/core";import*as p from"@angular/core";import*as Gt from"@angular/common";import*as Ut from"@ionic/angular";function qi(t,i){if(t&1&&(p.\u0275\u0275elementStart(0,"span",12),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),t&2){let r=i.$implicit;p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(r)}}function Ki(t,i){if(t&1&&(p.\u0275\u0275elementStart(0,"span",12),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),t&2){let r=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(r.complementary)}}function Qi(t,i){if(t&1&&(p.\u0275\u0275elementStart(0,"span",12),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd()),t&2){let r=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate(r.refund)}}function Wi(t,i){if(t&1&&(p.\u0275\u0275element(0,"img",13),p.\u0275\u0275elementStart(1,"span",14),p.\u0275\u0275text(2),p.\u0275\u0275elementEnd()),t&2){let r=p.\u0275\u0275nextContext(2);p.\u0275\u0275property("src",r.environment.web.host+"/assets/logos/games/joker.svg",p.\u0275\u0275sanitizeUrl),p.\u0275\u0275advance(2),p.\u0275\u0275textInterpolate(r.jokerCombination)}}function Yi(t,i){if(t&1&&(p.\u0275\u0275elementStart(0,"article",7)(1,"ion-label",8),p.\u0275\u0275repeaterCreate(2,qi,2,1,"span",9,p.\u0275\u0275repeaterTrackByIdentity),p.\u0275\u0275elementEnd()(),p.\u0275\u0275elementStart(4,"article",7)(5,"ion-label",8),p.\u0275\u0275template(6,Ki,2,1,"span",9)(7,Qi,2,1,"span",9),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(8,"ion-label",10),p.\u0275\u0275text(9),p.\u0275\u0275pipe(10,"async"),p.\u0275\u0275pipe(11,"currency"),p.\u0275\u0275element(12,"ion-icon",11),p.\u0275\u0275elementEnd()(),p.\u0275\u0275elementStart(13,"article",7)(14,"ion-label",8),p.\u0275\u0275template(15,Wi,3,2),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(16,"ion-label",10),p.\u0275\u0275text(17),p.\u0275\u0275pipe(18,"async"),p.\u0275\u0275pipe(19,"currency"),p.\u0275\u0275element(20,"ion-icon",11),p.\u0275\u0275elementEnd()()),t&2){let r=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275property("ngClass","game-more-item-combination"),p.\u0275\u0275advance(1),p.\u0275\u0275repeater(r.combination),p.\u0275\u0275advance(3),p.\u0275\u0275property("ngClass","game-more-item-complementary"),p.\u0275\u0275advance(1),p.\u0275\u0275conditional(6,r.complementary?6:-1),p.\u0275\u0275advance(1),p.\u0275\u0275conditional(7,r.refund?7:-1),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngClass","game-more-item-complementary strong"),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate2(" ",p.\u0275\u0275pipeBind1(10,12,p.\u0275\u0275pipeBind2(11,14,r.bestCategory.quantity,"EUR"))," ",r.bestCategory.winners," "),p.\u0275\u0275advance(5),p.\u0275\u0275property("ngClass","game-more-item-joker"),p.\u0275\u0275advance(1),p.\u0275\u0275conditional(15,r.jokerCombination?15:-1),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngClass","game-more-item-joker strong"),p.\u0275\u0275advance(1),p.\u0275\u0275textInterpolate2(" ",p.\u0275\u0275pipeBind1(18,17,p.\u0275\u0275pipeBind2(19,19,r.jokerBestCategory.quantity,"EUR"))," ",r.jokerBestCategory.winners," ")}}var Zi=6,we=(()=>{let i=class i{constructor(){this.environment=S,this.gameCodes=P,this.prizes=[],this.combination=[],this.complementary="",this.refund="",this.jokerCombination="",this.bestCategory={},this.jokerBestCategory={}}ngOnInit(){this.prizes=this.data.data.info.prizes,this.setMainData(),this.setBestCategories()}setMainData(){var e,n;this.combination=this.prizes[0].combination.match(/\d+|C\(\d+\)|R\(\d+\)/g)||[],this.complementary=((e=this.prizes[0].combination.match(/C\(\d+\)/g))==null?void 0:e[0])||"",this.refund=((n=this.prizes[0].combination.match(/R\(\d+\)/g))==null?void 0:n[0])||"",this.combination.length=Zi,this.jokerCombination=this.prizes[0].jokerCombination||""}setBestCategories(){this.bestCategory=this.prizes[0].categories.filter(e=>e.winners>0)[0],this.jokerBestCategory=this.prizes[0].categoriesJoker.filter(e=>e.winners>0)[0]}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=p.\u0275\u0275defineComponent({type:i,selectors:[["app-game-pr"]],inputs:{data:"data"},standalone:!0,features:[p.\u0275\u0275StandaloneFeature],decls:12,vars:8,consts:[[1,"game"],[1,"row"],["aria-hidden","true","slot","start","alt","",1,"game-img-title",3,"src"],["aria-hidden","true","slot","start","alt","",1,"game-img",3,"src"],[1,"game-data"],["color","medium",1,"game-data-date"],[1,"game-more"],[1,"game-more-item"],[3,"ngClass"],["class","ball"],["slot","end",3,"ngClass"],["name","person",1,"person"],[1,"ball"],["aria-hidden","true",1,"joker",3,"src"],[1,"ball","ball-joker"]],template:function(n,o){n&1&&(p.\u0275\u0275elementStart(0,"section",0)(1,"article",1),p.\u0275\u0275element(2,"img",2)(3,"img",3),p.\u0275\u0275elementStart(4,"section",4)(5,"span",5),p.\u0275\u0275text(6),p.\u0275\u0275pipe(7,"async"),p.\u0275\u0275pipe(8,"date"),p.\u0275\u0275elementEnd()()(),p.\u0275\u0275elementStart(9,"article",1)(10,"section",6),p.\u0275\u0275template(11,Yi,21,22),p.\u0275\u0275elementEnd()()()),n&2&&(p.\u0275\u0275advance(2),p.\u0275\u0275property("src",o.environment.web.host+"/assets/logos/games/"+o.data.code+"-title.svg",p.\u0275\u0275sanitizeUrl),p.\u0275\u0275advance(1),p.\u0275\u0275property("src",o.environment.web.host+"/assets/logos/games/"+o.data.code+".svg",p.\u0275\u0275sanitizeUrl),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(7,4,p.\u0275\u0275pipeBind1(8,6,o.data.date))),p.\u0275\u0275advance(5),p.\u0275\u0275conditional(11,o.prizes[0].combination?11:-1))},dependencies:[Hi,Gt.NgClass,Gt.AsyncPipe,q,$,Fi,Ut.IonIcon,Ut.IonLabel,$i],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--pr-primary: #1a8648;--joker-primary: #be1540;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:var(--box-shadow);padding:10px;border:thin solid var(--pr-primary)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100%}[_nghost-%COMP%]   .game-img-title[_ngcontent-%COMP%]{position:absolute;width:100px;top:-25px}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{position:absolute;opacity:.15;width:300px;top:-20px;left:-70px;rotate:20deg}[_nghost-%COMP%]   .game-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .game-data-date[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right;font-size:14px;color:var(--pr-primary);font-weight:700}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .game-more-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:35px;font-size:14px}[_nghost-%COMP%]   .game-more-item-combination[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .game-more-item-complementary[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .game-more-item-complementary.strong[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .game-more-item-joker[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .game-more-item-joker.strong[_ngcontent-%COMP%]{color:var(--joker-primary);font-weight:700}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{background:var(--pr-primary);color:#fff;padding:5px 10px;border-radius:20px;margin-right:10px}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .ball-joker[_ngcontent-%COMP%]{background-color:var(--joker-primary)}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .joker[_ngcontent-%COMP%]{width:40px;height:40px;width:30px;height:30px;margin-right:10px}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]{width:24px}"],changeDetection:0});let t=i;return t})();import*as h from"@angular/core";import*as j from"@ionic/angular";import*as Oe from"@ngx-translate/core";var no=(t,i)=>i._id;function io(t,i){if(t&1&&h.\u0275\u0275element(0,"app-game-ln",6),t&2){let r=h.\u0275\u0275nextContext().$implicit;h.\u0275\u0275property("data",r)}}function oo(t,i){if(t&1&&h.\u0275\u0275element(0,"app-game-pr",6),t&2){let r=h.\u0275\u0275nextContext().$implicit;h.\u0275\u0275property("data",r)}}function ao(t,i){if(t&1){let r=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"span",5),h.\u0275\u0275listener("click",function(){let o=h.\u0275\u0275restoreView(r).$implicit,C=h.\u0275\u0275nextContext(2);return h.\u0275\u0275resetView(C.openGame(o))}),h.\u0275\u0275template(1,io,1,1,"app-game-ln",6)(2,oo,1,1,"app-game-pr",6),h.\u0275\u0275elementEnd()}if(t&2){let r=i.$implicit,e=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275conditional(1,r.code===e.gamesCodes.LOTERIA_NACIONAL?1:-1),h.\u0275\u0275advance(1),h.\u0275\u0275conditional(2,r.code===e.gamesCodes.LA_PRIMITIVA?2:-1)}}function ro(t,i){t&1&&(h.\u0275\u0275elementStart(0,"span"),h.\u0275\u0275element(1,"ion-spinner",7),h.\u0275\u0275elementEnd())}function so(t,i){t&1&&(h.\u0275\u0275elementStart(0,"section",8)(1,"span",9),h.\u0275\u0275text(2),h.\u0275\u0275pipe(3,"translate"),h.\u0275\u0275elementEnd()()),t&2&&(h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(3,1,"GLOBAL.LOAD_MORE")))}function co(t,i){if(t&1){let r=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"span",5),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(r);let n=h.\u0275\u0275nextContext(2);return h.\u0275\u0275resetView(n.loadMore())}),h.\u0275\u0275template(1,ro,2,0,"span")(2,so,4,3),h.\u0275\u0275elementEnd()}if(t&2){let r=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275conditional(1,r.showLoadMoreSpinner?1:2)}}function lo(t,i){if(t&1&&(h.\u0275\u0275elementStart(0,"section",3),h.\u0275\u0275repeaterCreate(1,ao,3,2,"span",4,no),h.\u0275\u0275template(3,co,3,1,"span",4),h.\u0275\u0275elementEnd()),t&2){let r=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275repeater(r.games),h.\u0275\u0275advance(2),h.\u0275\u0275conditional(3,r.showLoadMore?3:-1)}}function mo(t,i){t&1&&(h.\u0275\u0275elementStart(0,"section",11),h.\u0275\u0275element(1,"ion-icon",12),h.\u0275\u0275elementStart(2,"span",13),h.\u0275\u0275text(3),h.\u0275\u0275pipe(4,"translate"),h.\u0275\u0275elementEnd()()),t&2&&(h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(4,1,"GAMES.EMPTY_GAME_LIST")))}function po(t,i){t&1&&(h.\u0275\u0275elementStart(0,"span",14)(1,"section",15)(2,"article",16),h.\u0275\u0275element(3,"ion-skeleton-text",17)(4,"ion-skeleton-text",18),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(5,"article",19),h.\u0275\u0275element(6,"ion-skeleton-text",20),h.\u0275\u0275elementEnd()()()),t&2&&(h.\u0275\u0275advance(3),h.\u0275\u0275property("animated",!0),h.\u0275\u0275advance(1),h.\u0275\u0275property("animated",!0),h.\u0275\u0275advance(2),h.\u0275\u0275property("animated",!0))}function ho(t,i){if(t&1&&(h.\u0275\u0275elementStart(0,"section",3),h.\u0275\u0275repeaterCreate(1,po,7,3,"span",4,h.\u0275\u0275repeaterTrackByIdentity),h.\u0275\u0275elementEnd()),t&2){let r=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275repeater(r.skeletons)}}function go(t,i){if(t&1&&h.\u0275\u0275template(0,mo,5,3,"section",10)(1,ho,3,0),t&2){let r=h.\u0275\u0275nextContext();h.\u0275\u0275conditional(0,r.noGamesLoaded?0:1)}}var qt=10,uo=2,jt=15,Me=(()=>{let i=class i{constructor(e,n,o){this.cdr=e,this.gameSrv=n,this.storageSrv=o,this.games=[],this.gamesCodes=P,this.showLoadMore=!0,this.skeletons=Array(qt*uo).fill(0),this.noGamesLoaded=!1,this.showLoadMoreSpinner=!1,this.limit=qt,this.offset=0,this.minDays=0,this.maxDays=this.minDays+jt}ionViewDidEnter(){return _(this,null,function*(){this.limit=qt,this.games.length||(yield this.loadGames()),this.cdr.detectChanges()})}loadGames(){return _(this,null,function*(){this.showLoadMore=!0;let e=yield this.getGamesByCodeOnlyWithPrizes(P.LOTERIA_NACIONAL),n=yield this.getGamesByCodeOnlyWithPrizes(P.LA_PRIMITIVA);this.minDays===0&&(this.games=[]);let o=this.games.length;this.games=this.games.concat(e,n),this.games.length===o&&(this.showLoadMore=!1),this.cdr.detectChanges(),this.games.length?this.sortGamesByDate():this.noGamesLoaded=!0,this.cdr.detectChanges()})}openGame(e){this.gameSrv.openGame(e)}loadMore(){return _(this,null,function*(){this.showLoadMoreSpinner=!0,this.minDays+=jt,this.maxDays=this.minDays+jt,yield this.loadGames(),this.showLoadMoreSpinner=!1,this.cdr.detectChanges()})}handleRefresh(e){return _(this,null,function*(){this.minDays=0,this.maxDays=this.minDays+jt,yield this.loadGames(),e.target.complete()})}sortGamesByDate(){this.games.sort((e,n)=>{let o=new Date(e.date);return new Date(n.date).getTime()-o.getTime()})}getGamesByCodeOnlyWithPrizes(e){return _(this,null,function*(){let n=[];try{n=yield this.gameSrv.getAllGamesByCodeOnlyWithPrizes(e,this.limit,this.offset,this.minDays,this.maxDays)}catch(o){console.log("Error getting games by code",o)}return n})}};i.\u0275fac=function(n){return new(n||i)(h.\u0275\u0275directiveInject(h.ChangeDetectorRef),h.\u0275\u0275directiveInject(L),h.\u0275\u0275directiveInject(y))},i.\u0275cmp=h.\u0275\u0275defineComponent({type:i,selectors:[["app-games"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:5,vars:1,consts:[["padding","","color","light"],["slot","fixed",3,"ionRefresh"],["class","main-container"],[1,"main-container"],["class","main-container-element"],[1,"main-container-element",3,"click"],[3,"data"],["name","crescent"],[1,"main-container-element-load-more"],[1,"main-container-element-load-more-text"],["class","empty-content"],[1,"empty-content"],["name","scan-circle-outline",1,"empty-content-icon"],[1,"empty-content-message"],[1,"main-container-element"],[1,"skeleton-item"],[1,"skeleton-item-row"],[1,"skeleton-item-img",3,"animated"],[1,"skeleton-item-date",3,"animated"],[1,"skeleton-item-row","body"],[1,"skeleton-item-body",3,"animated"]],template:function(n,o){n&1&&(h.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-refresher",1),h.\u0275\u0275listener("ionRefresh",function(v){return o.handleRefresh(v)}),h.\u0275\u0275element(2,"ion-refresher-content"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(3,lo,4,1,"section",2)(4,go,2,1),h.\u0275\u0275elementEnd()),n&2&&(h.\u0275\u0275advance(3),h.\u0275\u0275conditional(3,o.games.length?3:4))},dependencies:[Xi,Ji,to,j.IonContent,j.IonIcon,j.IonRefresher,j.IonRefresherContent,j.IonSkeletonText,j.IonSpinner,eo,Oe.TranslatePipe,Bt,we],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px;--background: var(--color-background)}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-bottom:150px;background-color:var(--color-background)}[_nghost-%COMP%]   .main-container-element[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .main-container-element-load-more[_ngcontent-%COMP%]{justify-content:center;width:100%;height:40px;background-color:transparent;border:solid thin var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;margin:5px;border-radius:7px;box-shadow:var(--box-shadow);padding:15px}[_nghost-%COMP%]   .main-container-element-load-more-text[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}[_nghost-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}[_nghost-%COMP%]   .empty-content-icon[_ngcontent-%COMP%]{width:120px;height:120px;color:gray}[_nghost-%COMP%]   .empty-content-message[_ngcontent-%COMP%]{color:gray;margin:20px}[_nghost-%COMP%]   .skeleton-item[_ngcontent-%COMP%]{width:100%;height:173px;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:var(--box-shadow);padding:10px;border:thin solid var(--ion-color-medium)}[_nghost-%COMP%]   .skeleton-item-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;width:100%}[_nghost-%COMP%]   .skeleton-item-row.body[_ngcontent-%COMP%]{height:100%;margin-bottom:7px}[_nghost-%COMP%]   .skeleton-item-img[_ngcontent-%COMP%]{min-width:25px;max-width:25px;height:25px;margin-right:25px}[_nghost-%COMP%]   .skeleton-item-date[_ngcontent-%COMP%]{width:100%;height:17px}[_nghost-%COMP%]   .skeleton-item-body[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:7px}"],changeDetection:0});let t=i;return t})();import{CommonModule as fo}from"@angular/common";import"@angular/core";import{IonicModule as _o}from"@ionic/angular";import{ScrollingModule as Co}from"@angular/cdk/scrolling";import{TranslateModule as vo}from"@ngx-translate/core";import{FormsModule as xo}from"@angular/forms";import*as u from"@angular/core";import*as ft from"@angular/common";import*as I from"@ionic/angular";import*as st from"@angular/forms";import*as Kt from"@ngx-translate/core";var So=()=>[ft.NgClass,ft.AsyncPipe,import("./chunk-JBMI4RRX.js").then(t=>t.CustomCurrencyPipe),I.IonItem,I.IonLabel,I.IonList,Kt.TranslatePipe];function yo(t,i){if(t&1&&u.\u0275\u0275element(0,"app-game-ln",2),t&2){let r=u.\u0275\u0275nextContext();u.\u0275\u0275property("data",r.game)}}function bo(t,i){t&1&&u.\u0275\u0275element(0,"ion-spinner",7)}function ko(t,i){t&1&&u.\u0275\u0275element(0,"ion-icon",8)}function Po(t,i){t&1&&u.\u0275\u0275element(0,"ion-icon",9)}function wo(t,i){t&1&&u.\u0275\u0275element(0,"ion-icon",10)}function Oo(t,i){t&1&&u.\u0275\u0275element(0,"ion-icon",11)}function Mo(t,i){t&1&&u.\u0275\u0275element(0,"ion-icon",12)}function Io(t,i){if(t&1){let r=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"ion-icon",13),u.\u0275\u0275listener("click",function(){u.\u0275\u0275restoreView(r);let n=u.\u0275\u0275nextContext();return u.\u0275\u0275resetView(n.clearSearch())}),u.\u0275\u0275elementEnd()}}function To(t,i){if(t&1&&(u.\u0275\u0275elementStart(0,"ion-item",15)(1,"ion-label",16)(2,"span",17),u.\u0275\u0275text(3),u.\u0275\u0275pipe(4,"translate"),u.\u0275\u0275elementEnd()(),u.\u0275\u0275elementStart(5,"ion-label",18),u.\u0275\u0275text(6),u.\u0275\u0275pipe(7,"async"),u.\u0275\u0275pipe(8,"currency"),u.\u0275\u0275elementEnd()()),t&2){let r=i.$implicit,e=i.$index;u.\u0275\u0275advance(1),u.\u0275\u0275property("ngClass","result-list-prize-number-"+e),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind1(4,4,r.number.substring(1))),u.\u0275\u0275advance(2),u.\u0275\u0275property("ngClass","result-list-prize-quantity-"+e),u.\u0275\u0275advance(1),u.\u0275\u0275textInterpolate(u.\u0275\u0275pipeBind1(7,6,u.\u0275\u0275pipeBind2(8,8,r.quantity/100,"EUR")))}}function Eo(t,i){if(t&1&&u.\u0275\u0275repeaterCreate(0,To,9,11,"ion-item",19,u.\u0275\u0275repeaterTrackByIndex),t&2){let r=u.\u0275\u0275nextContext(2);u.\u0275\u0275repeater(r.results)}}function Lo(t,i){if(t&1&&(u.\u0275\u0275elementStart(0,"ion-list",14),u.\u0275\u0275template(1,Eo,2,0),u.\u0275\u0275elementEnd()),t&2){let r=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275conditional(1,r.results.length?1:-1)}}var Ao=t=>({error:t}),Ie=(()=>{let i=class i{constructor(e,n,o){this.cdr=e,this.lnSrv=n,this.gameSrv=o,this.debounce=1e3,this.minSearchLength=3,this.environment=S,this.game={},this.gameCodes=P,this.results=[],this.searchValue="",this.showSearchLoading=!1}ionViewDidEnter(){this.searchValue="",this.game=history.state.game,this.searchValue=history.state.number||"",this.results=[],this.handleInput({target:{value:this.searchValue}}),this.cdr.detectChanges()}handleInput(e){return _(this,null,function*(){if(this.showSearchLoading=!0,e.target.value.length&&e.target.value.length>=this.minSearchLength)try{let n=yield this.gameSrv.checkPrizeByNumberLN(this.game.data.info.gameId||"",e.target.value);this.results=n||[]}catch(n){console.error(n),this.results=[]}else this.results=[];console.log(this.results),this.showSearchLoading=!1,this.cdr.detectChanges()})}clearSearch(){this.searchValue="",this.results=[]}padStart(e,n,o){return n=n>>0,o=String(typeof o<"u"?o:" "),e.length>=n?String(e):(n=n-e.length,n>o.length&&(o+=o.repeat(n/o.length)),o.slice(0,n)+String(e))}};i.\u0275fac=function(n){return new(n||i)(u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(Rt),u.\u0275\u0275directiveInject(L))},i.\u0275cmp=u.\u0275\u0275defineComponent({type:i,selectors:[["app-game-detail"]],standalone:!0,features:[u.\u0275\u0275StandaloneFeature],decls:16,vars:11,consts:[[1,"container"],[1,"game"],[3,"data"],[1,"search"],["maxlength","5","type","tel",3,"ngClass","placeholder","ngModel","debounce","ionInput","ngModelChange","keypress","keyup"],["class","search-icon","slot","start","name","dots","aria-hidden","true"],["class","search-icon","slot","end","name","close","aria-hidden","true"],["slot","start","name","dots","aria-hidden","true",1,"search-icon"],["slot","start","name","search","aria-hidden","true",1,"search-icon"],["slot","start","name","checkmark-outline","aria-hidden","true",1,"search-icon"],["slot","start","name","alert-outline","aria-hidden","true",1,"search-icon"],["slot","start","name","file-tray-outline","aria-hidden","true",1,"search-icon"],["slot","start","name","checkmark-done-outline","aria-hidden","true",1,"search-icon"],["slot","end","name","close","aria-hidden","true",1,"search-icon",3,"click"],[1,"result-list"],[1,"result-list-prize"],[3,"ngClass"],[1,"ball"],["slot","end",3,"ngClass"],["class","result-list-prize"]],template:function(n,o){n&1&&(u.\u0275\u0275elementStart(0,"ion-content",0)(1,"section",1),u.\u0275\u0275template(2,yo,1,1,"app-game-ln",2),u.\u0275\u0275elementStart(3,"article",3)(4,"ion-input",4),u.\u0275\u0275listener("ionInput",function(v){return o.handleInput(v)})("ngModelChange",function(v){return o.searchValue=v})("keypress",function(){return o.showSearchLoading=!0})("keyup",function(){return o.showSearchLoading=!0}),u.\u0275\u0275pipe(5,"translate"),u.\u0275\u0275template(6,bo,1,0,"ion-spinner",5)(7,ko,1,0)(8,Po,1,0)(9,wo,1,0)(10,Oo,1,0)(11,Mo,1,0)(12,Io,1,0,"ion-icon",6),u.\u0275\u0275elementEnd()(),u.\u0275\u0275template(13,Lo,2,1),u.\u0275\u0275defer(14,13,So),u.\u0275\u0275deferOnIdle(),u.\u0275\u0275elementEnd()()),n&2&&(u.\u0275\u0275advance(2),u.\u0275\u0275conditional(2,o.game&&o.game._id?2:-1),u.\u0275\u0275advance(2),u.\u0275\u0275propertyInterpolate("placeholder",u.\u0275\u0275pipeBind1(5,7,"GLOBAL.SEARCH")),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(9,Ao,!o.showSearchLoading&&o.searchValue.length&&o.searchValue.length<o.minSearchLength))("ngModel",o.searchValue)("debounce",o.debounce),u.\u0275\u0275advance(2),u.\u0275\u0275conditional(6,o.showSearchLoading?6:!o.results.length&&!o.searchValue.length?7:o.results.length&&o.searchValue.length<5&&o.searchValue.length>=o.minSearchLength?8:!o.results.length&&o.searchValue.length<o.minSearchLength?9:!o.results.length&&o.searchValue.length?10:11),u.\u0275\u0275advance(6),u.\u0275\u0275conditional(12,o.searchValue.length?12:-1))},dependencies:[fo,ft.NgClass,Co,_o,I.IonContent,I.IonIcon,I.IonInput,I.IonSpinner,I.TextValueAccessor,xo,st.NgControlStatus,st.MaxLengthValidator,st.NgModel,vo,Kt.TranslatePipe,Bt],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--pr-primary: #1a8648;--joker-primary: #be1540;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%;width:100%;overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .ball[_ngcontent-%COMP%]{background:var(--ln-primary);color:#fff;padding:5px 10px;border-radius:20px;margin-right:10px}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:var(--color-background);box-shadow:#0000003d 0 3px 8px;width:100%;height:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%;padding:15px 15px 0}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:0 15px;background-color:#fff;border-radius:100px;margin:15px;border:thin solid black;width:calc(100% - 30px)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:16px;margin-right:10px}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]{margin-bottom:56px;overflow-y:scroll;overscroll-behavior:none;height:100%;width:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .result-list-prize[_ngcontent-%COMP%]{font-size:14px}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{width:50px;margin:0 15px 0 0}[_nghost-%COMP%]   .no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}"],changeDetection:0});let t=i;return t})();var Te=[{path:"",component:_e,children:[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:ge,children:[{path:"games",component:Me},{path:"game-detail-ln",component:Ie},{path:"scan",component:le},{path:"tickets",component:ve},{path:"menu",component:ye}]}]}];var Ee={providers:[Do(Te,Ro())]};import"@angular/core";import{CommonModule as No}from"@angular/common";import{RouterModule as Bo}from"@angular/router";import*as ct from"@angular/core";import*as Le from"@angular/router";var Ae=(()=>{let i=class i{constructor(){this.title="lookttery-app"}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=ct.\u0275\u0275defineComponent({type:i,selectors:[["app-root"]],standalone:!0,features:[ct.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(n,o){n&1&&ct.\u0275\u0275element(0,"router-outlet")},dependencies:[No,Bo,Le.RouterOutlet]});let t=i;return t})();Go(Ae,Ee).catch(t=>console.error(t));
