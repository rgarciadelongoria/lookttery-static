var we=Object.defineProperty;var ke=(e,u)=>()=>(e&&(u=e(e=0)),u);var Me=(e,u)=>{for(var t in u)we(e,t,{get:u[t],enumerable:!0})};var f=(e,u,t)=>new Promise((n,i)=>{var g=N=>{try{I(t.next(N))}catch(H){i(H)}},_=N=>{try{I(t.throw(N))}catch(H){i(H)}},I=N=>N.done?n(N.value):Promise.resolve(N.value).then(g,_);I((t=t.apply(e,u)).next())});var zt={};Me(zt,{CustomCurrencyPipe:()=>$});import"@angular/core";import{BehaviorSubject as Ee}from"rxjs";import*as lt from"@angular/core";import*as Vt from"@ngx-translate/core";var $,nt=ke(()=>{"use strict";$=(()=>{class e{constructor(t){this.translateService=t}transform(t,n){typeof t=="string"&&(t=parseFloat(t.replace(",",".")));let i={style:"currency",currency:n||"EUR"},g=new Intl.NumberFormat(this.getLocaleFromLang(this.translateService.currentLang),i).format(t),_=new Ee(g);return this.translateService.onLangChange.subscribe(()=>(g=new Intl.NumberFormat(this.getLocaleFromLang(this.translateService.currentLang),i).format(t),_.next(g))),_}getLocaleFromLang(t){return t==="es"?"es-ES":"en-US"}static{this.\u0275fac=function(n){return new(n||e)(lt.\u0275\u0275directiveInject(Vt.TranslateService,16))}}static{this.\u0275pipe=lt.\u0275\u0275definePipe({name:"currency",type:e,pure:!0,standalone:!0})}}return e})()});import{CommonModule as Ke}from"@angular/common";import"@angular/core";import{RouterModule as Qe}from"@angular/router";import{IonicModule as We}from"@ionic/angular";var U=function(e){return e.SHELL_VERSION="shellVersion",e.SHELL_PUSH_TOKEN="shellPushToken",e}(U||{}),E=function(e){return e.SHELL_DEVICE_GET_ID="shellDeviceGetId",e.SHELL_DEVICE_GET_ID_RESPONSE="shellDeviceGetIdResponse",e.SHELL_PUSH_REQUEST_PERMISSION="shellPushRequestPermission",e.SHELL_PUSH_REQUEST_PERMISSION_RESPONSE="shellPushRequestPermissionResponse",e.SHELL_PUSH_REGISTER="shellPushRegister",e.SHELL_PUSH_REGISTER_RESPONSE="shellPushRegisterResponse",e.SHELL_SCANNER_RESPONSE="shellScannerResponse",e.SHELL_SCANNER_REQUEST_PERMISSION="shellScannerRequestPermission",e.SHELL_SCANNER_REQUEST_PERMISSION_RESPONSE="shellScannerRequestPermissionResponse",e.SHELL_SCANNER_START="shellScannerStart",e.SHELL_SCANNER_STOP="shellScannerStop",e.SHELL_SCANNER_ERROR="shellScannerError",e.SHELL_BROWSER_OPEN="shellBrowserOpen",e.SHELL_BROWSER_OPEN_RESPONSE="shellBrowserOpenResponse",e}(E||{}),Lt=function(e){return e.SHELL_LOADING_REMOTE_OK="shellLoadingRemoteOk",e}(Lt||{});var C=function(e){return e.APP_SYNC_MARK="appSyncMark",e.APP_UUID="appUuid",e.LANGUAGE="language",e.ONBOARDING="onboarding",e.TAB_NAVIGATION="tabNavigation",e.TOKEN="token",e.RELOAD_TICKETS="reloadTickets",e}(C||{}),k=function(e){return e.GAMES="games",e.SCAN="scan",e.TICKETS="tickets",e.MENU="menu",e}(k||{}),T=function(e){return e.EN="en",e.ES="es",e.CAT="cat",e.GL="gl",e.EU="eu",e}(T||{}),G=function(e){return e.SYSTEM="[SYSTEM]",e}(G||{}),j=function(e){return e.UUID_EMAIL_DOMAIN="@uuid.app",e.UUID_QR_CODE="app-uuid-code:",e.GAME_CODES="GameCodes",e}(j||{}),b=function(e){return e.LOTERIA_NACIONAL="ln",e.LA_PRIMITIVA="pr",e}(b||{}),P=function(e){return e.CANCEL="CANCEL",e.ACCEPT="ACCEPT",e}(P||{});import{TranslateModule as Ye}from"@ngx-translate/core";import{CommonModule as Ae}from"@angular/common";import{EventEmitter as De}from"@angular/core";var v={api:{host:"https://api.lookttery.com/api"},web:{host:"https://lookttery.com"}};import"@angular/core";import{BehaviorSubject as Ie}from"rxjs";import*as ct from"@angular/core";import*as jt from"@ngx-translate/core";var Q=(()=>{class e{constructor(t){this.translateService=t}transform(t){let n=new Date(t),i={weekday:"long",year:"numeric",month:"long",day:"numeric"},g=n.toLocaleDateString(this.translateService.currentLang,i),_=new Ie(g);return this.translateService.onLangChange.subscribe(()=>(g=n.toLocaleDateString(this.translateService.currentLang,i),_.next(g))),_}static{this.\u0275fac=function(n){return new(n||e)(ct.\u0275\u0275directiveInject(jt.TranslateService,16))}}static{this.\u0275pipe=ct.\u0275\u0275definePipe({name:"date",type:e,pure:!0,standalone:!0})}}return e})();import{IonicModule as Ne}from"@ionic/angular";nt();import{TranslateModule as Re}from"@ngx-translate/core";import*as s from"@angular/core";import"@angular/core";import{lastValueFrom as Kt}from"rxjs";import*as Y from"@angular/core";import*as Qt from"@ionic/angular";import*as Wt from"@ngx-translate/core";import{HttpHeaders as Te}from"@angular/common/http";import"@angular/core";import{catchError as Le}from"rxjs";import*as W from"@angular/core";import*as Ht from"@angular/common/http";import*as $t from"@angular/router";import"@angular/core";import*as Ft from"@angular/core";var S=(()=>{class e{constructor(){}setItem(t,n){localStorage.setItem(t,n)}getItem(t){try{return JSON.parse(localStorage.getItem(t)||"")}catch{return localStorage.getItem(t)}}removeItem(t){localStorage.removeItem(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=Ft.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var qt=function(e){return e.UNAUTHORIZED="Unauthorized",e}(qt||{}),L=(()=>{class e{constructor(t,n,i){this.http=t,this.router=n,this.storageSrv=i}get(t,n){return n=this.addTokenToHeaders(n),this.http.get(t,n)}post(t,n,i){return i=this.addPostHeaders(i),i=this.addTokenToHeaders(i),this.http.post(t,n,i).pipe(this.handleErrorAndRedirect())}delete(t,n){return n=this.addTokenToHeaders(n),this.http.delete(t,n)}addTokenToHeaders(t){let i=[["Authorization",`Bearer ${this.storageSrv.getItem(C.TOKEN)?.token}`]];return this.addHeaders(i,t)}addPostHeaders(t){let n=[["Content-Type","application/json"]];return this.addHeaders(n,t)}addHeaders(t,n){return t.forEach(i=>{n=n||{},n.headers=n.headers||{},n.headers instanceof Te?n.headers=n.headers.append(i[0],i[1]):typeof n.headers=="object"&&(n.headers[i[0]]=i[1])}),n||{}}handleErrorAndRedirect(){return Le((t,n)=>f(this,null,function*(){throw t.status===401&&t.statusText===qt.UNAUTHORIZED&&(this.storageSrv.removeItem(C.TOKEN),this.router.navigate(["/","main"])),t}))}static{this.\u0275fac=function(n){return new(n||e)(W.\u0275\u0275inject(Ht.HttpClient),W.\u0275\u0275inject($t.Router),W.\u0275\u0275inject(S))}}static{this.\u0275prov=W.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var J=(()=>{class e{constructor(t,n,i){this.alertController=t,this.translateSrv=n,this.apiSrv=i,this.apiTicket=`${v.api.host}/ticket`}createNewTicket(t){return f(this,null,function*(){let n={data:{info:{code:t}}};try{let i=yield this.apiSrv.post(this.apiTicket,n);return yield Kt(i)}catch(i){throw i}})}deleteTicketById(t){return f(this,null,function*(){try{let n=yield this.apiSrv.delete(`${this.apiTicket}/${t}`);return yield Kt(n)}catch(n){throw n}})}presentAlertConfirmDeleteTicket(){return f(this,null,function*(){let t=yield this.alertController.create({header:this.translateSrv.instant("TICKETS.DELETE_TICKET"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("TICKETS.DELETE_TICKET_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:P.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:P.ACCEPT,handler:()=>{}}]});yield t.present();let{role:n}=yield t.onDidDismiss();return n})}static{this.\u0275fac=function(n){return new(n||e)(Y.\u0275\u0275inject(Qt.AlertController),Y.\u0275\u0275inject(Wt.TranslateService),Y.\u0275\u0275inject(L))}}static{this.\u0275prov=Y.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();import*as mt from"@angular/common";import*as dt from"@ionic/angular";import*as Jt from"@ngx-translate/core";function Ge(e,u){e&1&&(s.\u0275\u0275elementStart(0,"section",1)(1,"article",2),s.\u0275\u0275element(2,"ion-skeleton-text",3),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(3,"section",4),s.\u0275\u0275element(4,"ion-skeleton-text",5)(5,"ion-skeleton-text",6),s.\u0275\u0275elementEnd()()),e&2&&(s.\u0275\u0275advance(2),s.\u0275\u0275property("animated",!0),s.\u0275\u0275advance(2),s.\u0275\u0275property("animated",!0),s.\u0275\u0275advance(1),s.\u0275\u0275property("animated",!0))}function Be(e,u){if(e&1){let t=s.\u0275\u0275getCurrentView();s.\u0275\u0275elementStart(0,"section",15)(1,"ion-icon",16),s.\u0275\u0275listener("click",function(i){s.\u0275\u0275restoreView(t);let g=s.\u0275\u0275nextContext(2);return g.deleteTicketById(g.data.ticket._id||""),s.\u0275\u0275resetView(i.stopPropagation())}),s.\u0275\u0275elementEnd()()}}function Ue(e,u){if(e&1&&(s.\u0275\u0275elementStart(0,"span",17),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"async"),s.\u0275\u0275pipe(3,"currency"),s.\u0275\u0275elementEnd()),e&2){let t=s.\u0275\u0275nextContext(2);s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(2,1,s.\u0275\u0275pipeBind2(3,3,t.prize.quantity,"EUR")))}}function je(e,u){e&1&&(s.\u0275\u0275elementStart(0,"span",17),s.\u0275\u0275text(1),s.\u0275\u0275pipe(2,"translate"),s.\u0275\u0275elementEnd()),e&2&&(s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(2,1,"GAMES.DRAW_PENDING")))}var Ve=e=>({"has-actions":e});function ze(e,u){if(e&1&&(s.\u0275\u0275template(0,Be,2,0,"section",7),s.\u0275\u0275elementStart(1,"section",8)(2,"article",2),s.\u0275\u0275element(3,"img",9)(4,"img",10),s.\u0275\u0275elementStart(5,"span",11),s.\u0275\u0275text(6),s.\u0275\u0275pipe(7,"async"),s.\u0275\u0275pipe(8,"date"),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(9,"section",4)(10,"span",12)(11,"span",13),s.\u0275\u0275text(12),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(13,"span",13),s.\u0275\u0275text(14),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(15,"span",13),s.\u0275\u0275text(16),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(17,"span",13),s.\u0275\u0275text(18),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(19,"span",13),s.\u0275\u0275text(20),s.\u0275\u0275elementEnd()(),s.\u0275\u0275template(21,Ue,4,6,"span",14)(22,je,3,3),s.\u0275\u0275elementEnd()()),e&2){let t=s.\u0275\u0275nextContext();s.\u0275\u0275conditional(0,t.showActions?0:-1),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass",s.\u0275\u0275pureFunction1(15,Ve,t.showActions)),s.\u0275\u0275advance(2),s.\u0275\u0275property("src",t.environment.web.host+"/assets/logos/games/"+t.data.ticket.code+"-title.svg",s.\u0275\u0275sanitizeUrl),s.\u0275\u0275advance(1),s.\u0275\u0275property("src",t.environment.web.host+"/assets/logos/games/"+t.data.ticket.code+".svg",s.\u0275\u0275sanitizeUrl),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(7,11,s.\u0275\u0275pipeBind1(8,13,t.data.ticket.date))),s.\u0275\u0275advance(6),s.\u0275\u0275textInterpolate(t.data.ticket.data.info.number==null?null:t.data.ticket.data.info.number.toString()[0]),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(t.data.ticket.data.info.number==null?null:t.data.ticket.data.info.number.toString()[1]),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(t.data.ticket.data.info.number==null?null:t.data.ticket.data.info.number.toString()[2]),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(t.data.ticket.data.info.number==null?null:t.data.ticket.data.info.number.toString()[3]),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(t.data.ticket.data.info.number==null?null:t.data.ticket.data.info.number.toString()[4]),s.\u0275\u0275advance(1),s.\u0275\u0275conditional(21,t.data.game.data.info.prizes.length?21:22)}}function Fe(e,u){e&1&&(s.\u0275\u0275elementStart(0,"p"),s.\u0275\u0275text(1,"Game not available"),s.\u0275\u0275elementEnd())}var pt=(()=>{class e{constructor(t){this.ticketSrv=t,this.skeleton=!1,this.showActions=!0,this.deleteTicketEvent=new De,this.environment=v,this.gameCodes=b,this.prize={}}ngOnInit(){this.prize=this.data?.prize||{}}deleteTicketById(t){return f(this,null,function*(){if((yield this.ticketSrv.presentAlertConfirmDeleteTicket())===P.ACCEPT){this.skeleton=!0;let i=yield this.ticketSrv.deleteTicketById(t);i&&this.deleteTicketEvent.emit(i)}})}static{this.\u0275fac=function(n){return new(n||e)(s.\u0275\u0275directiveInject(J))}}static{this.\u0275cmp=s.\u0275\u0275defineComponent({type:e,selectors:[["app-ticket-ln"]],inputs:{data:"data",skeleton:"skeleton",showActions:"showActions"},outputs:{deleteTicketEvent:"deleteTicketEvent"},standalone:!0,features:[s.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[["class","ticket skeleton has-actions"],[1,"ticket","skeleton","has-actions"],[1,"ticket-title"],[1,"skeleton-normal",3,"animated"],[1,"ticket-data"],[1,"skeleton-big",3,"animated"],[3,"animated"],["class","ticket-actions"],[1,"ticket",3,"ngClass"],["aria-hidden","true","slot","start","alt","",1,"ticket-title-img-title",3,"src"],["aria-hidden","true",1,"ticket-title-img",3,"src"],["color","medium",1,"ticket-title-date"],[1,"ticket-data-number"],[1,"ticket-data-number-character"],["class","ticket-data-prize"],[1,"ticket-actions"],["color","danger","name","remove-circle",1,"ticket-actions-delete",3,"click"],[1,"ticket-data-prize"]],template:function(n,i){n&1&&s.\u0275\u0275template(0,Ge,6,3,"section",0)(1,ze,23,17)(2,Fe,2,0),n&2&&s.\u0275\u0275conditional(0,i.skeleton?0:i.data.ticket.code===i.gameCodes.LOTERIA_NACIONAL?1:2)},dependencies:[Ae,mt.NgClass,mt.AsyncPipe,Q,$,Ne,dt.IonIcon,dt.IonSkeletonText,Re,Jt.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .skeleton-normal[_ngcontent-%COMP%]{height:25px}[_nghost-%COMP%]   .skeleton-big[_ngcontent-%COMP%]{height:60px}[_nghost-%COMP%]   .ticket[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:#63636333 0 2px 8px;padding:10px;border:thin solid var(--ln-primary)}[_nghost-%COMP%]   .ticket.skeleton[_ngcontent-%COMP%]{border:thin solid var(--ion-color-medium)}[_nghost-%COMP%]   .ticket-title[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:flex-end;align-items:center;width:100%}[_nghost-%COMP%]   .ticket-title-img-title[_ngcontent-%COMP%]{position:absolute;width:100px;top:-25px;left:0}[_nghost-%COMP%]   .ticket-title-img[_ngcontent-%COMP%]{position:absolute;opacity:.15;width:300px;top:-20px;left:-70px;rotate:20deg}[_nghost-%COMP%]   .ticket-title-date[_ngcontent-%COMP%]{font-size:14px;color:var(--ln-primary);font-weight:700;margin-left:10px}[_nghost-%COMP%]   .ticket-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .ticket-data-number[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;margin:10px 0}[_nghost-%COMP%]   .ticket-data-number-character[_ngcontent-%COMP%]{font-size:40px;font-weight:700;letter-spacing:17px}[_nghost-%COMP%]   .ticket-actions[_ngcontent-%COMP%]{position:relative;height:0;display:flex;width:100%;flex-direction:row;justify-content:flex-end;right:10px;bottom:-5px}[_nghost-%COMP%]   .ticket-actions-delete[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#fff;border-radius:100px}[_nghost-%COMP%]   .has-actions[_ngcontent-%COMP%]{margin-top:17px}"],changeDetection:0})}}return e})();import{ZXingScannerModule as Je}from"@zxing/ngx-scanner";import{BarcodeFormat as ft}from"@zxing/library";import*as p from"@angular/core";import"@angular/core";import{lastValueFrom as Zt}from"rxjs";import{v4 as qe}from"uuid";import*as q from"@angular/core";import"@angular/core";import{BehaviorSubject as He,lastValueFrom as ht}from"rxjs";import*as ot from"@angular/core";var $e=1e3*60*60*1.5,A=(()=>{class e{constructor(t,n){this.apiSrv=t,this.storageSrv=n,this.user={},this.apiUser=`${v.api.host}/user`,this.user$=new He({})}getUser(){return this.user}getUserSubject(){return this.user$}setUser(t){this.user=t,this.user$.next(t)}createUserByUuid(t){return f(this,null,function*(){let n={email:`${t}${j.UUID_EMAIL_DOMAIN}`,password:t,name:t};try{let i=this.apiSrv.post(this.apiUser,n);return yield ht(i)}catch(i){throw i}})}loginByUuid(t){return f(this,null,function*(){this.storageSrv.setItem(C.RELOAD_TICKETS,!0);let n=yield this.login(`${t}${j.UUID_EMAIL_DOMAIN}`,t);return this.setUser(n.user),n})}login(t,n){return f(this,null,function*(){let i={email:t,password:n};try{let g=this.apiSrv.post(`${this.apiUser}/login`,i),_=yield ht(g);if(_.token){let I={token:_.token,date:Date.now()};this.storageSrv.setItem(C.TOKEN,JSON.stringify(I)),console.info(G.SYSTEM,`TOKEN: ${_.token}`)}return _}catch(g){throw g}})}checkTokenExpiration(t){return f(this,null,function*(){let i=this.storageSrv.getItem(C.TOKEN)?.date||0;Date.now()-i>$e&&(yield this.loginByUuid(t))})}getAllTicketsByUser(){return f(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiUser}/ticket/all?limit=100&offset=0`);return yield ht(t)}catch{return[]}})}getAllPushesByUser(){return f(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiUser}/push/all?limit=100&offset=0`);return yield ht(t)}catch{return[]}})}static{this.\u0275fac=function(n){return new(n||e)(ot.\u0275\u0275inject(L),ot.\u0275\u0275inject(S))}}static{this.\u0275prov=ot.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();import"@angular/core";import*as gt from"@angular/core";var ut=(()=>{class e{constructor(t){this.storageSrv=t}hasShell(){return this.storageSrv.getItem(U.SHELL_VERSION)==="0.0.0"}static{this.\u0275fac=function(n){return new(n||e)(gt.\u0275\u0275inject(S))}}static{this.\u0275prov=gt.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var V=(()=>{class e{constructor(t,n,i,g){this.apiSrv=t,this.userSrv=n,this.coreSrv=i,this.storageSrv=g,this.uuid="",this.apiUuid=`${v.api.host}/uuid`,window.addEventListener(E.SHELL_DEVICE_GET_ID_RESPONSE,_=>f(this,null,function*(){let I=localStorage.getItem(C.APP_UUID)||_.detail?.response||"";this.setAppUuid(I),yield this.onDeviceIdResponse()}))}init(){return f(this,null,function*(){yield this.requestDeviceId()})}getUuid(){return this.uuid}updateAppUuid(t){this.setAppUuid(t),this.setSyncMark()}requestDeviceId(){return f(this,null,function*(){if(this.coreSrv.hasShell())window.dispatchEvent(new CustomEvent(E.SHELL_DEVICE_GET_ID));else{let t=localStorage.getItem(C.APP_UUID)||"";this.setAppUuid(t),yield this.onDeviceIdResponse()}})}setAppUuid(t){this.uuid=t,this.uuid||(this.uuid=qe()),this.storageSrv.setItem(C.APP_UUID,this.uuid)}setSyncMark(){this.storageSrv.setItem(C.APP_SYNC_MARK,new Date().toISOString())}onDeviceIdResponse(){return f(this,null,function*(){(yield this.getUuidData())?(yield this.userSrv.loginByUuid(this.uuid),console.info(G.SYSTEM,`UUID: ${this.uuid} was registered.`)):yield this.registerUuid()})}getUuidData(){return f(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiUuid}/${this.uuid}`);return yield Zt(t)}catch{return null}})}registerUuid(){return f(this,null,function*(){let t=yield this.userSrv.createUserByUuid(this.uuid);if((yield this.userSrv.loginByUuid(this.uuid)).token){let i={uuid:this.uuid,user:t._id};try{let g=this.apiSrv.post(this.apiUuid,i),_=yield Zt(g);this.uuid=_.uuid,console.info(G.SYSTEM,`UUID: ${this.uuid} has been registered.`)}catch(g){console.error(g)}}})}static{this.\u0275fac=function(n){return new(n||e)(q.\u0275\u0275inject(L),q.\u0275\u0275inject(A),q.\u0275\u0275inject(ut),q.\u0275\u0275inject(S))}}static{this.\u0275prov=q.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();import"@angular/core";import{lastValueFrom as Dt}from"rxjs";import*as at from"@angular/core";import*as te from"@angular/router";var z=(()=>{class e{constructor(t,n){this.apiSrv=t,this.router=n,this.apiGame=`${v.api.host}/game`}getAllGamesByCodeOnlyWithPrizes(t,n=10,i=0){return f(this,null,function*(){try{let g=this.apiSrv.get(`${this.apiGame}?limit=${n}&offset=${i}&code=${t}&onlyWithPrizes=true`);return yield Dt(g)}catch{return[]}})}getAllTicketsPrizesByUser(t=10,n=0){return f(this,null,function*(){try{let i=this.apiSrv.get(`${this.apiGame}/ticket/all?limit=${t}&offset=${n}`);return yield Dt(i)}catch{return[]}})}getTicketPrizeByTicketId(t){return f(this,null,function*(){try{let n=this.apiSrv.get(`${this.apiGame}/ticket/${t}`);return yield Dt(n)}catch(n){throw n}})}openGame(t){t.data.info.prizes.length&&this.router.navigate(["/main/","game-detail-"+t.code],{state:{game:t}})}static{this.\u0275fac=function(n){return new(n||e)(at.\u0275\u0275inject(L),at.\u0275\u0275inject(te.Router))}}static{this.\u0275prov=at.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();import*as F from"@ionic/angular";import*as _t from"@ngx-translate/core";import*as ee from"@angular/common";import*as ne from"@zxing/ngx-scanner";function Xe(e,u){e&1&&(p.\u0275\u0275elementStart(0,"article"),p.\u0275\u0275text(1,"Camera permission denied."),p.\u0275\u0275elementEnd())}function Ze(e,u){e&1&&p.\u0275\u0275element(0,"ion-spinner",6)}function tn(e,u){if(e&1){let t=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"zxing-scanner",5),p.\u0275\u0275listener("camerasFound",function(i){p.\u0275\u0275restoreView(t);let g=p.\u0275\u0275nextContext(3);return p.\u0275\u0275resetView(g.webCamerasFound(i))})("scanSuccess",function(i){p.\u0275\u0275restoreView(t);let g=p.\u0275\u0275nextContext(3);return p.\u0275\u0275resetView(g.webCodeResult(i))}),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(1,Ze,1,0,"ion-spinner",6)}if(e&2){let t=p.\u0275\u0275nextContext(3);p.\u0275\u0275property("formats",t.allowedFormats),p.\u0275\u0275advance(1),p.\u0275\u0275conditional(1,t.hasWebCamera?-1:1)}}function en(e,u){if(e&1&&(p.\u0275\u0275element(0,"ion-icon",4),p.\u0275\u0275template(1,tn,2,2)),e&2){let t=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275conditional(1,t.showWebScan?1:-1)}}function nn(e,u){if(e&1&&p.\u0275\u0275template(0,en,2,1),e&2){let t=p.\u0275\u0275nextContext();p.\u0275\u0275conditional(0,t.showTicket?-1:0)}}function on(e,u){if(e&1&&p.\u0275\u0275element(0,"app-ticket-ln",8),e&2){let t=p.\u0275\u0275nextContext(2);p.\u0275\u0275property("showActions",!1)("data",t.ticketData)}}function rn(e,u){if(e&1){let t=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"section",7),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(t);let i=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(i.tapTicket(!1))}),p.\u0275\u0275template(1,on,1,2,"app-ticket-ln",8),p.\u0275\u0275elementStart(2,"article",9)(3,"span"),p.\u0275\u0275text(4),p.\u0275\u0275pipe(5,"translate"),p.\u0275\u0275elementEnd()()()}if(e&2){let t=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275conditional(1,(t.ticketData==null||t.ticketData.game==null?null:t.ticketData.game.code)===t.gameCodes.LOTERIA_NACIONAL?1:-1),p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(5,2,"SCAN.MESSAGES.TAP_SCREEN_TO_SCAN"))}}var an=e=>({visibility:e}),ie=(()=>{class e{handleShellScannerResponse(t){return f(this,null,function*(){yield this.onScannerResponse(t.detail?.response||{})})}handleShellScannerError(t){return f(this,null,function*(){yield this.onScannerError(t.detail?.response||{})})}constructor(t,n,i,g,_,I,N,H,Pe){this.cdr=t,this.ticketSrv=n,this.uuidSrv=i,this.userSrv=g,this.gameSrv=_,this.loadingCtrl=I,this.translateSrv=N,this.storageSrv=H,this.alertController=Pe,this.gameCodes=b,this.hasShell=!1,this.responses=[],this.hasPermission=!0,this.ticketData=null,this.showTicket=!1,this.allowedFormats=[ft.QR_CODE,ft.EAN_13,ft.CODE_128,ft.DATA_MATRIX],this.showWebScan=!1,this.hasWebCamera=!1,this.backgroundColor=""}ngOnInit(){}ngAfterViewInit(){}ionViewDidEnter(){return f(this,null,function*(){this.setTicketVisibility(!1),this.showWebScan=!this.storageSrv.getItem(U.SHELL_VERSION),this.cdr.detectChanges(),document.body.style.backgroundColor="transparent",yield this.startScan()})}ionViewWillLeave(){this.setTicketVisibility(!1),document.body.style.backgroundColor=this.backgroundColor,this.stopScan()}startScan(t){return f(this,null,function*(){this.showWebScan=!this.storageSrv.getItem(U.SHELL_VERSION),this.hasPermission=!0,this.cdr.detectChanges(),window.dispatchEvent(new CustomEvent(E.SHELL_SCANNER_START))})}stopScan(t){this.showWebScan=!1,this.cdr.detectChanges(),window.dispatchEvent(new CustomEvent(E.SHELL_SCANNER_STOP))}permissionResponse(t){this.hasPermission=t||!1}setTicketVisibility(t){this.showTicket=t,this.showTicket?document.querySelector("ion-tabs").style.padding="0":document.querySelector("ion-tabs").style.padding="",this.cdr.detectChanges()}tapTicket(t){return f(this,null,function*(){this.setTicketVisibility(!1),yield this.startScan()})}webCodeResult(t){this.onScannerResponse({content:t})}webCamerasFound(t){console.log("cameras",t),t.length>0&&(this.hasWebCamera=!0)}onScannerResponse(t){return f(this,null,function*(){let n=t.displayValue||"";if(this.checkUuidQRCode(n||"")){let i=n.toString().replace(j.UUID_QR_CODE,"");yield this.syncUuid(i),this.setTicketVisibility(!1),yield this.startScan()}else if(t&&!t.closed){this.showLoading();let i="";try{i=(yield this.ticketSrv.createNewTicket(n||""))._id||""}catch(g){i=g.error?.ticket?._id||""}try{this.ticketData=yield this.gameSrv.getTicketPrizeByTicketId(i),this.dismissLoading(),this.setTicketVisibility(!0)}catch{this.setTicketVisibility(!1),yield this.presentAlertInvalidCode(),yield this.startScan()}}})}onScannerError(t){return f(this,null,function*(){this.hasPermission=!1})}checkUuidQRCode(t){return!!t.toString().includes(j.UUID_QR_CODE)}showLoading(){return f(this,null,function*(){(yield this.loadingCtrl.create({message:yield this.translateSrv.instant("SCAN.MESSAGES.CHECKING_TICKETS"),duration:5e3})).present()})}dismissLoading(){return f(this,null,function*(){yield this.loadingCtrl.dismiss()})}presentAlertInvalidCode(){return f(this,null,function*(){this.dismissLoading();let t=yield this.alertController.create({header:this.translateSrv.instant("GLOBAL.INVALID_CODE"),subHeader:this.translateSrv.instant("GLOBAL.INVALID_GAME"),message:this.translateSrv.instant("GLOBAL.INVALID_CODE_TEXT"),buttons:[{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:P.ACCEPT,handler:()=>{}}]});yield t.present();let{role:n}=yield t.onDidDismiss();return n})}presentAlertConfirmSyncUuid(){return f(this,null,function*(){let t=yield this.alertController.create({header:this.translateSrv.instant("UUID.SYNC_DEVICE"),subHeader:this.translateSrv.instant("GLOBAL.CONFIG_ACTION"),message:this.translateSrv.instant("UUID.SYNC_DEVICE_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:P.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:P.ACCEPT,handler:()=>{}}]});yield t.present();let{role:n}=yield t.onDidDismiss();return n})}syncUuid(t){return f(this,null,function*(){(yield this.presentAlertConfirmSyncUuid())===P.ACCEPT&&(this.uuidSrv.updateAppUuid(t),yield this.userSrv.loginByUuid(t))})}static{this.\u0275fac=function(n){return new(n||e)(p.\u0275\u0275directiveInject(p.ChangeDetectorRef),p.\u0275\u0275directiveInject(J),p.\u0275\u0275directiveInject(V),p.\u0275\u0275directiveInject(A),p.\u0275\u0275directiveInject(z),p.\u0275\u0275directiveInject(F.LoadingController),p.\u0275\u0275directiveInject(_t.TranslateService),p.\u0275\u0275directiveInject(S),p.\u0275\u0275directiveInject(F.AlertController))}}static{this.\u0275cmp=p.\u0275\u0275defineComponent({type:e,selectors:[["app-scan"]],hostBindings:function(n,i){n&1&&p.\u0275\u0275listener("shellScannerResponse",function(_){return i.handleShellScannerResponse(_)},!1,p.\u0275\u0275resolveWindow)("shellScannerError",function(_){return i.handleShellScannerError(_)},!1,p.\u0275\u0275resolveWindow)},standalone:!0,features:[p.\u0275\u0275StandaloneFeature],decls:26,vars:5,consts:[[1,"animated-background",3,"ngStyle"],[1,"scan"],[1,"scan-screen"],["class","ticket-background"],["name","add-outline",1,"scan-screen-pointer"],[1,"web-scanner",3,"formats","camerasFound","scanSuccess"],["name","dots"],[1,"ticket-background",3,"click"],[3,"showActions","data"],[1,"ticket-instructions"]],template:function(n,i){n&1&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275element(1,"span")(2,"span")(3,"span")(4,"span")(5,"span")(6,"span")(7,"span")(8,"span")(9,"span")(10,"span")(11,"span")(12,"span")(13,"span")(14,"span")(15,"span")(16,"span")(17,"span")(18,"span")(19,"span")(20,"span"),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(21,"section",1)(22,"section",2),p.\u0275\u0275template(23,Xe,2,0,"article")(24,nn,1,1),p.\u0275\u0275elementEnd()(),p.\u0275\u0275template(25,rn,6,4,"section",3)),n&2&&(p.\u0275\u0275property("ngStyle",p.\u0275\u0275pureFunction1(3,an,i.showTicket?"visible":"hidden")),p.\u0275\u0275advance(23),p.\u0275\u0275conditional(23,i.hasPermission?24:23),p.\u0275\u0275advance(2),p.\u0275\u0275conditional(25,i.showTicket?25:-1))},dependencies:[Ke,ee.NgStyle,Qe,We,F.IonIcon,F.IonSpinner,Ye,_t.TranslatePipe,pt,Je,ne.ZXingScannerComponent],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .scan[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100vh;margin:0}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100vw;height:100vh;box-shadow:#0000004d 0 0 36px 32px inset,#0000004d 0 0 36px 12px inset}[_nghost-%COMP%]   .scan-screen-pointer[_ngcontent-%COMP%]{width:45px;color:#fff;height:45px;z-index:9}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]   .web-scanner[_ngcontent-%COMP%]{position:fixed}[_nghost-%COMP%]   .ticket-background[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:absolute;width:100%;height:100vh;top:0;padding-top:80px}[_nghost-%COMP%]   .ticket-instructions[_ngcontent-%COMP%]{margin-top:40px;font-weight:700;color:#fff}ion-modal[_ngcontent-%COMP%]{--height: 200px;--border-radius: 8px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--background: transparent}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: transparent}ion-modal[_ngcontent-%COMP%]   .ticket-ln[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}ion-modal[_ngcontent-%COMP%]   .ticket-ln-number[_ngcontent-%COMP%]{font-size:40px;font-weight:700;letter-spacing:17px;margin:20px 20px 20px 37px}ion-modal[_ngcontent-%COMP%]   .ticket-ln-prize[_ngcontent-%COMP%]{font-size:20px;font-weight:700}ion-modal[_ngcontent-%COMP%]::part(content){background-color:transparent;border:none;box-shadow:none}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}@keyframes _ngcontent-%COMP%_move{to{transform:translateZ(1px) rotate(360deg)}}.animated-background[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;top:0;left:0;background:#3E1E68;overflow:hidden}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20vmin;height:20vmin;border-radius:20vmin;backface-visibility:hidden;position:absolute;animation:_ngcontent-%COMP%_move;animation-duration:45;animation-timing-function:linear;animation-iteration-count:infinite}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(0){color:#583c87;top:1%;left:25%;animation-duration:49s;animation-delay:-14s;transform-origin:-21vw -17vh;box-shadow:-40vmin 0 5.6508571128vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){color:#583c87;top:92%;left:7%;animation-duration:51s;animation-delay:-32s;transform-origin:22vw -3vh;box-shadow:-40vmin 0 5.8332436514vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){color:#e45a84;top:76%;left:65%;animation-duration:8s;animation-delay:-14s;transform-origin:-14vw -19vh;box-shadow:-40vmin 0 5.1087852604vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){color:#583c87;top:20%;left:55%;animation-duration:9s;animation-delay:-39s;transform-origin:12vw 5vh;box-shadow:40vmin 0 5.3298054904vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){color:#e45a84;top:26%;left:79%;animation-duration:54s;animation-delay:-14s;transform-origin:-6vw -2vh;box-shadow:-40vmin 0 5.3879032859vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){color:#583c87;top:47%;left:93%;animation-duration:7s;animation-delay:-17s;transform-origin:13vw -5vh;box-shadow:-40vmin 0 5.2369732429vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){color:#583c87;top:97%;left:46%;animation-duration:20s;animation-delay:-3s;transform-origin:6vw -16vh;box-shadow:40vmin 0 5.8166757212vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){color:#583c87;top:54%;left:52%;animation-duration:6s;animation-delay:-47s;transform-origin:23vw 16vh;box-shadow:-40vmin 0 5.4546477701vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){color:#e45a84;top:64%;left:61%;animation-duration:23s;animation-delay:-7s;transform-origin:17vw 3vh;box-shadow:-40vmin 0 5.6193809352vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){color:#ffacac;top:96%;left:17%;animation-duration:33s;animation-delay:-44s;transform-origin:20vw 11vh;box-shadow:40vmin 0 5.881491465vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){color:#e45a84;top:8%;left:18%;animation-duration:20s;animation-delay:-29s;transform-origin:18vw 2vh;box-shadow:-40vmin 0 5.9279891447vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){color:#583c87;top:48%;left:95%;animation-duration:51s;animation-delay:-34s;transform-origin:-21vw 24vh;box-shadow:40vmin 0 5.564150385vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){color:#e45a84;top:86%;left:74%;animation-duration:54s;animation-delay:-2s;transform-origin:-1vw 6vh;box-shadow:40vmin 0 5.3909289617vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(13){color:#583c87;top:6%;left:46%;animation-duration:19s;animation-delay:-31s;transform-origin:13vw 15vh;box-shadow:-40vmin 0 5.5802349616vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(14){color:#e45a84;top:45%;left:32%;animation-duration:17s;animation-delay:-41s;transform-origin:7vw 13vh;box-shadow:40vmin 0 5.2147795462vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(15){color:#e45a84;top:6%;left:76%;animation-duration:13s;animation-delay:-34s;transform-origin:-6vw -15vh;box-shadow:-40vmin 0 5.684363269vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(16){color:#ffacac;top:99%;left:41%;animation-duration:28s;animation-delay:-41s;transform-origin:-15vw -9vh;box-shadow:40vmin 0 5.6490626298vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(17){color:#583c87;top:53%;left:87%;animation-duration:38s;animation-delay:-1s;transform-origin:-9vw 5vh;box-shadow:-40vmin 0 5.7487953568vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(18){color:#583c87;top:93%;left:87%;animation-duration:29s;animation-delay:-46s;transform-origin:-8vw 23vh;box-shadow:-40vmin 0 5.2337571763vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(19){color:#ffacac;top:1%;left:67%;animation-duration:38s;animation-delay:-44s;transform-origin:-15vw -14vh;box-shadow:-40vmin 0 5.7801397915vmin currentColor}"],changeDetection:0})}}return e})();import{CommonModule as vn}from"@angular/common";import"@angular/core";import{RouterModule as Sn}from"@angular/router";import{IonicModule as xn}from"@ionic/angular";import{TranslateModule as bn}from"@ngx-translate/core";import{CommonModule as cn}from"@angular/common";import"@angular/core";import"@angular/core";import{FormsModule as ln}from"@angular/forms";import{IonicModule as mn}from"@ionic/angular";import{TranslateLoader as dn,TranslateModule as re}from"@ngx-translate/core";import"@angular/core";import{catchError as sn}from"rxjs/operators";import*as Ct from"@angular/core";import*as oe from"@angular/common/http";var vt=(()=>{class e{constructor(t){this.httpClient=t}getTranslation(t){let n=v.web.host+`/assets/i18n/${t}.json`;return this.httpClient.get(n).pipe(sn(i=>(console.log("Error loading translation file",i),this.httpClient.get(v.web.host+"/assets/i18n/es.json"))))}static{this.\u0275fac=function(n){return new(n||e)(Ct.\u0275\u0275inject(oe.HttpClient))}}static{this.\u0275prov=Ct.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}}return e})();import{HttpClient as pn}from"@angular/common/http";import*as o from"@angular/core";import*as St from"@ngx-translate/core";import*as y from"@ionic/angular";function hn(e,u){if(e&1){let t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",2)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"p"),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"ion-list",3)(8,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(i.changeLanguage("en"))}),o.\u0275\u0275element(9,"span",5),o.\u0275\u0275elementStart(10,"ion-label"),o.\u0275\u0275text(11),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(13,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(i.changeLanguage("es"))}),o.\u0275\u0275element(14,"span",6),o.\u0275\u0275elementStart(15,"ion-label"),o.\u0275\u0275text(16),o.\u0275\u0275pipe(17,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(18,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(i.changeLanguage("ca"))}),o.\u0275\u0275element(19,"span",7),o.\u0275\u0275elementStart(20,"ion-label"),o.\u0275\u0275text(21),o.\u0275\u0275pipe(22,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(23,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(i.changeLanguage("gl"))}),o.\u0275\u0275element(24,"span",8),o.\u0275\u0275elementStart(25,"ion-label"),o.\u0275\u0275text(26),o.\u0275\u0275pipe(27,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(28,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(i.changeLanguage("eu"))}),o.\u0275\u0275element(29,"span",9),o.\u0275\u0275elementStart(30,"ion-label"),o.\u0275\u0275text(31),o.\u0275\u0275pipe(32,"translate"),o.\u0275\u0275elementEnd()()()()}e&2&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,7,"ONBOARDING.LANGUAGE.TITLE")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(6,9,"ONBOARDING.LANGUAGE.DESCRIPTION")),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(12,11,"GLOBAL.ENGLISH")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(17,13,"GLOBAL.SPANISH")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(22,15,"GLOBAL.CATALAN")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(27,17,"GLOBAL.GALICIAN")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(32,19,"GLOBAL.BASQUE")))}function gn(e,u){if(e&1){let t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ion-button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(i.requestNotificationPermission())}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}e&2&&(o.\u0275\u0275property("strong",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,2,"GLOBAL.CONTINUE")))}function un(e,u){if(e&1){let t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ion-button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(i.requestNotificationPermission())}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}e&2&&(o.\u0275\u0275property("strong",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,2,"GLOBAL.REQUEST_PERMISSION")))}function fn(e,u){if(e&1){let t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"p")(1,"ion-text",14),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(4,"ion-button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(i.requestNotificationPermission())}),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd()}e&2&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,3,"ONBOARDING.NOTIFICATIONS_PERMISSION.DENIED")),o.\u0275\u0275advance(2),o.\u0275\u0275property("strong",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(6,5,"GLOBAL.CONTINUE")))}function _n(e,u){if(e&1&&(o.\u0275\u0275elementStart(0,"section",10)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"ion-icon",11),o.\u0275\u0275elementStart(5,"p"),o.\u0275\u0275text(6),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(8,gn,3,4,"ion-button",12)(9,un,3,4)(10,fn,7,7),o.\u0275\u0275elementEnd()),e&2){let t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,3,"ONBOARDING.NOTIFICATIONS_PERMISSION.TITLE")),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(7,5,"ONBOARDING.NOTIFICATIONS_PERMISSION.DESCRIPTION")),o.\u0275\u0275advance(2),o.\u0275\u0275conditional(8,t.notificationPermission==="granted"?8:t.notificationPermission==="prompt"?9:10)}}function Cn(e,u){if(e&1){let t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",15)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"ion-icon",16),o.\u0275\u0275elementStart(5,"p"),o.\u0275\u0275text(6),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"ion-button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);let i=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(i.requestCameraPermission())}),o.\u0275\u0275text(9),o.\u0275\u0275pipe(10,"translate"),o.\u0275\u0275elementEnd()()}e&2&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,4,"ONBOARDING.CAMERA_PERMISSION.TITLE")),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(7,6,"ONBOARDING.CAMERA_PERMISSION.DESCRIPTION")),o.\u0275\u0275advance(2),o.\u0275\u0275property("strong",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(10,8,"GLOBAL.CONTINUE")))}var xt=(()=>{class e{handleShellPushRequestPermissionResponse(t){return f(this,null,function*(){yield this.onPushRequestPermissionResponse(t.detail?.response||{})})}handleShellPushRegisterResponse(t){return f(this,null,function*(){yield this.onPushRegisterResponse(t.detail?.response||{})})}handleShellScannerRequestPermissionResponse(t){return f(this,null,function*(){yield this.onScannerRequestPermissionResponse(t.detail?.response||{})})}constructor(t,n,i,g,_){this.cdr=t,this.storageSrv=n,this.coreSrv=i,this.translateSrv=g,this.modalCtrl=_,this.name="",this.step=0,this.currentLanguage=T.EN,this.hasShell=!1,this.notificationPermission="",this.environment=v,this.translateSrv.setDefaultLang(this.storageSrv.getItem("language")||"en"),this.translateSrv.use(this.storageSrv.getItem("language")||"en")}ngOnInit(){}ngAfterViewInit(){this.hasShell=this.coreSrv.hasShell(),window.dispatchEvent(new CustomEvent(E.SHELL_PUSH_REQUEST_PERMISSION)),this.cdr.detectChanges()}increaseStep(){this.step++}changeLanguage(t){this.storageSrv.setItem(C.LANGUAGE,t),this.translateSrv.use(t),this.increaseStep(),this.cdr.detectChanges(),this.hasShell||this.closeModal()}requestNotificationPermission(){window.dispatchEvent(new CustomEvent(E.SHELL_PUSH_REGISTER))}requestCameraPermission(){window.dispatchEvent(new CustomEvent(E.SHELL_SCANNER_REQUEST_PERMISSION))}onPushRequestPermissionResponse(t){this.notificationPermission=t.receive,this.cdr.detectChanges()}onPushRegisterResponse(t){this.increaseStep()}onScannerRequestPermissionResponse(t){return f(this,null,function*(){yield this.closeModal()})}closeModal(){return f(this,null,function*(){return this.storageSrv.setItem(C.ONBOARDING,"true"),this.modalCtrl.dismiss(this.name,"confirm")})}static{this.\u0275fac=function(n){return new(n||e)(o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(S),o.\u0275\u0275directiveInject(ut),o.\u0275\u0275directiveInject(St.TranslateService),o.\u0275\u0275directiveInject(y.ModalController))}}static{this.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-onboarding"]],hostBindings:function(n,i){n&1&&o.\u0275\u0275listener("shellPushRequestPermissionResponse",function(_){return i.handleShellPushRequestPermissionResponse(_)},!1,o.\u0275\u0275resolveWindow)("shellPushRegisterResponse",function(_){return i.handleShellPushRegisterResponse(_)},!1,o.\u0275\u0275resolveWindow)("shellScannerRequestPermissionResponse",function(_){return i.handleShellScannerRequestPermissionResponse(_)},!1,o.\u0275\u0275resolveWindow)},standalone:!0,features:[o.\u0275\u0275ProvidersFeature([re.forRoot({loader:{provide:dn,useClass:vt,deps:[pn]}}).providers]),o.\u0275\u0275StandaloneFeature],decls:4,vars:1,consts:[[1,"ion-padding"],["class","page choose-language"],[1,"page","choose-language"],[1,"language-list"],["button","",3,"click"],[1,"flag","fi","fi-gb"],[1,"flag","fi","fi-es"],[1,"flag","fi","fi-es-ct"],[1,"flag","fi","fi-es-ga"],[1,"flag","fi","fi-es-pv"],[1,"page","notification-permission"],["name","notifications-outline",1,"notifications-permission-img"],[3,"strong"],[3,"strong","click"],["color","danger"],[1,"page","camera-permission"],["name","barcode-outline",1,"camera-permission-img"]],template:function(n,i){n&1&&(o.\u0275\u0275elementStart(0,"ion-content",0),o.\u0275\u0275template(1,hn,33,21,"section",1)(2,_n,11,7)(3,Cn,11,10),o.\u0275\u0275elementEnd()),n&2&&(o.\u0275\u0275advance(1),o.\u0275\u0275conditional(1,i.step===0?1:i.step===1&&i.hasShell?2:i.step===2&&i.hasShell?3:-1))},dependencies:[cn,mn,y.IonButton,y.IonContent,y.IonIcon,y.IonItem,y.IonLabel,y.IonList,y.IonText,re,St.TranslatePipe,ln],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;padding-top:40px}[_nghost-%COMP%]   .choose-language[_ngcontent-%COMP%]   .language-list[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .choose-language[_ngcontent-%COMP%]   .language-list[_ngcontent-%COMP%]   .flag[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .notifications-permission-img[_ngcontent-%COMP%]{width:200px;height:200px}[_nghost-%COMP%]   .camera-permission-img[_ngcontent-%COMP%]{width:200px;height:200px}"],changeDetection:0})}}return e})();import*as d from"@angular/core";import*as ae from"@angular/router";import*as bt from"@ngx-translate/core";import*as M from"@ionic/angular";import*as se from"@angular/common";var yn=["mainTabs"];function On(e,u){if(e&1){let t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"ion-fab",4)(1,"ion-fab-button",5),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);let i=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(i.clickScanButton())}),d.\u0275\u0275element(2,"ion-icon",6),d.\u0275\u0275elementEnd()()}}function Pn(e,u){if(e&1){let t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"ion-fab",7)(1,"ion-fab-button",5),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);let i=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(i.clickCloseScanButton())}),d.\u0275\u0275element(2,"ion-icon",8),d.\u0275\u0275elementEnd()()}}function wn(e,u){if(e&1){let t=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"ion-tab-bar",3)(1,"ion-tab-button",9),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);let i=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(i.saveTabNavigation(i.tabs.GAMES))}),d.\u0275\u0275element(2,"ion-icon",10),d.\u0275\u0275elementStart(3,"span"),d.\u0275\u0275text(4),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275elementStart(6,"ion-tab-button",9),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);let i=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(i.saveTabNavigation(i.tabs.TICKETS))}),d.\u0275\u0275element(7,"ion-icon",11),d.\u0275\u0275elementStart(8,"span"),d.\u0275\u0275text(9),d.\u0275\u0275pipe(10,"translate"),d.\u0275\u0275elementEnd()(),d.\u0275\u0275element(11,"span",12)(12,"span",13),d.\u0275\u0275elementStart(13,"ion-tab-button",9),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(t);let i=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(i.saveTabNavigation(i.tabs.MENU))}),d.\u0275\u0275element(14,"ion-icon",14),d.\u0275\u0275elementStart(15,"span"),d.\u0275\u0275text(16),d.\u0275\u0275pipe(17,"translate"),d.\u0275\u0275elementEnd()()()}if(e&2){let t=d.\u0275\u0275nextContext();d.\u0275\u0275advance(1),d.\u0275\u0275property("tab",t.tabs.GAMES),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(5,6,"MAIN.TABS.GAMES")),d.\u0275\u0275advance(2),d.\u0275\u0275property("tab",t.tabs.TICKETS),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(10,8,"MAIN.TABS.TICKETS")),d.\u0275\u0275advance(4),d.\u0275\u0275property("tab",t.tabs.MENU),d.\u0275\u0275advance(3),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(17,10,"MAIN.TABS.SETTINGS"))}}var kn=e=>({"is-scan":e}),ce=(()=>{class e{constructor(t,n,i,g){this.router=t,this.storageSrv=n,this.translateSrv=i,this.modalController=g,this.tabs=k,this.activeTabName=k.GAMES,this.hasOnboarding=!1}ngOnInit(){}ngAfterViewInit(){return f(this,null,function*(){this.hasOnboarding=this.storageSrv.getItem(C.ONBOARDING),this.hasOnboarding?setTimeout(()=>{this.mainTabs.select(k.GAMES)},500):(yield this.openOnboardingModal(),this.mainTabs.select(k.GAMES))})}openOnboardingModal(){return f(this,null,function*(){let t=yield this.modalController.create({component:xt});t.present(),yield t.onWillDismiss();let n=this.storageSrv.getItem(C.LANGUAGE)||T.EN;this.translateSrv.use(n),this.storageSrv.setItem(C.ONBOARDING,!0)})}saveTabNavigation(t){this.activeTabName=t;let n=this.storageSrv.getItem(C.TAB_NAVIGATION)||[];n.unshift(t),n.length=10,this.storageSrv.setItem(C.TAB_NAVIGATION,JSON.stringify(n))}clickScanButton(){this.saveTabNavigation(k.SCAN),this.mainTabs.select(k.SCAN)}clickMenuButton(){this.saveTabNavigation(k.MENU),this.mainTabs.select(k.MENU)}clickCloseScanButton(){this.saveTabNavigation(k.GAMES),this.mainTabs.select(k.GAMES)}static{this.\u0275fac=function(n){return new(n||e)(d.\u0275\u0275directiveInject(ae.Router),d.\u0275\u0275directiveInject(S),d.\u0275\u0275directiveInject(bt.TranslateService),d.\u0275\u0275directiveInject(M.ModalController))}}static{this.\u0275cmp=d.\u0275\u0275defineComponent({type:e,selectors:[["app-main"]],viewQuery:function(n,i){if(n&1&&d.\u0275\u0275viewQuery(yn,5),n&2){let g;d.\u0275\u0275queryRefresh(g=d.\u0275\u0275loadQuery())&&(i.mainTabs=g.first)}},standalone:!0,features:[d.\u0275\u0275StandaloneFeature],decls:5,vars:5,consts:[["class","fab-button","slot","fixed","vertical","bottom","horizontal","center"],[3,"ngClass"],["mainTabs",""],["slot","bottom"],["slot","fixed","vertical","bottom","horizontal","center",1,"fab-button"],[3,"click"],["name","barcode-outline"],["slot","fixed","vertical","bottom","horizontal","center",1,"fab-button","close"],["name","close-outline"],[3,"tab","click"],["name","grid-outline"],["name","wallet-outline"],[1,"white-tab"],[1,"empty-tab"],["name","settings-outline"]],template:function(n,i){n&1&&(d.\u0275\u0275template(0,On,3,0,"ion-fab",0)(1,Pn,3,0),d.\u0275\u0275elementStart(2,"ion-tabs",1,2),d.\u0275\u0275template(4,wn,18,12,"ion-tab-bar",3),d.\u0275\u0275elementEnd()),n&2&&(d.\u0275\u0275conditional(0,i.activeTabName!==i.tabs.SCAN?0:1),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngClass",d.\u0275\u0275pureFunction1(3,kn,i.activeTabName===i.tabs.SCAN)),d.\u0275\u0275advance(2),d.\u0275\u0275conditional(4,i.activeTabName!==i.tabs.SCAN?4:-1))},dependencies:[vn,se.NgClass,Sn,xn,M.IonFab,M.IonFabButton,M.IonIcon,M.IonTabBar,M.IonTabButton,M.IonTabs,bn,bt.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}ion-tabs[_ngcontent-%COMP%]{padding:env(safe-area-inset-top,0) env(safe-area-inset-right,0) 0 env(safe-area-inset-left,0)}ion-tabs.is-scan[_ngcontent-%COMP%]{padding:0}ion-tabs[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0);display:flex;flex-direction:row;justify-content:space-around}.empty-tab[_ngcontent-%COMP%]{min-width:calc(25% - 12.5px)}.white-tab[_ngcontent-%COMP%]{min-width:50px}.fab-button[_ngcontent-%COMP%]{margin-bottom:calc(20px + env(safe-area-inset-bottom,0))}.fab-button.ios[_ngcontent-%COMP%]{margin-bottom:calc(15px + env(safe-area-inset-bottom,0))}.fab-button.close[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native){background-color:var(--ion-color-danger);border-radius:100px;border:solid 2px white;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;color:#fff}.fab-button.close[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native):hover:after{background-color:var(--ion-color-danger-tint)}.fab-button.close[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native):active:after{background-color:var(--ion-color-danger-shade)}.fab-button[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native){background-color:var(--ion-color-success);border-radius:100px;border:solid 2px white;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;color:#fff}.fab-button[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native):hover:after{background-color:var(--ion-color-success-tint)}.fab-button[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]::part(native):active:after{background-color:var(--ion-color-success-shade)}.menu-button[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{margin-bottom:70px}"],changeDetection:0})}}return e})();import{CommonModule as Mn}from"@angular/common";import{HttpClient as In,HttpClientModule as En}from"@angular/common/http";import"@angular/core";import{NavigationEnd as Tn,RouterModule as Ln}from"@angular/router";import{filter as An}from"rxjs";import{IonicModule as Dn}from"@ionic/angular";import{TranslateLoader as Nn,TranslateModule as Rn}from"@ngx-translate/core";import"@angular/core";import{lastValueFrom as yt}from"rxjs";import*as X from"@angular/core";var Z=(()=>{class e{constructor(t,n,i){this.apiSrv=t,this.storageSrv=n,this.userSrv=i,this.apiPush=`${v.api.host}/push`}ngOnDestroy(){this.userSubscription?.unsubscribe()}init(){this.userSubscription||(this.userSubscription=this.userSrv.getUserSubject().subscribe(t=>f(this,null,function*(){t._id&&((yield this.getPushDataByToken())?.user!==t._id&&(yield this.unregisterToken()),yield this.registerToken(t))})))}getToken(){return this.storageSrv.getItem(U.SHELL_PUSH_TOKEN)||""}registerToken(t){return f(this,null,function*(){if(t._id&&this.getToken())if((yield this.getPushDataByToken())?.user===t._id)console.info(G.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has already been registered.`);else{let i={token:this.getToken(),user:t._id};try{let g=this.apiSrv.post(this.apiPush,i),_=yield yt(g);this.storageSrv.setItem(U.SHELL_PUSH_TOKEN,_.token),console.info(G.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has been registered.`)}catch(g){console.error(g)}}})}getPushDataByToken(){return f(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiPush}/${this.getToken()}`);return yield yt(t)}catch{return null}})}deletePushById(t){return f(this,null,function*(){try{let n=yield this.apiSrv.delete(`${this.apiPush}/${t}`);return yield yt(n)}catch(n){throw n}})}deletePushByToken(t){return f(this,null,function*(){try{let n=yield this.apiSrv.delete(`${this.apiPush}/token/${t}`);return yield yt(n)}catch(n){throw n}})}unregisterToken(){return f(this,null,function*(){if(this.getToken())try{let t=yield this.getPushDataByToken();t&&(yield this.deletePushByToken(t.token),console.info(G.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has been unregistered.`))}catch(t){console.error(t)}})}static{this.\u0275fac=function(n){return new(n||e)(X.\u0275\u0275inject(L),X.\u0275\u0275inject(S),X.\u0275\u0275inject(A))}}static{this.\u0275prov=X.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();import*as w from"@angular/core";import*as me from"@ngx-translate/core";import*as Ot from"@angular/router";var de=(()=>{class e{constructor(t,n,i,g,_,I){this.translateSrv=t,this.uuidSrv=n,this.userSrv=i,this.storageSrv=g,this.router=_,this.pushSrv=I,this.translateSrv.setDefaultLang("en"),this.translateSrv.use("en")}ngOnInit(){return f(this,null,function*(){this.setNoErrorLoadingRemote(),this.importStyles(),this.importScripts(),this.pushSrv.init(),yield this.uuidSrv.init(),this.initRouterEventsSubscription(),this.loadLanguage()})}initRouterEventsSubscription(){this.router.events.pipe(An(t=>t instanceof Tn)).subscribe(t=>f(this,null,function*(){yield this.handleNavigationEnd()}))}handleNavigationEnd(){return f(this,null,function*(){let t=this.uuidSrv.getUuid();t?this.userSrv.checkTokenExpiration(t):(this.pushSrv.init(),yield this.uuidSrv.init())})}loadLanguage(){let t=this.storageSrv.getItem(C.LANGUAGE)||T.EN;this.translateSrv.use(t)}setNoErrorLoadingRemote(){this.storageSrv.setItem(Lt.SHELL_LOADING_REMOTE_OK,"true")}importScripts(){let t=["https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js","https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.esm.js"],n=document.head;t.forEach(i=>{let g=document.createElement("script");g.type="module",g.src=i,g.async=!1,document.head.appendChild(g),n.insertBefore(g,n.firstElementChild)})}importStyles(){let t=["https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css","https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.0/css/flag-icons.min.css"],n=document.head;t.forEach(i=>{let g=document.createElement("link");g.rel="stylesheet",g.href=i,n.insertBefore(g,n.firstElementChild)})}static{this.\u0275fac=function(n){return new(n||e)(w.\u0275\u0275directiveInject(me.TranslateService),w.\u0275\u0275directiveInject(V),w.\u0275\u0275directiveInject(A),w.\u0275\u0275directiveInject(S),w.\u0275\u0275directiveInject(Ot.Router),w.\u0275\u0275directiveInject(Z))}}static{this.\u0275cmp=w.\u0275\u0275defineComponent({type:e,selectors:[["app-remote-app"]],standalone:!0,features:[w.\u0275\u0275ProvidersFeature([L,V,Z,A,J,z,Rn.forRoot({loader:{provide:Nn,useClass:vt,deps:[In]}}).providers]),w.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(n,i){n&1&&w.\u0275\u0275element(0,"router-outlet")},dependencies:[Mn,Ln,Ot.RouterOutlet,Dn,En],styles:[`:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--pr-primary: #1a8648;--joker-primary: #be1540;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}:host{display:block}body{background:var(--color-background)}
`],encapsulation:2,changeDetection:0})}}return e})();import{CommonModule as jn}from"@angular/common";import"@angular/core";import{RouterModule as Vn}from"@angular/router";import{IonicModule as zn}from"@ionic/angular";import{CommonModule as Va}from"@angular/common";import"@angular/core";import{IonicModule as Ka}from"@ionic/angular";import*as K from"@angular/core";import*as Gn from"@angular/router";import*as Bn from"@ngx-translate/core";import*as Rt from"@ionic/angular";import{TranslateModule as Fn}from"@ngx-translate/core";import{CommonModule as Ya}from"@angular/common";import"@angular/core";import{IonicModule as es}from"@ionic/angular";import*as st from"@angular/core";import*as Un from"@ionic/angular";import*as m from"@angular/core";import*as B from"@ionic/angular";import*as pe from"@ngx-translate/core";var Hn=(e,u)=>u.ticket._id;function $n(e,u){if(e&1){let t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"app-ticket-ln",7),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(t);let i=m.\u0275\u0275nextContext().$implicit,g=m.\u0275\u0275nextContext(2);return m.\u0275\u0275resetView(g.openGame(i.game))})("deleteTicketEvent",function(i){m.\u0275\u0275restoreView(t);let g=m.\u0275\u0275nextContext(3);return m.\u0275\u0275resetView(g.deleteTicketById(i))}),m.\u0275\u0275elementEnd()}if(e&2){let t=m.\u0275\u0275nextContext().$implicit;m.\u0275\u0275property("data",t)}}function qn(e,u){if(e&1&&(m.\u0275\u0275elementStart(0,"span",5),m.\u0275\u0275template(1,$n,1,1,"app-ticket-ln",6),m.\u0275\u0275elementEnd()),e&2){let t=u.$implicit,n=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275conditional(1,t.ticket.code===n.gamesCodes.LOTERIA_NACIONAL?1:-1)}}function Kn(e,u){e&1&&(m.\u0275\u0275elementStart(0,"span"),m.\u0275\u0275element(1,"ion-spinner",9),m.\u0275\u0275elementEnd())}function Qn(e,u){e&1&&(m.\u0275\u0275elementStart(0,"section",10)(1,"span",11),m.\u0275\u0275text(2),m.\u0275\u0275pipe(3,"translate"),m.\u0275\u0275elementEnd()()),e&2&&(m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(3,1,"GLOBAL.LOAD_MORE")))}function Wn(e,u){if(e&1){let t=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"span",8),m.\u0275\u0275listener("click",function(){m.\u0275\u0275restoreView(t);let i=m.\u0275\u0275nextContext(2);return m.\u0275\u0275resetView(i.loadMore())}),m.\u0275\u0275template(1,Kn,2,0,"span")(2,Qn,4,3),m.\u0275\u0275elementEnd()}if(e&2){let t=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275conditional(1,t.showLoadMoreSpinner?1:2)}}function Yn(e,u){if(e&1&&(m.\u0275\u0275elementStart(0,"section",3),m.\u0275\u0275repeaterCreate(1,qn,2,1,"span",4,Hn),m.\u0275\u0275template(3,Wn,3,1,"span",4),m.\u0275\u0275elementEnd()),e&2){let t=m.\u0275\u0275nextContext();m.\u0275\u0275advance(1),m.\u0275\u0275repeater(t.tickets),m.\u0275\u0275advance(2),m.\u0275\u0275conditional(3,t.showLoadMore?3:-1)}}function Jn(e,u){e&1&&(m.\u0275\u0275elementStart(0,"section",13),m.\u0275\u0275element(1,"ion-icon",14),m.\u0275\u0275elementStart(2,"span",15),m.\u0275\u0275text(3),m.\u0275\u0275pipe(4,"translate"),m.\u0275\u0275elementEnd()()),e&2&&(m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(4,1,"TICKETS.EMPTY_TICKET_LIST")))}function Xn(e,u){e&1&&(m.\u0275\u0275elementStart(0,"span",5),m.\u0275\u0275element(1,"app-ticket-ln",16),m.\u0275\u0275elementEnd()),e&2&&(m.\u0275\u0275advance(1),m.\u0275\u0275property("skeleton",!0))}function Zn(e,u){if(e&1&&m.\u0275\u0275repeaterCreate(0,Xn,2,1,"span",4,m.\u0275\u0275repeaterTrackByIdentity),e&2){let t=m.\u0275\u0275nextContext(2);m.\u0275\u0275repeater(t.skeletons)}}function ti(e,u){if(e&1&&m.\u0275\u0275template(0,Jn,5,3,"section",12)(1,Zn,2,0),e&2){let t=m.\u0275\u0275nextContext();m.\u0275\u0275conditional(0,t.noTicketsLoaded?0:1)}}var ei=5,Gt=5,he=(()=>{class e{constructor(t,n,i){this.cdr=t,this.gameSrv=n,this.storageSrv=i,this.tickets=[],this.environment=v,this.gamesCodes=b,this.showLoadMore=!0,this.skeletons=Array(Gt).fill(0),this.noTicketsLoaded=!1,this.showLoadMoreSpinner=!1,this.limit=Gt,this.offset=0}ionViewDidEnter(){return f(this,null,function*(){this.limit=Gt;let t=this.storageSrv.getItem(C.RELOAD_TICKETS),n=this.storageSrv.getItem(C.TAB_NAVIGATION)||[];(!this.tickets.length||n[1]===k.SCAN||t)&&(this.offset=0,yield this.getUserTickets(),this.tickets.length?this.sortTicketsByDate():this.noTicketsLoaded=!0),this.cdr.detectChanges()})}handleRefresh(t){return f(this,null,function*(){this.offset=0,yield this.getUserTickets(),t.target.complete()})}sortTicketsByDate(){this.tickets.sort((t,n)=>{let i=new Date(t.ticket.date);return new Date(n.ticket.date).getTime()-i.getTime()}),this.cdr.detectChanges()}deleteTicketById(t){return f(this,null,function*(){t&&(this.offset=0,yield this.getUserTickets())})}openGame(t){this.gameSrv.openGame(t)}loadMore(){return f(this,null,function*(){this.showLoadMoreSpinner=!0,this.offset+=ei,yield this.getUserTickets(),this.showLoadMoreSpinner=!1,this.cdr.detectChanges()})}getUserTickets(){return f(this,null,function*(){this.showLoadMore=!0,this.storageSrv.setItem(C.RELOAD_TICKETS,!1);try{let t=yield this.gameSrv.getAllTicketsPrizesByUser(this.limit,this.offset);this.offset===0?this.tickets=t:this.tickets=this.tickets.concat(t),t.length<this.limit&&(this.showLoadMore=!1),this.cdr.detectChanges()}catch(t){console.log("Error getting tickets by user",t)}})}static{this.\u0275fac=function(n){return new(n||e)(m.\u0275\u0275directiveInject(m.ChangeDetectorRef),m.\u0275\u0275directiveInject(z),m.\u0275\u0275directiveInject(S))}}static{this.\u0275cmp=m.\u0275\u0275defineComponent({type:e,selectors:[["app-tickets"]],standalone:!0,features:[m.\u0275\u0275StandaloneFeature],decls:5,vars:1,consts:[["padding","","color","light"],["slot","fixed",3,"ionRefresh"],["class","main-container"],[1,"main-container"],["class","main-container-element"],[1,"main-container-element"],[3,"data"],[3,"data","click","deleteTicketEvent"],[1,"main-container-element",3,"click"],["name","crescent"],[1,"main-container-element-load-more"],[1,"main-container-element-load-more-text"],["class","empty-content"],[1,"empty-content"],["name","scan-circle-outline",1,"empty-content-icon"],[1,"empty-content-message"],[3,"skeleton"]],template:function(n,i){n&1&&(m.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-refresher",1),m.\u0275\u0275listener("ionRefresh",function(_){return i.handleRefresh(_)}),m.\u0275\u0275element(2,"ion-refresher-content"),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(3,Yn,4,1,"section",2)(4,ti,2,1),m.\u0275\u0275elementEnd()),n&2&&(m.\u0275\u0275advance(3),m.\u0275\u0275conditional(3,i.tickets.length?3:4))},dependencies:[jn,Vn,zn,B.IonContent,B.IonIcon,B.IonRefresher,B.IonRefresherContent,B.IonSpinner,Fn,pe.TranslatePipe,pt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px;--background: var(--color-background)}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-bottom:150px;background-color:var(--color-background)}[_nghost-%COMP%]   .main-container-element[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .main-container-element-load-more[_ngcontent-%COMP%]{justify-content:center;width:100%;height:40px;background-color:transparent;border:solid thin var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;margin:5px;border-radius:7px;box-shadow:var(--box-shadow);padding:15px}[_nghost-%COMP%]   .main-container-element-load-more-text[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}[_nghost-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}[_nghost-%COMP%]   .empty-content-icon[_ngcontent-%COMP%]{width:120px;height:120px;color:gray}[_nghost-%COMP%]   .empty-content-message[_ngcontent-%COMP%]{color:gray;margin:20px}"],changeDetection:0})}}return e})();import{CommonModule as ni}from"@angular/common";import"@angular/core";import{IonicModule as ii}from"@ionic/angular";import{QrCodeModule as oi}from"ng-qrcode";import{RouterModule as ri}from"@angular/router";import{TranslateModule as ai}from"@ngx-translate/core";import*as r from"@angular/core";import*as Pt from"@ngx-translate/core";import*as x from"@ionic/angular";import*as ge from"@angular/common";import*as ue from"ng-qrcode";var si=["accordionGroup"];function ci(e,u){if(e&1&&r.\u0275\u0275element(0,"qr-code",18),e&2){let t=r.\u0275\u0275nextContext();r.\u0275\u0275property("value",t.qrUuid)}}function li(e,u){if(e&1&&(r.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),r.\u0275\u0275text(3),r.\u0275\u0275pipe(4,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"p"),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd()()()),e&2){let t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(4,2,"GLOBAL.ID")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.uuid)}}function mi(e,u){if(e&1&&(r.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),r.\u0275\u0275text(3),r.\u0275\u0275pipe(4,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"p"),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd()()()),e&2){let t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(4,2,"GLOBAL.PUSH_TOKEN")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.pushToken)}}function di(e,u){if(e&1&&(r.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),r.\u0275\u0275text(3),r.\u0275\u0275pipe(4,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"p"),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd()()()),e&2){let t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(4,2,"GLOBAL.USER_ID")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.user._id)}}function pi(e,u){if(e&1){let t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"ion-item",13),r.\u0275\u0275listener("click",function(){r.\u0275\u0275restoreView(t);let i=r.\u0275\u0275nextContext();return r.\u0275\u0275resetView(i.deSyncDevice())}),r.\u0275\u0275elementStart(1,"ion-label",19),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd()()}e&2&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,1,"UUID.DESYNC_DEVICE")))}var fe=(()=>{class e{handleShellBrowserOpenResponse(t){return f(this,null,function*(){yield this.onBrowserOpenResponse(t.detail?.response||{})})}constructor(t,n,i,g,_,I,N,H){this.cdr=t,this.uuidSrv=n,this.pushSrv=i,this.storageSrv=g,this.userSrv=_,this.translateSrv=I,this.alertController=N,this.modalController=H,this.qrUuid="",this.languages=T,this.currentLanguage=T.EN,this.isSynced=!1,this.uuid="",this.pushToken="",this.user={},this.environment=v}ionViewDidEnter(){this.initLogic()}changeLanguage(t){this.storageSrv.setItem(C.LANGUAGE,t),this.translateSrv.use(t),this.cdr.detectChanges()}deSyncDevice(){return f(this,null,function*(){(yield this.presentAlertConfirmDeSyncUuid())===P.ACCEPT&&(this.storageSrv.removeItem(C.APP_UUID),this.storageSrv.removeItem(C.APP_SYNC_MARK),this.isSynced=!1,this.pushSrv.init(),yield this.uuidSrv.init(),setTimeout(()=>{this.initLogic()},400),this.cdr.detectChanges())})}initLogic(){this.qrUuid=j.UUID_QR_CODE+this.uuidSrv.getUuid(),this.isSynced=!!this.storageSrv.getItem(C.APP_SYNC_MARK),this.currentLanguage=this.storageSrv.getItem(C.LANGUAGE)||T.EN,this.uuid=this.uuidSrv.getUuid(),this.pushToken=this.pushSrv.getToken(),this.user=this.userSrv.getUser(),this.cdr.detectChanges()}launchOnboarding(){return f(this,null,function*(){let t=yield this.modalController.create({component:xt});t.present(),yield t.onWillDismiss(),this.pushSrv.init(),yield this.uuidSrv.init();let n=this.storageSrv.getItem(C.LANGUAGE)||T.EN;this.translateSrv.use(n),this.currentLanguage=this.storageSrv.getItem(C.LANGUAGE)||T.EN,this.storageSrv.setItem(C.ONBOARDING,!0)})}toggleAccordion(){let t=this.accordionGroup;t.value==="first"?t.value=void 0:t.value="first"}buyMeACoffee(){window.dispatchEvent(new CustomEvent(E.SHELL_BROWSER_OPEN,{detail:{url:"https://www.buymeacoffee.com/longocode"}}))}presentAlertConfirmDeSyncUuid(){return f(this,null,function*(){let t=yield this.alertController.create({header:this.translateSrv.instant("UUID.DESYNC_DEVICE"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("UUID.DESYNC_DEVICE_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:P.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:P.ACCEPT,handler:()=>{}}]});yield t.present();let{role:n}=yield t.onDidDismiss();return n})}onBrowserOpenResponse(t){console.log("Browser open response",t)}static{this.\u0275fac=function(n){return new(n||e)(r.\u0275\u0275directiveInject(r.ChangeDetectorRef),r.\u0275\u0275directiveInject(V),r.\u0275\u0275directiveInject(Z),r.\u0275\u0275directiveInject(S),r.\u0275\u0275directiveInject(A),r.\u0275\u0275directiveInject(Pt.TranslateService),r.\u0275\u0275directiveInject(x.AlertController),r.\u0275\u0275directiveInject(x.ModalController))}}static{this.\u0275cmp=r.\u0275\u0275defineComponent({type:e,selectors:[["app-menu"]],viewQuery:function(n,i){if(n&1&&r.\u0275\u0275viewQuery(si,7),n&2){let g;r.\u0275\u0275queryRefresh(g=r.\u0275\u0275loadQuery())&&(i.accordionGroup=g.first)}},hostBindings:function(n,i){n&1&&r.\u0275\u0275listener("shellBrowserOpenResponse",function(_){return i.handleShellBrowserOpenResponse(_)},!1,r.\u0275\u0275resolveWindow)},standalone:!0,features:[r.\u0275\u0275StandaloneFeature],decls:41,vars:34,consts:[["padding","","color","light"],[1,"menu-list",3,"inset"],[1,"menu-list-qr",3,"click"],["size","200","errorCorrectionLevel","M",3,"value",4,"ngIf"],["accordionGroup",""],["value","first"],["slot","content"],["interface","action-sheet",3,"label","value","ionChange"],["value","en"],["value","es"],["value","ca"],["value","gl"],["value","eu"],["button","",3,"click"],["button",""],[1,"menu-list","buy-me-a-coffee",3,"inset"],["button","",1,"buy-me-a-coffee",3,"click"],["alt","Buy Me A Coffee",1,"buy-me-a-coffee-img",3,"src"],["size","200","errorCorrectionLevel","M",3,"value"],["color","danger"]],template:function(n,i){n&1&&(r.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-list",1)(2,"section",2),r.\u0275\u0275listener("click",function(){return i.toggleAccordion()}),r.\u0275\u0275template(3,ci,1,1,"qr-code",3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"ion-accordion-group",null,4)(6,"ion-accordion",5)(7,"div",6),r.\u0275\u0275template(8,li,7,4,"ion-item")(9,mi,7,4,"ion-item")(10,di,7,4,"ion-item"),r.\u0275\u0275elementEnd()()()(),r.\u0275\u0275elementStart(11,"ion-list",1)(12,"ion-item")(13,"ion-select",7),r.\u0275\u0275listener("ionChange",function(_){return i.changeLanguage(_.detail.value)}),r.\u0275\u0275pipe(14,"translate"),r.\u0275\u0275elementStart(15,"ion-select-option",8),r.\u0275\u0275text(16),r.\u0275\u0275pipe(17,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(18,"ion-select-option",9),r.\u0275\u0275text(19),r.\u0275\u0275pipe(20,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"ion-select-option",10),r.\u0275\u0275text(22),r.\u0275\u0275pipe(23,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(24,"ion-select-option",11),r.\u0275\u0275text(25),r.\u0275\u0275pipe(26,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(27,"ion-select-option",12),r.\u0275\u0275text(28),r.\u0275\u0275pipe(29,"translate"),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275elementStart(30,"ion-item",13),r.\u0275\u0275listener("click",function(){return i.launchOnboarding()}),r.\u0275\u0275elementStart(31,"ion-label"),r.\u0275\u0275text(32),r.\u0275\u0275pipe(33,"translate"),r.\u0275\u0275elementEnd()(),r.\u0275\u0275template(34,pi,4,3,"ion-item",14),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(35,"ion-list",15)(36,"ion-item",16),r.\u0275\u0275listener("click",function(){return i.buyMeACoffee()}),r.\u0275\u0275element(37,"img",17),r.\u0275\u0275elementStart(38,"ion-label"),r.\u0275\u0275text(39),r.\u0275\u0275pipe(40,"translate"),r.\u0275\u0275elementEnd()()()()),n&2&&(r.\u0275\u0275advance(1),r.\u0275\u0275property("inset",!0),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",i.qrUuid),r.\u0275\u0275advance(5),r.\u0275\u0275conditional(8,i.uuid?8:-1),r.\u0275\u0275advance(1),r.\u0275\u0275conditional(9,i.pushToken?9:-1),r.\u0275\u0275advance(1),r.\u0275\u0275conditional(10,i.user?10:-1),r.\u0275\u0275advance(1),r.\u0275\u0275property("inset",!0),r.\u0275\u0275advance(2),r.\u0275\u0275propertyInterpolate("label",r.\u0275\u0275pipeBind1(14,18,"GLOBAL.LANGUAGES")),r.\u0275\u0275propertyInterpolate("value",i.currentLanguage),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(17,20,"GLOBAL.ENGLISH")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(20,22,"GLOBAL.SPANISH")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(23,24,"GLOBAL.CATALAN")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(26,26,"GLOBAL.GALICIAN")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(29,28,"GLOBAL.BASQUE")),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(33,30,"CONFIG.LAUNCH_ONBOARDING")),r.\u0275\u0275advance(2),r.\u0275\u0275conditional(34,i.isSynced?34:-1),r.\u0275\u0275advance(1),r.\u0275\u0275property("inset",!0),r.\u0275\u0275advance(2),r.\u0275\u0275property("src",i.environment.web.host+"/assets/logos/bmc-logo-yellow.png",r.\u0275\u0275sanitizeUrl),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(40,32,"GLOBAL.BUY_ME_A_COFFEE")))},dependencies:[ni,ge.NgIf,ii,x.IonAccordion,x.IonAccordionGroup,x.IonContent,x.IonItem,x.IonLabel,x.IonList,x.IonSelect,x.IonSelectOption,x.SelectValueAccessor,ri,oi,ue.QrCodeComponent,ai,Pt.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;--offset-bottom: 100px !important}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .menu-list-qr[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:10px 0}[_nghost-%COMP%]   .menu-list-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}[_nghost-%COMP%]   .menu-list[_ngcontent-%COMP%]:last-of-type{margin-bottom:200px}[_nghost-%COMP%]   .buy-me-a-coffee[_ngcontent-%COMP%]::part(native){background-color:#ffdd02}[_nghost-%COMP%]   .buy-me-a-coffee[_ngcontent-%COMP%]{text-align:left;background-color:#ffdd02}[_nghost-%COMP%]   .buy-me-a-coffee-img[_ngcontent-%COMP%]{height:30px;margin-right:10px}"],changeDetection:0})}}return e})();import{CommonModule as Ei}from"@angular/common";import"@angular/core";import{RouterModule as Ti}from"@angular/router";import{IonicModule as Li}from"@ionic/angular";import{TranslateModule as Ai}from"@ngx-translate/core";import{CommonModule as hi}from"@angular/common";import"@angular/core";nt();import{IonicModule as gi}from"@ionic/angular";import{TranslateModule as ui}from"@ngx-translate/core";import*as l from"@angular/core";import"@angular/core";import*as _e from"@angular/core";var wt=(()=>{class e{constructor(){}getBestPrizes(t){return JSON.parse(t)}getCompletePrizesList(t){return JSON.parse(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=_e.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();import*as kt from"@angular/common";import*as ve from"@ionic/angular";function fi(e,u){if(e&1&&(l.\u0275\u0275elementStart(0,"article",10)(1,"ion-label",11)(2,"span",12),l.\u0275\u0275text(3),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(4,"ion-label",13),l.\u0275\u0275text(5),l.\u0275\u0275pipe(6,"async"),l.\u0275\u0275pipe(7,"currency"),l.\u0275\u0275elementEnd()()),e&2){let t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass","game-more-best-prize-first-number"),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(t.bestGamePrizes.primerPremio.decimo),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass","game-more-best-prize-first-quantity"),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(6,4,l.\u0275\u0275pipeBind2(7,6,t.bestGamePrizes.primerPremio.prize/100,"EUR")))}}function _i(e,u){if(e&1&&(l.\u0275\u0275elementStart(0,"article",14)(1,"ion-label",11)(2,"span",12),l.\u0275\u0275text(3),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(4,"ion-label",13),l.\u0275\u0275text(5),l.\u0275\u0275pipe(6,"async"),l.\u0275\u0275pipe(7,"currency"),l.\u0275\u0275elementEnd()()),e&2){let t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass","game-more-best-prize-second-number"),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(t.bestGamePrizes.segundoPremio.decimo),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass","game-more-best-prize-second-quantity"),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(6,4,l.\u0275\u0275pipeBind2(7,6,t.bestGamePrizes.segundoPremio.prize/100,"EUR")))}}var Ci=(e,u)=>u.decimo;function vi(e,u){if(e&1&&(l.\u0275\u0275elementStart(0,"span",12),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),e&2){let t=u.$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(t.decimo)}}function Si(e,u){if(e&1&&(l.\u0275\u0275elementStart(0,"article",15)(1,"ion-label",11),l.\u0275\u0275repeaterCreate(2,vi,2,1,"span",16,Ci),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"ion-label",13),l.\u0275\u0275text(5),l.\u0275\u0275pipe(6,"async"),l.\u0275\u0275pipe(7,"currency"),l.\u0275\u0275elementEnd()()),e&2){let t=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass","game-more-best-prize-third-number"),l.\u0275\u0275advance(1),l.\u0275\u0275repeater(t.bestGamePrizes.reintegros),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngClass","game-more-best-prize-third-quantity"),l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(6,3,l.\u0275\u0275pipeBind2(7,5,t.bestGamePrizes.reintegros[0].prize/100,"EUR")))}}var Mt=(()=>{class e{constructor(t){this.lnSrv=t,this.environment=v,this.gameCodes=b,this.bestGamePrizes={}}ngOnChanges(){this.getBestPrizes()}getBestPrizes(){this.bestGamePrizes=this.lnSrv.getBestPrizes(this.data.data.info.raw)}static{this.\u0275fac=function(n){return new(n||e)(l.\u0275\u0275directiveInject(wt))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:e,selectors:[["app-game-ln"]],inputs:{data:"data"},standalone:!0,features:[l.\u0275\u0275NgOnChangesFeature,l.\u0275\u0275StandaloneFeature],decls:14,vars:10,consts:[[1,"game"],[1,"row"],["aria-hidden","true","slot","start","alt","",1,"game-img-title",3,"src"],["aria-hidden","true","slot","start","alt","",1,"game-img",3,"src"],[1,"game-data"],["color","medium",1,"game-data-date"],[1,"game-more"],["class","game-more-item game-more-best-prize-first"],["class","game-more-item game-more-best-prize-second"],["class","game-more-item"],[1,"game-more-item","game-more-best-prize-first"],[3,"ngClass"],[1,"ball"],["slot","end",3,"ngClass"],[1,"game-more-item","game-more-best-prize-second"],[1,"game-more-item"],["class","ball"]],template:function(n,i){n&1&&(l.\u0275\u0275elementStart(0,"section",0)(1,"article",1),l.\u0275\u0275element(2,"img",2)(3,"img",3),l.\u0275\u0275elementStart(4,"section",4)(5,"span",5),l.\u0275\u0275text(6),l.\u0275\u0275pipe(7,"async"),l.\u0275\u0275pipe(8,"date"),l.\u0275\u0275elementEnd()()(),l.\u0275\u0275elementStart(9,"article",1)(10,"section",6),l.\u0275\u0275template(11,fi,8,9,"article",7)(12,_i,8,9,"article",8)(13,Si,8,8,"article",9),l.\u0275\u0275elementEnd()()()),n&2&&(l.\u0275\u0275advance(2),l.\u0275\u0275property("src",i.environment.web.host+"/assets/logos/games/"+i.data.code+"-title.svg",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(1),l.\u0275\u0275property("src",i.environment.web.host+"/assets/logos/games/"+i.data.code+".svg",l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(7,6,l.\u0275\u0275pipeBind1(8,8,i.data.date))),l.\u0275\u0275advance(5),l.\u0275\u0275conditional(11,i.bestGamePrizes.primerPremio?11:-1),l.\u0275\u0275advance(1),l.\u0275\u0275conditional(12,i.bestGamePrizes.segundoPremio?12:-1),l.\u0275\u0275advance(1),l.\u0275\u0275conditional(13,i.bestGamePrizes.reintegros?13:-1))},dependencies:[hi,kt.NgClass,kt.AsyncPipe,Q,$,gi,ve.IonLabel,ui],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--pr-primary: #1a8648;--joker-primary: #be1540;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:var(--box-shadow);padding:10px;border:thin solid var(--ln-primary)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100%}[_nghost-%COMP%]   .game-img-title[_ngcontent-%COMP%]{position:absolute;width:100px;top:-25px}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{position:absolute;opacity:.15;width:300px;top:-20px;left:-70px;rotate:20deg}[_nghost-%COMP%]   .game-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .game-data-date[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right;font-size:14px;color:var(--ln-primary);font-weight:700}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .game-more-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:35px;font-size:14px}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{background:var(--ln-primary);color:#fff;padding:5px 10px;border-radius:20px;margin-right:10px}[_nghost-%COMP%]   .game-more-best-prize-first-quantity[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0})}}return e})();import{CommonModule as xi}from"@angular/common";import"@angular/core";nt();import{IonicModule as bi}from"@ionic/angular";import{TranslateModule as yi}from"@ngx-translate/core";import*as a from"@angular/core";import*as It from"@angular/common";import*as Et from"@ionic/angular";function Oi(e,u){if(e&1&&(a.\u0275\u0275elementStart(0,"span",12),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),e&2){let t=u.$implicit;a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(t)}}function Pi(e,u){if(e&1&&(a.\u0275\u0275elementStart(0,"span",12),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),e&2){let t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(t.complementary)}}function wi(e,u){if(e&1&&(a.\u0275\u0275elementStart(0,"span",12),a.\u0275\u0275text(1),a.\u0275\u0275elementEnd()),e&2){let t=a.\u0275\u0275nextContext(2);a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate(t.refund)}}function ki(e,u){if(e&1&&(a.\u0275\u0275element(0,"img",13),a.\u0275\u0275elementStart(1,"span",14),a.\u0275\u0275text(2),a.\u0275\u0275elementEnd()),e&2){let t=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("src",t.environment.web.host+"/assets/logos/games/joker.svg",a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(t.jokerCombination)}}function Mi(e,u){if(e&1&&(a.\u0275\u0275elementStart(0,"article",7)(1,"ion-label",8),a.\u0275\u0275repeaterCreate(2,Oi,2,1,"span",9,a.\u0275\u0275repeaterTrackByIdentity),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(4,"article",7)(5,"ion-label",8),a.\u0275\u0275template(6,Pi,2,1,"span",9)(7,wi,2,1,"span",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"ion-label",10),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"async"),a.\u0275\u0275pipe(11,"currency"),a.\u0275\u0275element(12,"ion-icon",11),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"article",7)(14,"ion-label",8),a.\u0275\u0275template(15,ki,3,2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"ion-label",10),a.\u0275\u0275text(17),a.\u0275\u0275pipe(18,"async"),a.\u0275\u0275pipe(19,"currency"),a.\u0275\u0275element(20,"ion-icon",11),a.\u0275\u0275elementEnd()()),e&2){let t=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass","game-more-item-combination"),a.\u0275\u0275advance(1),a.\u0275\u0275repeater(t.combination),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngClass","game-more-item-complementary"),a.\u0275\u0275advance(1),a.\u0275\u0275conditional(6,t.complementary?6:-1),a.\u0275\u0275advance(1),a.\u0275\u0275conditional(7,t.refund?7:-1),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass","game-more-item-complementary strong"),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate2(" ",a.\u0275\u0275pipeBind1(10,12,a.\u0275\u0275pipeBind2(11,14,t.bestCategory.quantity,"EUR"))," ",t.bestCategory.winners," "),a.\u0275\u0275advance(5),a.\u0275\u0275property("ngClass","game-more-item-joker"),a.\u0275\u0275advance(1),a.\u0275\u0275conditional(15,t.jokerCombination?15:-1),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass","game-more-item-joker strong"),a.\u0275\u0275advance(1),a.\u0275\u0275textInterpolate2(" ",a.\u0275\u0275pipeBind1(18,17,a.\u0275\u0275pipeBind2(19,19,t.jokerBestCategory.quantity,"EUR"))," ",t.jokerBestCategory.winners," ")}}var Ii=6,Se=(()=>{class e{constructor(){this.environment=v,this.gameCodes=b,this.prizes=[],this.combination=[],this.complementary="",this.refund="",this.jokerCombination="",this.bestCategory={},this.jokerBestCategory={}}ngOnInit(){this.prizes=this.data.data.info.prizes,this.setMainData(),this.setBestCategories()}setMainData(){this.combination=this.prizes[0].combination.match(/\d+|C\(\d+\)|R\(\d+\)/g)||[],this.complementary=this.prizes[0].combination.match(/C\(\d+\)/g)?.[0]||"",this.refund=this.prizes[0].combination.match(/R\(\d+\)/g)?.[0]||"",this.combination.length=Ii,this.jokerCombination=this.prizes[0].jokerCombination||""}setBestCategories(){this.bestCategory=this.prizes[0].categories.filter(t=>t.winners>0)[0],this.jokerBestCategory=this.prizes[0].categoriesJoker.filter(t=>t.winners>0)[0]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:e,selectors:[["app-game-pr"]],inputs:{data:"data"},standalone:!0,features:[a.\u0275\u0275StandaloneFeature],decls:12,vars:8,consts:[[1,"game"],[1,"row"],["aria-hidden","true","slot","start","alt","",1,"game-img-title",3,"src"],["aria-hidden","true","slot","start","alt","",1,"game-img",3,"src"],[1,"game-data"],["color","medium",1,"game-data-date"],[1,"game-more"],[1,"game-more-item"],[3,"ngClass"],["class","ball"],["slot","end",3,"ngClass"],["name","person",1,"person"],[1,"ball"],["aria-hidden","true",1,"joker",3,"src"],[1,"ball","ball-joker"]],template:function(n,i){n&1&&(a.\u0275\u0275elementStart(0,"section",0)(1,"article",1),a.\u0275\u0275element(2,"img",2)(3,"img",3),a.\u0275\u0275elementStart(4,"section",4)(5,"span",5),a.\u0275\u0275text(6),a.\u0275\u0275pipe(7,"async"),a.\u0275\u0275pipe(8,"date"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(9,"article",1)(10,"section",6),a.\u0275\u0275template(11,Mi,21,22),a.\u0275\u0275elementEnd()()()),n&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275property("src",i.environment.web.host+"/assets/logos/games/"+i.data.code+"-title.svg",a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(1),a.\u0275\u0275property("src",i.environment.web.host+"/assets/logos/games/"+i.data.code+".svg",a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(7,4,a.\u0275\u0275pipeBind1(8,6,i.data.date))),a.\u0275\u0275advance(5),a.\u0275\u0275conditional(11,i.prizes[0].combination?11:-1))},dependencies:[xi,It.NgClass,It.AsyncPipe,Q,$,bi,Et.IonIcon,Et.IonLabel,yi],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--pr-primary: #1a8648;--joker-primary: #be1540;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{overflow:hidden;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:var(--box-shadow);padding:10px;border:thin solid var(--pr-primary)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100%}[_nghost-%COMP%]   .game-img-title[_ngcontent-%COMP%]{position:absolute;width:100px;top:-25px}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{position:absolute;opacity:.15;width:300px;top:-20px;left:-70px;rotate:20deg}[_nghost-%COMP%]   .game-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .game-data-date[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right;font-size:14px;color:var(--pr-primary);font-weight:700}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .game-more-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:35px;font-size:14px}[_nghost-%COMP%]   .game-more-item-combination[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .game-more-item-complementary[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .game-more-item-complementary.strong[_ngcontent-%COMP%]{font-weight:700}[_nghost-%COMP%]   .game-more-item-joker[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .game-more-item-joker.strong[_ngcontent-%COMP%]{color:var(--joker-primary);font-weight:700}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{background:var(--pr-primary);color:#fff;padding:5px 10px;border-radius:20px;margin-right:10px}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .ball-joker[_ngcontent-%COMP%]{background-color:var(--joker-primary)}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .joker[_ngcontent-%COMP%]{width:40px;height:40px;width:30px;height:30px;margin-right:10px}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .person[_ngcontent-%COMP%]{width:24px}"],changeDetection:0})}}return e})();import*as c from"@angular/core";import*as xe from"@angular/router";import*as D from"@ionic/angular";import*as be from"@ngx-translate/core";var Di=(e,u)=>u._id;function Ni(e,u){if(e&1&&c.\u0275\u0275element(0,"app-game-ln",6),e&2){let t=c.\u0275\u0275nextContext().$implicit;c.\u0275\u0275property("data",t)}}function Ri(e,u){if(e&1&&c.\u0275\u0275element(0,"app-game-pr",6),e&2){let t=c.\u0275\u0275nextContext().$implicit;c.\u0275\u0275property("data",t)}}function Gi(e,u){if(e&1){let t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"span",5),c.\u0275\u0275listener("click",function(){let g=c.\u0275\u0275restoreView(t).$implicit,_=c.\u0275\u0275nextContext(2);return c.\u0275\u0275resetView(_.openGame(g))}),c.\u0275\u0275template(1,Ni,1,1,"app-game-ln",6)(2,Ri,1,1,"app-game-pr",6),c.\u0275\u0275elementEnd()}if(e&2){let t=u.$implicit,n=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(1),c.\u0275\u0275conditional(1,t.code===n.gamesCodes.LOTERIA_NACIONAL?1:-1),c.\u0275\u0275advance(1),c.\u0275\u0275conditional(2,t.code===n.gamesCodes.LA_PRIMITIVA?2:-1)}}function Bi(e,u){e&1&&(c.\u0275\u0275elementStart(0,"span"),c.\u0275\u0275element(1,"ion-spinner",7),c.\u0275\u0275elementEnd())}function Ui(e,u){e&1&&(c.\u0275\u0275elementStart(0,"section",8)(1,"span",9),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd()()),e&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,1,"GLOBAL.LOAD_MORE")))}function ji(e,u){if(e&1){let t=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"span",5),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(t);let i=c.\u0275\u0275nextContext(2);return c.\u0275\u0275resetView(i.loadMore())}),c.\u0275\u0275template(1,Bi,2,0,"span")(2,Ui,4,3),c.\u0275\u0275elementEnd()}if(e&2){let t=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(1),c.\u0275\u0275conditional(1,t.showLoadMoreSpinner?1:2)}}function Vi(e,u){if(e&1&&(c.\u0275\u0275elementStart(0,"section",3),c.\u0275\u0275repeaterCreate(1,Gi,3,2,"span",4,Di),c.\u0275\u0275template(3,ji,3,1,"span",4),c.\u0275\u0275elementEnd()),e&2){let t=c.\u0275\u0275nextContext();c.\u0275\u0275advance(1),c.\u0275\u0275repeater(t.games),c.\u0275\u0275advance(2),c.\u0275\u0275conditional(3,t.showLoadMore?3:-1)}}function zi(e,u){e&1&&(c.\u0275\u0275elementStart(0,"section",11),c.\u0275\u0275element(1,"ion-icon",12),c.\u0275\u0275elementStart(2,"span",13),c.\u0275\u0275text(3),c.\u0275\u0275pipe(4,"translate"),c.\u0275\u0275elementEnd()()),e&2&&(c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(4,1,"GAMES.EMPTY_GAME_LIST")))}function Fi(e,u){e&1&&(c.\u0275\u0275elementStart(0,"span",14)(1,"section",15)(2,"article",16),c.\u0275\u0275element(3,"ion-skeleton-text",17)(4,"ion-skeleton-text",18),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"article",19),c.\u0275\u0275element(6,"ion-skeleton-text",20),c.\u0275\u0275elementEnd()()()),e&2&&(c.\u0275\u0275advance(3),c.\u0275\u0275property("animated",!0),c.\u0275\u0275advance(1),c.\u0275\u0275property("animated",!0),c.\u0275\u0275advance(2),c.\u0275\u0275property("animated",!0))}function Hi(e,u){if(e&1&&(c.\u0275\u0275elementStart(0,"section",3),c.\u0275\u0275repeaterCreate(1,Fi,7,3,"span",4,c.\u0275\u0275repeaterTrackByIdentity),c.\u0275\u0275elementEnd()),e&2){let t=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(1),c.\u0275\u0275repeater(t.skeletons)}}function $i(e,u){if(e&1&&c.\u0275\u0275template(0,zi,5,3,"section",10)(1,Hi,3,0),e&2){let t=c.\u0275\u0275nextContext();c.\u0275\u0275conditional(0,t.noGamesLoaded?0:1)}}var qi=5,Bt=5,Ki=2,ye=(()=>{class e{constructor(t,n,i){this.cdr=t,this.gameSrv=n,this.router=i,this.games=[],this.gamesCodes=b,this.showLoadMore=!0,this.skeletons=Array(Bt*Ki).fill(0),this.noGamesLoaded=!1,this.showLoadMoreSpinner=!1,this.limit=Bt,this.offset=0}ionViewDidEnter(){return f(this,null,function*(){this.limit=Bt,this.games.length||(yield this.loadGames()),this.cdr.detectChanges()})}loadGames(){return f(this,null,function*(){this.showLoadMore=!0,this.offset===0&&(this.games=[]);let t=yield this.getGamesByCodeOnlyWithPrizes(b.LOTERIA_NACIONAL),n=yield this.getGamesByCodeOnlyWithPrizes(b.LA_PRIMITIVA);this.games=this.games.concat(t,n),this.cdr.detectChanges(),this.games.length?this.sortGamesByDate():this.noGamesLoaded=!0,this.cdr.detectChanges()})}openGame(t){this.gameSrv.openGame(t)}loadMore(){return f(this,null,function*(){this.showLoadMoreSpinner=!0,this.offset+=qi,yield this.loadGames(),this.showLoadMoreSpinner=!1,this.cdr.detectChanges()})}handleRefresh(t){return f(this,null,function*(){this.offset=0,yield this.loadGames(),t.target.complete()})}sortGamesByDate(){this.games.sort((t,n)=>{let i=new Date(t.date);return new Date(n.date).getTime()-i.getTime()})}getGamesByCodeOnlyWithPrizes(t){return f(this,null,function*(){let n=[];try{n=yield this.gameSrv.getAllGamesByCodeOnlyWithPrizes(t,this.limit,this.offset),n.length&&n.length<this.limit&&(this.showLoadMore=!1)}catch(i){console.log("Error getting games by code",i)}return n})}static{this.\u0275fac=function(n){return new(n||e)(c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(z),c.\u0275\u0275directiveInject(xe.Router))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:e,selectors:[["app-games"]],standalone:!0,features:[c.\u0275\u0275StandaloneFeature],decls:5,vars:1,consts:[["padding","","color","light"],["slot","fixed",3,"ionRefresh"],["class","main-container"],[1,"main-container"],["class","main-container-element"],[1,"main-container-element",3,"click"],[3,"data"],["name","crescent"],[1,"main-container-element-load-more"],[1,"main-container-element-load-more-text"],["class","empty-content"],[1,"empty-content"],["name","scan-circle-outline",1,"empty-content-icon"],[1,"empty-content-message"],[1,"main-container-element"],[1,"skeleton-item"],[1,"skeleton-item-row"],[1,"skeleton-item-img",3,"animated"],[1,"skeleton-item-date",3,"animated"],[1,"skeleton-item-row","body"],[1,"skeleton-item-body",3,"animated"]],template:function(n,i){n&1&&(c.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-refresher",1),c.\u0275\u0275listener("ionRefresh",function(_){return i.handleRefresh(_)}),c.\u0275\u0275element(2,"ion-refresher-content"),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(3,Vi,4,1,"section",2)(4,$i,2,1),c.\u0275\u0275elementEnd()),n&2&&(c.\u0275\u0275advance(3),c.\u0275\u0275conditional(3,i.games.length?3:4))},dependencies:[Ei,Ti,Li,D.IonContent,D.IonIcon,D.IonRefresher,D.IonRefresherContent,D.IonSkeletonText,D.IonSpinner,Ai,be.TranslatePipe,Mt,Se],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px;--background: var(--color-background)}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-bottom:150px;background-color:var(--color-background)}[_nghost-%COMP%]   .main-container-element[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .main-container-element-load-more[_ngcontent-%COMP%]{justify-content:center;width:100%;height:40px;background-color:transparent;border:solid thin var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;margin:5px;border-radius:7px;box-shadow:var(--box-shadow);padding:15px}[_nghost-%COMP%]   .main-container-element-load-more-text[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}[_nghost-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}[_nghost-%COMP%]   .empty-content-icon[_ngcontent-%COMP%]{width:120px;height:120px;color:gray}[_nghost-%COMP%]   .empty-content-message[_ngcontent-%COMP%]{color:gray;margin:20px}[_nghost-%COMP%]   .skeleton-item[_ngcontent-%COMP%]{width:100%;height:173px;background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:var(--box-shadow);padding:10px;border:thin solid var(--ion-color-medium)}[_nghost-%COMP%]   .skeleton-item-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;width:100%}[_nghost-%COMP%]   .skeleton-item-row.body[_ngcontent-%COMP%]{height:100%;margin-bottom:7px}[_nghost-%COMP%]   .skeleton-item-img[_ngcontent-%COMP%]{min-width:25px;max-width:25px;height:25px;margin-right:25px}[_nghost-%COMP%]   .skeleton-item-date[_ngcontent-%COMP%]{width:100%;height:17px}[_nghost-%COMP%]   .skeleton-item-body[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:7px}"],changeDetection:0})}}return e})();import{CommonModule as Qi}from"@angular/common";import"@angular/core";import{IonicModule as Wi}from"@ionic/angular";import{ScrollingModule as Yi}from"@angular/cdk/scrolling";import{TranslateModule as Ji}from"@ngx-translate/core";import{FormsModule as Xi}from"@angular/forms";import*as h from"@angular/core";import*as O from"@ionic/angular";import*as tt from"@angular/forms";import*as Ut from"@ngx-translate/core";import*as Tt from"@angular/common";import*as et from"@angular/cdk/scrolling";var Zi=()=>[Tt.NgClass,Tt.AsyncPipe,Promise.resolve().then(()=>(nt(),zt)).then(e=>e.CustomCurrencyPipe),O.IonItem,O.IonLabel,O.IonList,et.CdkFixedSizeVirtualScroll,et.CdkVirtualForOf,et.CdkVirtualScrollViewport,Ut.TranslatePipe];function to(e,u){if(e&1&&h.\u0275\u0275element(0,"app-game-ln",2),e&2){let t=h.\u0275\u0275nextContext();h.\u0275\u0275property("data",t.game)}}function eo(e,u){e&1&&h.\u0275\u0275element(0,"ion-spinner",7)}function no(e,u){e&1&&h.\u0275\u0275element(0,"ion-icon",8)}function io(e,u){e&1&&h.\u0275\u0275element(0,"ion-icon",9)}function oo(e,u){e&1&&h.\u0275\u0275element(0,"ion-icon",8)}function ro(e,u){e&1&&h.\u0275\u0275element(0,"ion-icon",10)}function ao(e,u){if(e&1){let t=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"ion-icon",11),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(t);let i=h.\u0275\u0275nextContext();return h.\u0275\u0275resetView(i.clearSearch())}),h.\u0275\u0275elementEnd()}}function so(e,u){if(e&1&&(h.\u0275\u0275elementStart(0,"ion-item",16)(1,"ion-label",17)(2,"span",18),h.\u0275\u0275text(3),h.\u0275\u0275pipe(4,"translate"),h.\u0275\u0275elementEnd()(),h.\u0275\u0275elementStart(5,"ion-label",19),h.\u0275\u0275text(6),h.\u0275\u0275pipe(7,"async"),h.\u0275\u0275pipe(8,"currency"),h.\u0275\u0275elementEnd()()),e&2){let t=u.$implicit,n=u.$index;h.\u0275\u0275advance(1),h.\u0275\u0275property("ngClass","result-list-prize-number-"+n),h.\u0275\u0275advance(2),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(4,4,t.number.substring(1))),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngClass","result-list-prize-quantity-"+n),h.\u0275\u0275advance(1),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(7,6,h.\u0275\u0275pipeBind2(8,8,t.quantity/100,"EUR")))}}function co(e,u){if(e&1&&h.\u0275\u0275template(0,so,9,11,"ion-item",15),e&2){let t=h.\u0275\u0275nextContext(2);h.\u0275\u0275property("cdkVirtualForOf",t.results)("cdkVirtualForTrack",t.result)}}function lo(e,u){if(e&1&&(h.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",12)(1,"ion-list",13),h.\u0275\u0275template(2,co,1,2,"ion-item",14),h.\u0275\u0275elementEnd()()),e&2){let t=h.\u0275\u0275nextContext();h.\u0275\u0275advance(2),h.\u0275\u0275conditional(2,t.results.length?2:-1)}}var Oe=(()=>{class e{constructor(t,n){this.cdr=t,this.lnSrv=n,this.debounce=1e3,this.minSearchLength=3,this.environment=v,this.game={},this.gameCodes=b,this.results=[],this.searchValue="",this.bestGamePrizes={},this.showSearchLoading=!1,this.completePrizesList=[]}ionViewDidEnter(){this.searchValue="",this.game=history.state.game,this.formatPrizesNumbers(),this.completePrizesList=this.lnSrv.getCompletePrizesList(this.game.data.info.completePrizesListRaw||""),this.results=this.completePrizesList,this.cdr.detectChanges()}formatPrizesNumbers(){this.game.data.info.prizes.forEach(n=>{n.number=this.padStart(n.number,5,"?")})}handleInput(t){let n=this.completePrizesList||[],i="0"+t.target.value.toLowerCase();this.results=n.filter(g=>g.number.toLowerCase().indexOf(i)>-1),this.showSearchLoading=!1}clearSearch(){this.searchValue="",this.results=this.completePrizesList}padStart(t,n,i){return n=n>>0,i=String(typeof i<"u"?i:" "),t.length>=n?String(t):(n=n-t.length,n>i.length&&(i+=i.repeat(n/i.length)),i.slice(0,n)+String(t))}static{this.\u0275fac=function(n){return new(n||e)(h.\u0275\u0275directiveInject(h.ChangeDetectorRef),h.\u0275\u0275directiveInject(wt))}}static{this.\u0275cmp=h.\u0275\u0275defineComponent({type:e,selectors:[["app-game-detail"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:15,vars:8,consts:[[1,"container"],[1,"game"],[3,"data"],[1,"search"],["maxlength","5","type","tel",3,"placeholder","ngModel","debounce","ionInput","ngModelChange","keypress"],["class","search-icon","slot","start","name","dots","aria-hidden","true"],["class","search-icon","slot","end","name","close","aria-hidden","true"],["slot","start","name","dots","aria-hidden","true",1,"search-icon"],["slot","start","name","search","aria-hidden","true",1,"search-icon"],["slot","start","name","checkmark-outline","aria-hidden","true",1,"search-icon"],["slot","start","name","checkmark-done-outline","aria-hidden","true",1,"search-icon"],["slot","end","name","close","aria-hidden","true",1,"search-icon",3,"click"],["itemSize","50","minBufferPx","900","maxBufferPx","1350"],[1,"result-list"],["class","result-list-prize"],["class","result-list-prize",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrack"],[1,"result-list-prize"],[3,"ngClass"],[1,"ball"],["slot","end",3,"ngClass"]],template:function(n,i){n&1&&(h.\u0275\u0275elementStart(0,"ion-content",0)(1,"section",1),h.\u0275\u0275template(2,to,1,1,"app-game-ln",2),h.\u0275\u0275elementStart(3,"article",3)(4,"ion-input",4),h.\u0275\u0275listener("ionInput",function(_){return i.handleInput(_)})("ngModelChange",function(_){return i.searchValue=_})("keypress",function(){return i.showSearchLoading=!0}),h.\u0275\u0275pipe(5,"translate"),h.\u0275\u0275template(6,eo,1,0,"ion-spinner",5)(7,no,1,0)(8,io,1,0)(9,oo,1,0)(10,ro,1,0)(11,ao,1,0,"ion-icon",6),h.\u0275\u0275elementEnd()(),h.\u0275\u0275template(12,lo,3,1),h.\u0275\u0275defer(13,12,Zi),h.\u0275\u0275deferOnIdle(),h.\u0275\u0275elementEnd()()),n&2&&(h.\u0275\u0275advance(2),h.\u0275\u0275conditional(2,i.game&&i.game._id?2:-1),h.\u0275\u0275advance(2),h.\u0275\u0275propertyInterpolate("placeholder",h.\u0275\u0275pipeBind1(5,6,"GLOBAL.SEARCH")),h.\u0275\u0275property("ngModel",i.searchValue)("debounce",i.debounce),h.\u0275\u0275advance(2),h.\u0275\u0275conditional(6,i.showSearchLoading?6:i.results.length&&!i.searchValue.length?7:i.results.length&&i.searchValue.length<5?8:!i.results.length&&i.searchValue.length?9:10),h.\u0275\u0275advance(5),h.\u0275\u0275conditional(11,i.searchValue.length?11:-1))},dependencies:[Qi,Wi,O.IonContent,O.IonIcon,O.IonInput,O.IonSpinner,O.TextValueAccessor,Yi,Xi,tt.NgControlStatus,tt.MaxLengthValidator,tt.NgModel,Ji,Ut.TranslatePipe,Mt],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--pr-primary: #1a8648;--joker-primary: #be1540;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%;width:100%;overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .ball[_ngcontent-%COMP%]{background:var(--ln-primary);color:#fff;padding:5px 10px;border-radius:20px;margin-right:10px}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:var(--color-background);box-shadow:#0000003d 0 3px 8px;width:100%;height:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%;padding:15px 15px 0}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:0 15px;background-color:#fff;border-radius:100px;margin:15px;border:thin solid var(--ln-primary);width:calc(100% - 30px)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:16px}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]{margin-bottom:56px;overflow-y:scroll;overscroll-behavior:none}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{width:50px;margin:0 15px 0 0}[_nghost-%COMP%]   .no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}"],changeDetection:0})}}return e})();var Yc=[{path:"",component:de,children:[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:ce,children:[{path:"games",component:ye},{path:"game-detail-ln",component:Oe},{path:"scan",component:ie},{path:"tickets",component:he},{path:"menu",component:fe}]}]}];export{Yc as routes};
