import{a as ot}from"./chunk-GW4A3HUB.js";import{c as u}from"./chunk-RGY6OTGO.js";import{bootstrapApplication as Un}from"@angular/platform-browser";import{provideRouter as Rn,withHashLocation as Nn}from"@angular/router";import{CommonModule as je}from"@angular/common";import"@angular/core";import{RouterModule as He}from"@angular/router";import{IonicModule as ze}from"@ionic/angular";var N=function(i){return i.SHELL_VERSION="shellVersion",i.SHELL_PUSH_TOKEN="shellPushToken",i}(N||{}),T=function(i){return i.SHELL_DEVICE_GET_ID="shellDeviceGetId",i.SHELL_DEVICE_GET_ID_RESPONSE="shellDeviceGetIdResponse",i.SHELL_PUSH_REQUEST_PERMISSION="shellPushRequestPermission",i.SHELL_PUSH_REQUEST_PERMISSION_RESPONSE="shellPushRequestPermissionResponse",i.SHELL_PUSH_REGISTER="shellPushRegister",i.SHELL_PUSH_REGISTER_RESPONSE="shellPushRegisterResponse",i.SHELL_SCANNER_RESPONSE="shellScannerResponse",i.SHELL_SCANNER_REQUEST_PERMISSION="shellScannerRequestPermission",i.SHELL_SCANNER_REQUEST_PERMISSION_RESPONSE="shellScannerRequestPermissionResponse",i.SHELL_SCANNER_START="shellScannerStart",i.SHELL_SCANNER_STOP="shellScannerStop",i.SHELL_SCANNER_ERROR="shellScannerError",i}(T||{}),kt=function(i){return i.SHELL_LOADING_REMOTE_OK="shellLoadingRemoteOk",i.SHELL_FEDERATION_REMOTE_ERROR="shellFederationRemoteError",i}(kt||{});var _=function(i){return i.TOKEN="token",i.APP_UUID="appUuid",i.APP_SYNC_MARK="appSyncMark",i.LANGUAGE="language",i.ONBOARDING="onboarding",i}(_||{}),P=function(i){return i.EN="en",i.ES="es",i.CAT="cat",i}(P||{}),L=function(i){return i.SYSTEM="[SYSTEM]",i}(L||{}),G=function(i){return i.UUID_EMAIL_DOMAIN="@uuid.app",i.UUID_QR_CODE="app-uuid-code:",i.GAME_CODES="GameCodes",i}(G||{}),O=function(i){return i.LOTERIA_NACIONAL="ln",i}(O||{}),w=function(i){return i.CANCEL="CANCEL",i.ACCEPT="ACCEPT",i}(w||{});import{TranslateModule as Fe}from"@ngx-translate/core";import{CommonModule as Pe}from"@angular/common";import{EventEmitter as Ee}from"@angular/core";var v={api:{host:"https://api.lookttery.com/api"},web:{host:"https://lookttery.com"}};import"@angular/core";import{BehaviorSubject as Ie}from"rxjs";import*as rt from"@angular/core";import*as Rt from"@ngx-translate/core";var at=(()=>{let n=class n{constructor(t){this.translateService=t}transform(t){let e=new Date(t),r={weekday:"long",year:"numeric",month:"long",day:"numeric"},g=e.toLocaleDateString(this.translateService.currentLang,r),C=new Ie(g);return this.translateService.onLangChange.subscribe(()=>(g=e.toLocaleDateString(this.translateService.currentLang,r),C.next(g))),C}};n.\u0275fac=function(e){return new(e||n)(rt.\u0275\u0275directiveInject(Rt.TranslateService,16))},n.\u0275pipe=rt.\u0275\u0275definePipe({name:"date",type:n,pure:!0,standalone:!0});let i=n;return i})();import{IonicModule as ke}from"@ionic/angular";import{TranslateModule as Me}from"@ngx-translate/core";import*as m from"@angular/core";import"@angular/core";import{lastValueFrom as Vt}from"rxjs";import*as K from"@angular/core";import*as jt from"@ionic/angular";import*as Ht from"@ngx-translate/core";import{HttpHeaders as Oe}from"@angular/common/http";import"@angular/core";import{catchError as we}from"rxjs";import*as q from"@angular/core";import*as Gt from"@angular/common/http";import*as Bt from"@angular/router";import"@angular/core";import*as Nt from"@angular/core";var S=(()=>{let n=class n{constructor(){}setItem(t,e){localStorage.setItem(t,e)}getItem(t){try{return JSON.parse(localStorage.getItem(t)||"")}catch{return localStorage.getItem(t)}}removeItem(t){localStorage.removeItem(t)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nt.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Ut=function(i){return i.UNAUTHORIZED="Unauthorized",i}(Ut||{}),E=(()=>{let n=class n{constructor(t,e,r){this.http=t,this.router=e,this.storageSrv=r}get(t,e){return e=this.addTokenToHeaders(e),this.http.get(t,e)}post(t,e,r){return r=this.addPostHeaders(r),r=this.addTokenToHeaders(r),this.http.post(t,e,r).pipe(this.handleErrorAndRedirect())}delete(t,e){return e=this.addTokenToHeaders(e),this.http.delete(t,e)}addTokenToHeaders(t){let e=this.storageSrv.getItem(_.TOKEN),r=[["Authorization",`Bearer ${e==null?void 0:e.token}`]];return this.addHeaders(r,t)}addPostHeaders(t){let e=[["Content-Type","application/json"]];return this.addHeaders(e,t)}addHeaders(t,e){return t.forEach(r=>{e=e||{},e.headers=e.headers||{},e.headers instanceof Oe?e.headers=e.headers.append(r[0],r[1]):typeof e.headers=="object"&&(e.headers[r[0]]=r[1])}),e||{}}handleErrorAndRedirect(){return we((t,e)=>u(this,null,function*(){throw t.status===401&&t.statusText===Ut.UNAUTHORIZED&&(this.storageSrv.removeItem(_.TOKEN),this.router.navigate(["/","main"])),t}))}};n.\u0275fac=function(e){return new(e||n)(q.\u0275\u0275inject(Gt.HttpClient),q.\u0275\u0275inject(Bt.Router),q.\u0275\u0275inject(S))},n.\u0275prov=q.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Q=(()=>{let n=class n{constructor(t,e,r){this.alertController=t,this.translateSrv=e,this.apiSrv=r,this.apiTicket=`${v.api.host}/ticket`}createNewTicket(t){return u(this,null,function*(){let e={data:{info:{code:t}}};try{let r=yield this.apiSrv.post(this.apiTicket,e);return yield Vt(r)}catch(r){throw r}})}deleteTicketById(t){return u(this,null,function*(){try{let e=yield this.apiSrv.delete(`${this.apiTicket}/${t}`);return yield Vt(e)}catch(e){throw e}})}presentAlertConfirmDeleteTicket(){return u(this,null,function*(){let t=yield this.alertController.create({header:this.translateSrv.instant("TICKETS.DELETE_TICKET"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("TICKETS.DELETE_TICKET_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:w.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:w.ACCEPT,handler:()=>{}}]});yield t.present();let{role:e}=yield t.onDidDismiss();return e})}};n.\u0275fac=function(e){return new(e||n)(K.\u0275\u0275inject(jt.AlertController),K.\u0275\u0275inject(Ht.TranslateService),K.\u0275\u0275inject(E))},n.\u0275prov=K.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();import*as st from"@angular/common";import*as ct from"@ionic/angular";import*as Ft from"@ngx-translate/core";function Te(i,n){i&1&&(m.\u0275\u0275elementStart(0,"section",1)(1,"article",2),m.\u0275\u0275element(2,"ion-skeleton-text",3),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"section",4),m.\u0275\u0275element(4,"ion-skeleton-text",5)(5,"ion-skeleton-text",6),m.\u0275\u0275elementEnd()()),i&2&&(m.\u0275\u0275advance(2),m.\u0275\u0275property("animated",!0),m.\u0275\u0275advance(2),m.\u0275\u0275property("animated",!0),m.\u0275\u0275advance(1),m.\u0275\u0275property("animated",!0))}function Le(i,n){if(i&1){let c=m.\u0275\u0275getCurrentView();m.\u0275\u0275elementStart(0,"section",13)(1,"ion-icon",14),m.\u0275\u0275listener("click",function(e){m.\u0275\u0275restoreView(c);let r=m.\u0275\u0275nextContext(2);return r.deleteTicketById(r.data.ticket._id||""),m.\u0275\u0275resetView(e.stopPropagation())}),m.\u0275\u0275elementEnd()()}}function De(i,n){if(i&1&&(m.\u0275\u0275elementStart(0,"span",15),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"async"),m.\u0275\u0275pipe(3,"currency"),m.\u0275\u0275elementEnd()),i&2){let c=m.\u0275\u0275nextContext(2);m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(2,1,m.\u0275\u0275pipeBind2(3,3,c.data.prize.quantity/100,"EUR")))}}function Ae(i,n){i&1&&(m.\u0275\u0275elementStart(0,"span",15),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"translate"),m.\u0275\u0275elementEnd()),i&2&&(m.\u0275\u0275advance(1),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(2,1,"GAMES.DRAW_PENDING")))}var Re=i=>({"has-actions":i});function Ne(i,n){if(i&1&&(m.\u0275\u0275template(0,Le,2,0,"section",7),m.\u0275\u0275elementStart(1,"section",8)(2,"article",2),m.\u0275\u0275element(3,"img",9),m.\u0275\u0275elementStart(4,"span",10),m.\u0275\u0275text(5),m.\u0275\u0275pipe(6,"async"),m.\u0275\u0275pipe(7,"date"),m.\u0275\u0275elementEnd()(),m.\u0275\u0275elementStart(8,"section",4)(9,"span",11),m.\u0275\u0275text(10),m.\u0275\u0275elementEnd(),m.\u0275\u0275template(11,De,4,6,"span",12)(12,Ae,3,3),m.\u0275\u0275elementEnd()()),i&2){let c=m.\u0275\u0275nextContext();m.\u0275\u0275conditional(0,c.showActions?0:-1),m.\u0275\u0275advance(1),m.\u0275\u0275property("ngClass",m.\u0275\u0275pureFunction1(10,Re,c.showActions)),m.\u0275\u0275advance(2),m.\u0275\u0275property("src",c.environment.web.host+"/assets/logos/games/"+c.data.ticket.code+".png",m.\u0275\u0275sanitizeUrl),m.\u0275\u0275advance(2),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(6,6,m.\u0275\u0275pipeBind1(7,8,c.data.ticket.date))),m.\u0275\u0275advance(5),m.\u0275\u0275textInterpolate(c.data.ticket.data.info.number),m.\u0275\u0275advance(1),m.\u0275\u0275conditional(11,c.data.game.data.info.prizes.length?11:12)}}function Ge(i,n){i&1&&(m.\u0275\u0275elementStart(0,"p"),m.\u0275\u0275text(1,"Game not available"),m.\u0275\u0275elementEnd())}var lt=(()=>{let n=class n{constructor(t){this.ticketSrv=t,this.skeleton=!1,this.showActions=!0,this.deleteTicketEvent=new Ee,this.environment=v,this.gameCodes=O}ngOnInit(){}deleteTicketById(t){return u(this,null,function*(){if((yield this.ticketSrv.presentAlertConfirmDeleteTicket())===w.ACCEPT){this.skeleton=!0;let r=yield this.ticketSrv.deleteTicketById(t);r&&this.deleteTicketEvent.emit(r)}})}};n.\u0275fac=function(e){return new(e||n)(m.\u0275\u0275directiveInject(Q))},n.\u0275cmp=m.\u0275\u0275defineComponent({type:n,selectors:[["app-ticket-ln"]],inputs:{data:"data",skeleton:"skeleton",showActions:"showActions"},outputs:{deleteTicketEvent:"deleteTicketEvent"},standalone:!0,features:[m.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[["class","ticket"],[1,"ticket"],[1,"ticket-title"],[1,"skeleton-25",3,"animated"],[1,"ticket-data"],[1,"skeleton-40",3,"animated"],[3,"animated"],["class","ticket-actions"],[1,"ticket",3,"ngClass"],["aria-hidden","true","slot","start","alt","",1,"ticket-title-img",3,"src"],["color","medium",1,"ticket-title-date"],[1,"ticket-data-number"],["class","ticket-data-prize"],[1,"ticket-actions"],["color","danger","name","remove-circle",1,"ticket-actions-delete",3,"click"],[1,"ticket-data-prize"]],template:function(e,r){e&1&&m.\u0275\u0275template(0,Te,6,3,"section",0)(1,Ne,13,12)(2,Ge,2,0),e&2&&m.\u0275\u0275conditional(0,r.skeleton?0:r.data.ticket.code===r.gameCodes.LOTERIA_NACIONAL?1:2)},dependencies:[Pe,st.NgClass,st.AsyncPipe,at,ot,ke,ct.IonIcon,ct.IonSkeletonText,Me,Ft.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:300px}[_nghost-%COMP%]   .skeleton-25[_ngcontent-%COMP%]{height:25px}[_nghost-%COMP%]   .skeleton-40[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   .ticket[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:#63636333 0 2px 8px;padding:10px;border:thin solid var(--ln-primary)}[_nghost-%COMP%]   .ticket-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:100%}[_nghost-%COMP%]   .ticket-title-img[_ngcontent-%COMP%]{width:25px;margin:0 auto 0 0}[_nghost-%COMP%]   .ticket-title-date[_ngcontent-%COMP%]{font-size:14px;color:var(--ln-primary);font-weight:700;margin-left:10px}[_nghost-%COMP%]   .ticket-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .ticket-data-number[_ngcontent-%COMP%]{font-size:40px;font-weight:700;letter-spacing:17px}[_nghost-%COMP%]   .ticket-actions[_ngcontent-%COMP%]{position:relative;height:0;display:flex;width:100%;flex-direction:row;justify-content:flex-end;right:10px;bottom:-5px}[_nghost-%COMP%]   .ticket-actions-delete[_ngcontent-%COMP%]{width:25px;height:25px;background-color:#fff;border-radius:100px}[_nghost-%COMP%]   .has-actions[_ngcontent-%COMP%]{margin-top:17px}"],changeDetection:0});let i=n;return i})();import{ZXingScannerModule as $e}from"@zxing/ngx-scanner";import{BarcodeFormat as ht}from"@zxing/library";import*as l from"@angular/core";import"@angular/core";import{lastValueFrom as qt}from"rxjs";import{v4 as Ve}from"uuid";import*as F from"@angular/core";import"@angular/core";import{BehaviorSubject as Be,lastValueFrom as mt}from"rxjs";import*as et from"@angular/core";var Ue=1e3*60*60*1.5,k=(()=>{let n=class n{constructor(t,e){this.apiSrv=t,this.storageSrv=e,this.user={},this.apiUser=`${v.api.host}/user`,this.user$=new Be({})}getUser(){return this.user}getUserSubject(){return this.user$}setUser(t){this.user=t,this.user$.next(t)}createUserByUuid(t){return u(this,null,function*(){let e={email:`${t}${G.UUID_EMAIL_DOMAIN}`,password:t,name:t};try{let r=this.apiSrv.post(this.apiUser,e);return yield mt(r)}catch(r){throw r}})}loginByUuid(t){return u(this,null,function*(){let e=yield this.login(`${t}${G.UUID_EMAIL_DOMAIN}`,t);return this.setUser(e.user),e})}login(t,e){return u(this,null,function*(){let r={email:t,password:e};try{let g=this.apiSrv.post(`${this.apiUser}/login`,r),C=yield mt(g);if(C.token){let M={token:C.token,date:Date.now()};this.storageSrv.setItem(_.TOKEN,JSON.stringify(M)),console.info(L.SYSTEM,`TOKEN: ${C.token}`)}return C}catch(g){throw g}})}checkTokenExpiration(t){return u(this,null,function*(){let e=this.storageSrv.getItem(_.TOKEN),r=(e==null?void 0:e.date)||0;Date.now()-r>Ue&&(yield this.loginByUuid(t))})}getAllTicketsByUser(){return u(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiUser}/ticket/all?limit=100&offset=0`);return yield mt(t)}catch{return[]}})}getAllPushesByUser(){return u(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiUser}/push/all?limit=100&offset=0`);return yield mt(t)}catch{return[]}})}};n.\u0275fac=function(e){return new(e||n)(et.\u0275\u0275inject(E),et.\u0275\u0275inject(S))},n.\u0275prov=et.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();import"@angular/core";import*as dt from"@angular/core";var pt=(()=>{let n=class n{constructor(t){this.storageSrv=t}hasShell(){let t="0.0.0";return this.storageSrv.getItem(N.SHELL_VERSION)===t}};n.\u0275fac=function(e){return new(e||n)(dt.\u0275\u0275inject(S))},n.\u0275prov=dt.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var U=(()=>{let n=class n{constructor(t,e,r,g){this.apiSrv=t,this.userSrv=e,this.coreSrv=r,this.storageSrv=g,this.uuid="",this.apiUuid=`${v.api.host}/uuid`,window.addEventListener(T.SHELL_DEVICE_GET_ID_RESPONSE,C=>u(this,null,function*(){var B;let M=localStorage.getItem(_.APP_UUID)||((B=C.detail)==null?void 0:B.response)||"";this.setAppUuid(M),yield this.onDeviceIdResponse()}))}init(){return u(this,null,function*(){yield this.requestDeviceId()})}getUuid(){return this.uuid}updateAppUuid(t){this.setAppUuid(t),this.setSyncMark()}requestDeviceId(){return u(this,null,function*(){if(this.coreSrv.hasShell())window.dispatchEvent(new CustomEvent(T.SHELL_DEVICE_GET_ID));else{let t=localStorage.getItem(_.APP_UUID)||"";this.setAppUuid(t),yield this.onDeviceIdResponse()}})}setAppUuid(t){this.uuid=t,this.uuid||(this.uuid=Ve()),this.storageSrv.setItem(_.APP_UUID,this.uuid)}setSyncMark(){this.storageSrv.setItem(_.APP_SYNC_MARK,new Date().toISOString())}onDeviceIdResponse(){return u(this,null,function*(){(yield this.getUuidData())?(yield this.userSrv.loginByUuid(this.uuid),console.info(L.SYSTEM,`UUID: ${this.uuid} was registered.`)):yield this.registerUuid()})}getUuidData(){return u(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiUuid}/${this.uuid}`);return yield qt(t)}catch{return null}})}registerUuid(){return u(this,null,function*(){let t=yield this.userSrv.createUserByUuid(this.uuid);if((yield this.userSrv.loginByUuid(this.uuid)).token){let r={uuid:this.uuid,user:t._id};try{let g=this.apiSrv.post(this.apiUuid,r),C=yield qt(g);this.uuid=C.uuid,console.info(L.SYSTEM,`UUID: ${this.uuid} has been registered.`)}catch(g){console.error(g)}}})}};n.\u0275fac=function(e){return new(e||n)(F.\u0275\u0275inject(E),F.\u0275\u0275inject(k),F.\u0275\u0275inject(pt),F.\u0275\u0275inject(S))},n.\u0275prov=F.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();import"@angular/core";import{lastValueFrom as Tt}from"rxjs";import*as nt from"@angular/core";import*as Kt from"@angular/router";var V=(()=>{let n=class n{constructor(t,e){this.apiSrv=t,this.router=e,this.apiGame=`${v.api.host}/game`}getAllGamesByCodeOnlyWithPrizes(t,e=10,r=0){return u(this,null,function*(){try{let g=this.apiSrv.get(`${this.apiGame}?limit=${e}&offset=${r}&code=${t}&onlyWithPrizes=true`);return yield Tt(g)}catch{return[]}})}getAllTicketsPrizesByUser(t=10,e=0){return u(this,null,function*(){try{let r=this.apiSrv.get(`${this.apiGame}/ticket/all?limit=${t}&offset=${e}`);return yield Tt(r)}catch{return[]}})}getTicketPrizeByTicketId(t){return u(this,null,function*(){try{let e=this.apiSrv.get(`${this.apiGame}/ticket/${t}`);return yield Tt(e)}catch{return null}})}openGame(t){t.data.info.prizes.length&&this.router.navigate(["/main/","game-detail-"+t.code],{state:{game:t}})}};n.\u0275fac=function(e){return new(e||n)(nt.\u0275\u0275inject(E),nt.\u0275\u0275inject(Kt.Router))},n.\u0275prov=nt.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();import*as j from"@ionic/angular";import*as ut from"@ngx-translate/core";import*as Qt from"@angular/common";import*as Wt from"@zxing/ngx-scanner";function qe(i,n){i&1&&(l.\u0275\u0275elementStart(0,"article"),l.\u0275\u0275text(1,"Camera permission denied."),l.\u0275\u0275elementEnd())}function Ke(i,n){i&1&&l.\u0275\u0275element(0,"ion-spinner",6)}function Qe(i,n){if(i&1){let c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"zxing-scanner",5),l.\u0275\u0275listener("camerasFound",function(e){l.\u0275\u0275restoreView(c);let r=l.\u0275\u0275nextContext(3);return l.\u0275\u0275resetView(r.webCamerasFound(e))})("scanSuccess",function(e){l.\u0275\u0275restoreView(c);let r=l.\u0275\u0275nextContext(3);return l.\u0275\u0275resetView(r.webCodeResult(e))}),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(1,Ke,1,0,"ion-spinner",6)}if(i&2){let c=l.\u0275\u0275nextContext(3);l.\u0275\u0275property("formats",c.allowedFormats),l.\u0275\u0275advance(1),l.\u0275\u0275conditional(1,c.hasWebCamera?-1:1)}}function We(i,n){if(i&1&&(l.\u0275\u0275element(0,"ion-icon",4),l.\u0275\u0275template(1,Qe,2,2)),i&2){let c=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(1),l.\u0275\u0275conditional(1,c.showWebScan?1:-1)}}function Ye(i,n){if(i&1&&l.\u0275\u0275template(0,We,2,1),i&2){let c=l.\u0275\u0275nextContext();l.\u0275\u0275conditional(0,c.showTicket?-1:0)}}function Je(i,n){if(i&1&&l.\u0275\u0275element(0,"app-ticket-ln",8),i&2){let c=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("showActions",!1)("data",c.ticketData)}}function Ze(i,n){if(i&1){let c=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"section",7),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(c);let e=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(e.tapTicket(!1))}),l.\u0275\u0275template(1,Je,1,2,"app-ticket-ln",8),l.\u0275\u0275elementStart(2,"article",9)(3,"span"),l.\u0275\u0275text(4),l.\u0275\u0275pipe(5,"translate"),l.\u0275\u0275elementEnd()()()}if(i&2){let c=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275conditional(1,(c.ticketData==null||c.ticketData.game==null?null:c.ticketData.game.code)===c.gameCodes.LOTERIA_NACIONAL?1:-1),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(l.\u0275\u0275pipeBind1(5,2,"SCAN.MESSAGES.TAP_SCREEN_TO_SCAN"))}}var Xe=i=>({visibility:i}),Yt=(()=>{let n=class n{handleShellScannerResponse(t){return u(this,null,function*(){var e;yield this.onScannerResponse(((e=t.detail)==null?void 0:e.response)||{})})}handleShellScannerError(t){return u(this,null,function*(){var e;yield this.onScannerError(((e=t.detail)==null?void 0:e.response)||{})})}constructor(t,e,r,g,C,M,B,Et,be){this.cdr=t,this.ticketSrv=e,this.uuidSrv=r,this.userSrv=g,this.gameSrv=C,this.loadingCtrl=M,this.translateSrv=B,this.storageSrv=Et,this.alertController=be,this.gameCodes=O,this.hasShell=!1,this.responses=[],this.hasPermission=!0,this.ticketData=null,this.showTicket=!1,this.allowedFormats=[ht.QR_CODE,ht.EAN_13,ht.CODE_128,ht.DATA_MATRIX],this.showWebScan=!1,this.hasWebCamera=!1,this.backgroundColor=""}ngOnInit(){}ngAfterViewInit(){}ionViewDidEnter(){return u(this,null,function*(){this.setTicketVisibility(!1),this.showWebScan=!this.storageSrv.getItem(N.SHELL_VERSION),this.cdr.detectChanges(),document.body.style.backgroundColor="transparent",yield this.startScan()})}ionViewWillLeave(){this.setTicketVisibility(!1),document.body.style.backgroundColor=this.backgroundColor,this.stopScan()}startScan(t){return u(this,null,function*(){this.showWebScan=!this.storageSrv.getItem(N.SHELL_VERSION),this.hasPermission=!0,this.cdr.detectChanges(),window.dispatchEvent(new CustomEvent(T.SHELL_SCANNER_START))})}stopScan(t){this.showWebScan=!1,this.cdr.detectChanges(),window.dispatchEvent(new CustomEvent(T.SHELL_SCANNER_STOP))}permissionResponse(t){this.hasPermission=t||!1}setTicketVisibility(t){this.showTicket=t,this.showTicket?document.querySelector("ion-tabs").style.padding="0":document.querySelector("ion-tabs").style.padding="",this.cdr.detectChanges()}tapTicket(t){return u(this,null,function*(){this.setTicketVisibility(!1),yield this.startScan()})}webCodeResult(t){this.onScannerResponse({content:t})}webCamerasFound(t){console.log("cameras",t),t.length>0&&(this.hasWebCamera=!0)}onScannerResponse(t){return u(this,null,function*(){var e,r;if(this.checkUuidQRCode(t.content||"")){let g=t.content.toString().replace(G.UUID_QR_CODE,"");yield this.syncUuid(g),this.setTicketVisibility(!1),yield this.startScan()}else if(t&&!t.closed){this.showLoading();let g="";try{g=(yield this.ticketSrv.createNewTicket(t.content||""))._id||""}catch(C){g=((r=(e=C.error)==null?void 0:e.ticket)==null?void 0:r._id)||""}this.ticketData=yield this.gameSrv.getTicketPrizeByTicketId(g),this.dismissLoading(),this.setTicketVisibility(!0)}})}onScannerError(t){return u(this,null,function*(){this.hasPermission=!1})}checkUuidQRCode(t){return!!t.toString().includes(G.UUID_QR_CODE)}showLoading(){return u(this,null,function*(){(yield this.loadingCtrl.create({message:yield this.translateSrv.instant("SCAN.MESSAGES.CHECKING_TICKETS"),duration:5e3})).present()})}dismissLoading(){return u(this,null,function*(){yield this.loadingCtrl.dismiss()})}presentAlertConfirmSyncUuid(){return u(this,null,function*(){let t=yield this.alertController.create({header:this.translateSrv.instant("UUID.SYNC_DEVICE"),subHeader:this.translateSrv.instant("GLOBAL.CONFIG_ACTION"),message:this.translateSrv.instant("UUID.SYNC_DEVICE_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:w.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:w.ACCEPT,handler:()=>{}}]});yield t.present();let{role:e}=yield t.onDidDismiss();return e})}syncUuid(t){return u(this,null,function*(){(yield this.presentAlertConfirmSyncUuid())===w.ACCEPT&&(this.uuidSrv.updateAppUuid(t),yield this.userSrv.loginByUuid(t))})}};n.\u0275fac=function(e){return new(e||n)(l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(Q),l.\u0275\u0275directiveInject(U),l.\u0275\u0275directiveInject(k),l.\u0275\u0275directiveInject(V),l.\u0275\u0275directiveInject(j.LoadingController),l.\u0275\u0275directiveInject(ut.TranslateService),l.\u0275\u0275directiveInject(S),l.\u0275\u0275directiveInject(j.AlertController))},n.\u0275cmp=l.\u0275\u0275defineComponent({type:n,selectors:[["app-scan"]],hostBindings:function(e,r){e&1&&l.\u0275\u0275listener("shellScannerResponse",function(C){return r.handleShellScannerResponse(C)},!1,l.\u0275\u0275resolveWindow)("shellScannerError",function(C){return r.handleShellScannerError(C)},!1,l.\u0275\u0275resolveWindow)},standalone:!0,features:[l.\u0275\u0275StandaloneFeature],decls:26,vars:5,consts:[[1,"animated-background",3,"ngStyle"],[1,"scan"],[1,"scan-screen"],["class","ticket-background"],["name","add-outline",1,"scan-screen-pointer"],[1,"web-scanner",3,"formats","camerasFound","scanSuccess"],["name","dots"],[1,"ticket-background",3,"click"],[3,"showActions","data"],[1,"ticket-instructions"]],template:function(e,r){e&1&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275element(1,"span")(2,"span")(3,"span")(4,"span")(5,"span")(6,"span")(7,"span")(8,"span")(9,"span")(10,"span")(11,"span")(12,"span")(13,"span")(14,"span")(15,"span")(16,"span")(17,"span")(18,"span")(19,"span")(20,"span"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(21,"section",1)(22,"section",2),l.\u0275\u0275template(23,qe,2,0,"article")(24,Ye,1,1),l.\u0275\u0275elementEnd()(),l.\u0275\u0275template(25,Ze,6,4,"section",3)),e&2&&(l.\u0275\u0275property("ngStyle",l.\u0275\u0275pureFunction1(3,Xe,r.showTicket?"visible":"hidden")),l.\u0275\u0275advance(23),l.\u0275\u0275conditional(23,r.hasPermission?24:23),l.\u0275\u0275advance(2),l.\u0275\u0275conditional(25,r.showTicket?25:-1))},dependencies:[je,Qt.NgStyle,He,ze,j.IonIcon,j.IonSpinner,Fe,ut.TranslatePipe,lt,$e,Wt.ZXingScannerComponent],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .scan[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:calc(100vh - env(safe-area-inset-bottom,0));margin:0}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:calc(100% - env(safe-area-inset-bottom,0))}[_nghost-%COMP%]   .scan-screen-pointer[_ngcontent-%COMP%]{width:40px;color:#fff;height:40px;z-index:9}[_nghost-%COMP%]   .scan-screen[_ngcontent-%COMP%]   .web-scanner[_ngcontent-%COMP%]{position:fixed}[_nghost-%COMP%]   .ticket-background[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:absolute;width:100%;height:100vh;top:0;padding-top:80px}[_nghost-%COMP%]   .ticket-instructions[_ngcontent-%COMP%]{margin-top:40px;font-weight:700;color:#fff}ion-modal[_ngcontent-%COMP%]{--height: 200px;--border-radius: 8px;--box-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--background: transparent}ion-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: transparent}ion-modal[_ngcontent-%COMP%]   .ticket-ln[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}ion-modal[_ngcontent-%COMP%]   .ticket-ln-number[_ngcontent-%COMP%]{font-size:40px;font-weight:700;letter-spacing:17px;margin:20px 20px 20px 37px}ion-modal[_ngcontent-%COMP%]   .ticket-ln-prize[_ngcontent-%COMP%]{font-size:20px;font-weight:700}ion-modal[_ngcontent-%COMP%]::part(content){background-color:transparent;border:none;box-shadow:none}ion-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:0}@keyframes _ngcontent-%COMP%_move{to{transform:translateZ(1px) rotate(360deg)}}.animated-background[_ngcontent-%COMP%]{position:fixed;width:100vw;height:100vh;top:0;left:0;background:#3E1E68;overflow:hidden}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20vmin;height:20vmin;border-radius:20vmin;backface-visibility:hidden;position:absolute;animation:_ngcontent-%COMP%_move;animation-duration:45;animation-timing-function:linear;animation-iteration-count:infinite}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(0){color:#583c87;top:1%;left:25%;animation-duration:49s;animation-delay:-14s;transform-origin:-21vw -17vh;box-shadow:-40vmin 0 5.6508571128vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){color:#583c87;top:92%;left:7%;animation-duration:51s;animation-delay:-32s;transform-origin:22vw -3vh;box-shadow:-40vmin 0 5.8332436514vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){color:#e45a84;top:76%;left:65%;animation-duration:8s;animation-delay:-14s;transform-origin:-14vw -19vh;box-shadow:-40vmin 0 5.1087852604vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){color:#583c87;top:20%;left:55%;animation-duration:9s;animation-delay:-39s;transform-origin:12vw 5vh;box-shadow:40vmin 0 5.3298054904vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){color:#e45a84;top:26%;left:79%;animation-duration:54s;animation-delay:-14s;transform-origin:-6vw -2vh;box-shadow:-40vmin 0 5.3879032859vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){color:#583c87;top:47%;left:93%;animation-duration:7s;animation-delay:-17s;transform-origin:13vw -5vh;box-shadow:-40vmin 0 5.2369732429vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){color:#583c87;top:97%;left:46%;animation-duration:20s;animation-delay:-3s;transform-origin:6vw -16vh;box-shadow:40vmin 0 5.8166757212vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){color:#583c87;top:54%;left:52%;animation-duration:6s;animation-delay:-47s;transform-origin:23vw 16vh;box-shadow:-40vmin 0 5.4546477701vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){color:#e45a84;top:64%;left:61%;animation-duration:23s;animation-delay:-7s;transform-origin:17vw 3vh;box-shadow:-40vmin 0 5.6193809352vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){color:#ffacac;top:96%;left:17%;animation-duration:33s;animation-delay:-44s;transform-origin:20vw 11vh;box-shadow:40vmin 0 5.881491465vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){color:#e45a84;top:8%;left:18%;animation-duration:20s;animation-delay:-29s;transform-origin:18vw 2vh;box-shadow:-40vmin 0 5.9279891447vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){color:#583c87;top:48%;left:95%;animation-duration:51s;animation-delay:-34s;transform-origin:-21vw 24vh;box-shadow:40vmin 0 5.564150385vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){color:#e45a84;top:86%;left:74%;animation-duration:54s;animation-delay:-2s;transform-origin:-1vw 6vh;box-shadow:40vmin 0 5.3909289617vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(13){color:#583c87;top:6%;left:46%;animation-duration:19s;animation-delay:-31s;transform-origin:13vw 15vh;box-shadow:-40vmin 0 5.5802349616vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(14){color:#e45a84;top:45%;left:32%;animation-duration:17s;animation-delay:-41s;transform-origin:7vw 13vh;box-shadow:40vmin 0 5.2147795462vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(15){color:#e45a84;top:6%;left:76%;animation-duration:13s;animation-delay:-34s;transform-origin:-6vw -15vh;box-shadow:-40vmin 0 5.684363269vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(16){color:#ffacac;top:99%;left:41%;animation-duration:28s;animation-delay:-41s;transform-origin:-15vw -9vh;box-shadow:40vmin 0 5.6490626298vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(17){color:#583c87;top:53%;left:87%;animation-duration:38s;animation-delay:-1s;transform-origin:-9vw 5vh;box-shadow:-40vmin 0 5.7487953568vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(18){color:#583c87;top:93%;left:87%;animation-duration:29s;animation-delay:-46s;transform-origin:-8vw 23vh;box-shadow:-40vmin 0 5.2337571763vmin currentColor}.animated-background[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(19){color:#ffacac;top:1%;left:67%;animation-duration:38s;animation-delay:-44s;transform-origin:-15vw -14vh;box-shadow:-40vmin 0 5.7801397915vmin currentColor}"],changeDetection:0});let i=n;return i})();import{CommonModule as pi}from"@angular/common";import"@angular/core";import{RouterModule as hi}from"@angular/router";import{IonicModule as ui}from"@ionic/angular";import{TranslateModule as gi}from"@ngx-translate/core";import{CommonModule as ei}from"@angular/common";import"@angular/core";import"@angular/core";import{FormsModule as ii}from"@angular/forms";import{IonicModule as ni}from"@ionic/angular";import{TranslateLoader as oi,TranslateModule as Zt}from"@ngx-translate/core";import"@angular/core";import{catchError as ti}from"rxjs/operators";import*as gt from"@angular/core";import*as Jt from"@angular/common/http";var ft=(()=>{let n=class n{constructor(t){this.httpClient=t}getTranslation(t){let e=v.web.host+`/assets/i18n/${t}.json`;return this.httpClient.get(e).pipe(ti(r=>(console.log("Error loading translation file",r),this.httpClient.get(v.web.host+"/assets/i18n/es.json"))))}};n.\u0275fac=function(e){return new(e||n)(gt.\u0275\u0275inject(Jt.HttpClient))},n.\u0275prov=gt.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac});let i=n;return i})();import{HttpClient as ri}from"@angular/common/http";import*as o from"@angular/core";import*as Ct from"@ngx-translate/core";import*as y from"@ionic/angular";function ai(i,n){if(i&1){let c=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",2)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"p"),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"ion-list",3)(8,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(e.changeLanguage("en"))}),o.\u0275\u0275element(9,"span",5),o.\u0275\u0275elementStart(10,"ion-label"),o.\u0275\u0275text(11),o.\u0275\u0275pipe(12,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(13,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(e.changeLanguage("es"))}),o.\u0275\u0275element(14,"span",6),o.\u0275\u0275elementStart(15,"ion-label"),o.\u0275\u0275text(16),o.\u0275\u0275pipe(17,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(18,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(e.changeLanguage("ca"))}),o.\u0275\u0275element(19,"span",7),o.\u0275\u0275elementStart(20,"ion-label"),o.\u0275\u0275text(21),o.\u0275\u0275pipe(22,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(23,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(e.changeLanguage("gl"))}),o.\u0275\u0275element(24,"span",8),o.\u0275\u0275elementStart(25,"ion-label"),o.\u0275\u0275text(26),o.\u0275\u0275pipe(27,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(28,"ion-item",4),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(e.changeLanguage("eu"))}),o.\u0275\u0275element(29,"span",9),o.\u0275\u0275elementStart(30,"ion-label"),o.\u0275\u0275text(31),o.\u0275\u0275pipe(32,"translate"),o.\u0275\u0275elementEnd()()()()}i&2&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,7,"ONBOARDING.LANGUAGE.TITLE")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(6,9,"ONBOARDING.LANGUAGE.DESCRIPTION")),o.\u0275\u0275advance(6),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(12,11,"GLOBAL.ENGLISH")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(17,13,"GLOBAL.SPANISH")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(22,15,"GLOBAL.CATALAN")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(27,17,"GLOBAL.GALICIAN")),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(32,19,"GLOBAL.BASQUE")))}function si(i,n){if(i&1){let c=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ion-button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(e.requestNotificationPermission())}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}i&2&&(o.\u0275\u0275property("strong",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,2,"GLOBAL.CONTINUE")))}function ci(i,n){if(i&1){let c=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"ion-button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(e.requestNotificationPermission())}),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()}i&2&&(o.\u0275\u0275property("strong",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(2,2,"GLOBAL.REQUEST_PERMISSION")))}function li(i,n){if(i&1){let c=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"p")(1,"ion-text",14),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(4,"ion-button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(e.requestNotificationPermission())}),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd()}i&2&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,3,"ONBOARDING.NOTIFICATIONS_PERMISSION.DENIED")),o.\u0275\u0275advance(2),o.\u0275\u0275property("strong",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(6,5,"GLOBAL.CONTINUE")))}function mi(i,n){if(i&1&&(o.\u0275\u0275elementStart(0,"section",10)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"ion-icon",11),o.\u0275\u0275elementStart(5,"p"),o.\u0275\u0275text(6),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(8,si,3,4,"ion-button",12)(9,ci,3,4)(10,li,7,7),o.\u0275\u0275elementEnd()),i&2){let c=o.\u0275\u0275nextContext();o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,3,"ONBOARDING.NOTIFICATIONS_PERMISSION.TITLE")),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(7,5,"ONBOARDING.NOTIFICATIONS_PERMISSION.DESCRIPTION")),o.\u0275\u0275advance(2),o.\u0275\u0275conditional(8,c.notificationPermission==="granted"?8:c.notificationPermission==="prompt"?9:10)}}function di(i,n){if(i&1){let c=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"section",15)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(4,"ion-icon",16),o.\u0275\u0275elementStart(5,"p"),o.\u0275\u0275text(6),o.\u0275\u0275pipe(7,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"ion-button",13),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(c);let e=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(e.requestCameraPermission())}),o.\u0275\u0275text(9),o.\u0275\u0275pipe(10,"translate"),o.\u0275\u0275elementEnd()()}i&2&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,4,"ONBOARDING.CAMERA_PERMISSION.TITLE")),o.\u0275\u0275advance(4),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(7,6,"ONBOARDING.CAMERA_PERMISSION.DESCRIPTION")),o.\u0275\u0275advance(2),o.\u0275\u0275property("strong",!0),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(10,8,"GLOBAL.CONTINUE")))}var _t=(()=>{let n=class n{handleShellPushRequestPermissionResponse(t){return u(this,null,function*(){var e;yield this.onPushRequestPermissionResponse(((e=t.detail)==null?void 0:e.response)||{})})}handleShellPushRegisterResponse(t){return u(this,null,function*(){var e;yield this.onPushRegisterResponse(((e=t.detail)==null?void 0:e.response)||{})})}handleShellScannerRequestPermissionResponse(t){return u(this,null,function*(){var e;yield this.onScannerRequestPermissionResponse(((e=t.detail)==null?void 0:e.response)||{})})}constructor(t,e,r,g,C){this.cdr=t,this.storageSrv=e,this.coreSrv=r,this.translateSrv=g,this.modalCtrl=C,this.name="",this.step=0,this.currentLanguage=P.EN,this.hasShell=!1,this.notificationPermission="",this.environment=v,this.translateSrv.setDefaultLang(this.storageSrv.getItem("language")||"en"),this.translateSrv.use(this.storageSrv.getItem("language")||"en")}ngOnInit(){}ngAfterViewInit(){this.hasShell=this.coreSrv.hasShell(),window.dispatchEvent(new CustomEvent(T.SHELL_PUSH_REQUEST_PERMISSION)),this.cdr.detectChanges()}increaseStep(){this.step++}changeLanguage(t){this.storageSrv.setItem(_.LANGUAGE,t),this.translateSrv.use(t),this.increaseStep(),this.cdr.detectChanges(),this.hasShell||this.closeModal()}requestNotificationPermission(){window.dispatchEvent(new CustomEvent(T.SHELL_PUSH_REGISTER))}requestCameraPermission(){window.dispatchEvent(new CustomEvent(T.SHELL_SCANNER_REQUEST_PERMISSION))}onPushRequestPermissionResponse(t){this.notificationPermission=t.receive,this.cdr.detectChanges()}onPushRegisterResponse(t){this.increaseStep()}onScannerRequestPermissionResponse(t){return u(this,null,function*(){yield this.closeModal()})}closeModal(){return u(this,null,function*(){return this.storageSrv.setItem(_.ONBOARDING,"true"),this.modalCtrl.dismiss(this.name,"confirm")})}};n.\u0275fac=function(e){return new(e||n)(o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(S),o.\u0275\u0275directiveInject(pt),o.\u0275\u0275directiveInject(Ct.TranslateService),o.\u0275\u0275directiveInject(y.ModalController))},n.\u0275cmp=o.\u0275\u0275defineComponent({type:n,selectors:[["app-onboarding"]],hostBindings:function(e,r){e&1&&o.\u0275\u0275listener("shellPushRequestPermissionResponse",function(C){return r.handleShellPushRequestPermissionResponse(C)},!1,o.\u0275\u0275resolveWindow)("shellPushRegisterResponse",function(C){return r.handleShellPushRegisterResponse(C)},!1,o.\u0275\u0275resolveWindow)("shellScannerRequestPermissionResponse",function(C){return r.handleShellScannerRequestPermissionResponse(C)},!1,o.\u0275\u0275resolveWindow)},standalone:!0,features:[o.\u0275\u0275ProvidersFeature([Zt.forRoot({loader:{provide:oi,useClass:ft,deps:[ri]}}).providers]),o.\u0275\u0275StandaloneFeature],decls:4,vars:1,consts:[[1,"ion-padding"],["class","page choose-language"],[1,"page","choose-language"],[1,"language-list"],["button","",3,"click"],[1,"flag","fi","fi-gb"],[1,"flag","fi","fi-es"],[1,"flag","fi","fi-es-ct"],[1,"flag","fi","fi-es-ga"],[1,"flag","fi","fi-es-pv"],[1,"page","notification-permission"],["name","notifications-outline",1,"notifications-permission-img"],[3,"strong"],[3,"strong","click"],["color","danger"],[1,"page","camera-permission"],["name","barcode-outline",1,"camera-permission-img"]],template:function(e,r){e&1&&(o.\u0275\u0275elementStart(0,"ion-content",0),o.\u0275\u0275template(1,ai,33,21,"section",1)(2,mi,11,7)(3,di,11,10),o.\u0275\u0275elementEnd()),e&2&&(o.\u0275\u0275advance(1),o.\u0275\u0275conditional(1,r.step===0?1:r.step===1&&r.hasShell?2:r.step===2&&r.hasShell?3:-1))},dependencies:[ei,ni,y.IonButton,y.IonContent,y.IonIcon,y.IonItem,y.IonLabel,y.IonList,y.IonText,Zt,Ct.TranslatePipe,ii],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;padding-top:40px}[_nghost-%COMP%]   .choose-language[_ngcontent-%COMP%]   .language-list[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .choose-language[_ngcontent-%COMP%]   .language-list[_ngcontent-%COMP%]   .flag[_ngcontent-%COMP%]{margin-right:10px}[_nghost-%COMP%]   .notifications-permission-img[_ngcontent-%COMP%]{width:200px;height:200px}[_nghost-%COMP%]   .camera-permission-img[_ngcontent-%COMP%]{width:200px;height:200px}"],changeDetection:0});let i=n;return i})();import*as f from"@angular/core";import*as Xt from"@angular/router";import*as vt from"@ngx-translate/core";import*as A from"@ionic/angular";var fi=["mainTabs"],te=(()=>{let n=class n{constructor(t,e,r,g){this.router=t,this.storageSrv=e,this.translateSrv=r,this.modalController=g,this.hasOnboarding=!1}ngOnInit(){}ngAfterViewInit(){return u(this,null,function*(){this.hasOnboarding=this.storageSrv.getItem(_.ONBOARDING),this.hasOnboarding?setTimeout(()=>{this.mainTabs.select("games")},500):(yield this.openOnboardingModal(),this.mainTabs.select("games"))})}openOnboardingModal(){return u(this,null,function*(){let t=yield this.modalController.create({component:_t});t.present(),yield t.onWillDismiss();let e=this.storageSrv.getItem(_.LANGUAGE)||P.EN;this.translateSrv.use(e),this.storageSrv.setItem(_.ONBOARDING,!0)})}};n.\u0275fac=function(e){return new(e||n)(f.\u0275\u0275directiveInject(Xt.Router),f.\u0275\u0275directiveInject(S),f.\u0275\u0275directiveInject(vt.TranslateService),f.\u0275\u0275directiveInject(A.ModalController))},n.\u0275cmp=f.\u0275\u0275defineComponent({type:n,selectors:[["app-main"]],viewQuery:function(e,r){if(e&1&&f.\u0275\u0275viewQuery(fi,5),e&2){let g;f.\u0275\u0275queryRefresh(g=f.\u0275\u0275loadQuery())&&(r.mainTabs=g.first)}},standalone:!0,features:[f.\u0275\u0275StandaloneFeature],decls:23,vars:12,consts:[["mainTabs",""],["slot","bottom"],["tab","games"],["name","grid-outline"],["tab","scan"],["name","scan-outline"],["tab","tickets"],["name","wallet-outline"],["tab","menu"],["name","cog-outline"]],template:function(e,r){e&1&&(f.\u0275\u0275elementStart(0,"ion-tabs",null,0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),f.\u0275\u0275element(4,"ion-icon",3),f.\u0275\u0275elementStart(5,"span"),f.\u0275\u0275text(6),f.\u0275\u0275pipe(7,"translate"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(8,"ion-tab-button",4),f.\u0275\u0275element(9,"ion-icon",5),f.\u0275\u0275elementStart(10,"span"),f.\u0275\u0275text(11),f.\u0275\u0275pipe(12,"translate"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(13,"ion-tab-button",6),f.\u0275\u0275element(14,"ion-icon",7),f.\u0275\u0275elementStart(15,"span"),f.\u0275\u0275text(16),f.\u0275\u0275pipe(17,"translate"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(18,"ion-tab-button",8),f.\u0275\u0275element(19,"ion-icon",9),f.\u0275\u0275elementStart(20,"span"),f.\u0275\u0275text(21),f.\u0275\u0275pipe(22,"translate"),f.\u0275\u0275elementEnd()()()()),e&2&&(f.\u0275\u0275advance(6),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(7,4,"MAIN.TABS.GAMES")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(12,6,"MAIN.TABS.SCAN_NOW")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(17,8,"MAIN.TABS.TICKETS")),f.\u0275\u0275advance(5),f.\u0275\u0275textInterpolate(f.\u0275\u0275pipeBind1(22,10,"MAIN.TABS.SETTINGS")))},dependencies:[pi,hi,ui,A.IonIcon,A.IonTabBar,A.IonTabButton,A.IonTabs,gi,vt.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}ion-tabs[_ngcontent-%COMP%]{padding:env(safe-area-inset-top,0) env(safe-area-inset-right,0) 0 env(safe-area-inset-left,0)}ion-tabs[_ngcontent-%COMP%]   ion-tab-bar[_ngcontent-%COMP%]{padding-bottom:env(safe-area-inset-bottom,0)}"],changeDetection:0});let i=n;return i})();import{CommonModule as Ci}from"@angular/common";import{HttpClient as _i,HttpClientModule as vi}from"@angular/common/http";import"@angular/core";import{NavigationEnd as Si,RouterModule as xi}from"@angular/router";import{filter as yi}from"rxjs";import{IonicModule as bi}from"@ionic/angular";import{TranslateLoader as Ii,TranslateModule as Oi}from"@ngx-translate/core";import"@angular/core";import{lastValueFrom as St}from"rxjs";import*as W from"@angular/core";var Y=(()=>{let n=class n{constructor(t,e,r){this.apiSrv=t,this.storageSrv=e,this.userSrv=r,this.apiPush=`${v.api.host}/push`}ngOnDestroy(){var t;(t=this.userSubscription)==null||t.unsubscribe()}init(){this.userSubscription||(this.userSubscription=this.userSrv.getUserSubject().subscribe(t=>u(this,null,function*(){if(t._id){let e=yield this.getPushDataByToken();(e==null?void 0:e.user)!==t._id&&(yield this.unregisterToken()),yield this.registerToken(t)}})))}getToken(){return this.storageSrv.getItem(N.SHELL_PUSH_TOKEN)||""}registerToken(t){return u(this,null,function*(){if(t._id&&this.getToken()){let e=yield this.getPushDataByToken();if((e==null?void 0:e.user)===t._id)console.info(L.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has already been registered.`);else{let r={token:this.getToken(),user:t._id};try{let g=this.apiSrv.post(this.apiPush,r),C=yield St(g);this.storageSrv.setItem(N.SHELL_PUSH_TOKEN,C.token),console.info(L.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has been registered.`)}catch(g){console.error(g)}}}})}getPushDataByToken(){return u(this,null,function*(){try{let t=this.apiSrv.get(`${this.apiPush}/${this.getToken()}`);return yield St(t)}catch{return null}})}deletePushById(t){return u(this,null,function*(){try{let e=yield this.apiSrv.delete(`${this.apiPush}/${t}`);return yield St(e)}catch(e){throw e}})}deletePushByToken(t){return u(this,null,function*(){try{let e=yield this.apiSrv.delete(`${this.apiPush}/token/${t}`);return yield St(e)}catch(e){throw e}})}unregisterToken(){return u(this,null,function*(){if(this.getToken())try{let t=yield this.getPushDataByToken();t&&(yield this.deletePushByToken(t.token),console.info(L.SYSTEM,`PUSH-TOKEN: ${this.getToken()} has been unregistered.`))}catch(t){console.error(t)}})}};n.\u0275fac=function(e){return new(e||n)(W.\u0275\u0275inject(E),W.\u0275\u0275inject(S),W.\u0275\u0275inject(k))},n.\u0275prov=W.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();import*as I from"@angular/core";import*as ie from"@ngx-translate/core";import*as xt from"@angular/router";var ne=(()=>{let n=class n{constructor(t,e,r,g,C,M){this.translateSrv=t,this.uuidSrv=e,this.userSrv=r,this.storageSrv=g,this.router=C,this.pushSrv=M,this.translateSrv.setDefaultLang("en"),this.translateSrv.use("en")}ngOnInit(){return u(this,null,function*(){this.setNoErrorLoadingRemote(),this.importStyles(),this.importScripts(),this.pushSrv.init(),yield this.uuidSrv.init(),this.initRouterEventsSubscription(),this.loadLanguage()})}initRouterEventsSubscription(){this.router.events.pipe(yi(t=>t instanceof Si)).subscribe(t=>u(this,null,function*(){yield this.handleNavigationEnd()}))}handleNavigationEnd(){return u(this,null,function*(){let t=this.uuidSrv.getUuid();t?this.userSrv.checkTokenExpiration(t):(this.pushSrv.init(),yield this.uuidSrv.init())})}loadLanguage(){let t=this.storageSrv.getItem(_.LANGUAGE)||P.EN;this.translateSrv.use(t)}setNoErrorLoadingRemote(){this.storageSrv.setItem(kt.SHELL_LOADING_REMOTE_OK,"true")}importScripts(){let t=["https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js","https://cdn.jsdelivr.net/npm/ionicons/dist/ionicons/ionicons.esm.js"],e=document.head;t.forEach(r=>{let g=document.createElement("script");g.type="module",g.src=r,g.async=!1,document.head.appendChild(g),e.insertBefore(g,e.firstElementChild)})}importStyles(){let t=["https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css","https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.0/css/flag-icons.min.css"],e=document.head;t.forEach(r=>{let g=document.createElement("link");g.rel="stylesheet",g.href=r,e.insertBefore(g,e.firstElementChild)})}};n.\u0275fac=function(e){return new(e||n)(I.\u0275\u0275directiveInject(ie.TranslateService),I.\u0275\u0275directiveInject(U),I.\u0275\u0275directiveInject(k),I.\u0275\u0275directiveInject(S),I.\u0275\u0275directiveInject(xt.Router),I.\u0275\u0275directiveInject(Y))},n.\u0275cmp=I.\u0275\u0275defineComponent({type:n,selectors:[["app-remote-app"]],standalone:!0,features:[I.\u0275\u0275ProvidersFeature([E,U,Y,k,Q,V,Oi.forRoot({loader:{provide:Ii,useClass:ft,deps:[_i]}}).providers]),I.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(e,r){e&1&&I.\u0275\u0275element(0,"router-outlet")},dependencies:[Ci,xi,xt.RouterOutlet,bi,vi],styles:[`:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}:host{display:block}body{background:var(--color-background)}
`],encapsulation:2,changeDetection:0});let i=n;return i})();import{CommonModule as Mi}from"@angular/common";import"@angular/core";import{RouterModule as Ti}from"@angular/router";import{IonicModule as Li}from"@ionic/angular";import{CommonModule as ha}from"@angular/common";import"@angular/core";import{IonicModule as va}from"@ionic/angular";import*as $ from"@angular/core";import*as wi from"@angular/router";import*as Pi from"@ngx-translate/core";import*as Dt from"@ionic/angular";import{TranslateModule as Di}from"@ngx-translate/core";import{CommonModule as Ei}from"@angular/common";import"@angular/core";import{IonicModule as ki}from"@ionic/angular";import*as R from"@angular/core";import*as oe from"@ionic/angular";var yt=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=R.\u0275\u0275defineComponent({type:n,selectors:[["app-loading"]],standalone:!0,features:[R.\u0275\u0275StandaloneFeature],decls:2,vars:0,consts:[[1,"loading-content"],["name","circular"]],template:function(e,r){e&1&&(R.\u0275\u0275elementStart(0,"section",0),R.\u0275\u0275element(1,"ion-spinner",1),R.\u0275\u0275elementEnd())},dependencies:[Ei,ki,oe.IonSpinner],styles:["[_nghost-%COMP%]{display:block}.loading-content[_ngcontent-%COMP%]{position:fixed;top:0;z-index:9;width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background-color:#00000040}"],changeDetection:0});let i=n;return i})();import*as p from"@angular/core";import*as H from"@ionic/angular";import*as ae from"@ngx-translate/core";var Ai=(i,n)=>n.ticket._id;function Ri(i,n){if(i&1){let c=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"app-ticket-ln",7),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(c);let e=p.\u0275\u0275nextContext().$implicit,r=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(r.openGame(e.game))})("deleteTicketEvent",function(e){p.\u0275\u0275restoreView(c);let r=p.\u0275\u0275nextContext(3);return p.\u0275\u0275resetView(r.deleteTicketById(e))}),p.\u0275\u0275elementEnd()}if(i&2){let c=p.\u0275\u0275nextContext().$implicit;p.\u0275\u0275property("data",c)}}function Ni(i,n){if(i&1&&(p.\u0275\u0275elementStart(0,"span",5),p.\u0275\u0275template(1,Ri,1,1,"app-ticket-ln",6),p.\u0275\u0275elementEnd()),i&2){let c=n.$implicit,t=p.\u0275\u0275nextContext(2);p.\u0275\u0275advance(1),p.\u0275\u0275conditional(1,c.ticket.code===t.gamesCodes.LOTERIA_NACIONAL?1:-1)}}function Gi(i,n){if(i&1){let c=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"span",8),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(c);let e=p.\u0275\u0275nextContext(2);return p.\u0275\u0275resetView(e.loadMore())}),p.\u0275\u0275elementStart(1,"section",9)(2,"span",10),p.\u0275\u0275text(3),p.\u0275\u0275pipe(4,"translate"),p.\u0275\u0275elementEnd()()()}i&2&&(p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(4,1,"GLOBAL.LOAD_MORE")))}function Bi(i,n){if(i&1&&(p.\u0275\u0275elementStart(0,"section",3),p.\u0275\u0275repeaterCreate(1,Ni,2,1,"span",4,Ai),p.\u0275\u0275template(3,Gi,5,3,"span",4),p.\u0275\u0275elementEnd()),i&2){let c=p.\u0275\u0275nextContext();p.\u0275\u0275advance(1),p.\u0275\u0275repeater(c.tickets),p.\u0275\u0275advance(2),p.\u0275\u0275conditional(3,c.showLoadMore?3:-1)}}function Ui(i,n){i&1&&(p.\u0275\u0275elementStart(0,"section",11),p.\u0275\u0275element(1,"ion-icon",12),p.\u0275\u0275elementStart(2,"span",13),p.\u0275\u0275text(3),p.\u0275\u0275pipe(4,"translate"),p.\u0275\u0275elementEnd()()),i&2&&(p.\u0275\u0275advance(3),p.\u0275\u0275textInterpolate(p.\u0275\u0275pipeBind1(4,1,"TICKETS.EMPTY_TICKET_LIST")))}function Vi(i,n){i&1&&p.\u0275\u0275element(0,"app-loading")}var ji=5,re=5,se=(()=>{let n=class n{constructor(t,e){this.cdr=t,this.gameSrv=e,this.tickets=[],this.environment=v,this.loadingCount=0,this.gamesCodes=O,this.showLoadMore=!0,this.limit=re,this.offset=0}ionViewDidEnter(){return u(this,null,function*(){this.limit=re,this.tickets.length||(yield this.getUserTickets()),this.sortTicketsByDate()})}handleRefresh(t){return u(this,null,function*(){this.offset=0,yield this.getUserTickets(),t.target.complete()})}sortTicketsByDate(){this.tickets.sort((t,e)=>{let r=new Date(t.ticket.date);return new Date(e.ticket.date).getTime()-r.getTime()}),this.cdr.detectChanges()}deleteTicketById(t){return u(this,null,function*(){t&&(yield this.getUserTickets(!0))})}openGame(t){this.gameSrv.openGame(t)}loadMore(){return u(this,null,function*(){this.offset+=ji,yield this.getUserTickets()})}getUserTickets(t=!1){return u(this,null,function*(){this.showLoading(),this.showLoadMore=!0;try{let e=yield this.gameSrv.getAllTicketsPrizesByUser(this.limit,this.offset);t||this.offset===0?this.tickets=e:this.tickets=this.tickets.concat(e),e.length<this.limit&&(this.showLoadMore=!1),this.requestHideLoading(),this.cdr.detectChanges()}catch{this.dismissLoading()}})}showLoading(){return u(this,null,function*(){let t=this.loadingCount;this.loadingCount++,t===0&&this.cdr.detectChanges()})}requestHideLoading(){return u(this,null,function*(){this.loadingCount--,this.loadingCount<=0&&this.dismissLoading()})}dismissLoading(){return u(this,null,function*(){this.loadingCount=0,this.cdr.detectChanges()})}};n.\u0275fac=function(e){return new(e||n)(p.\u0275\u0275directiveInject(p.ChangeDetectorRef),p.\u0275\u0275directiveInject(V))},n.\u0275cmp=p.\u0275\u0275defineComponent({type:n,selectors:[["app-tickets"]],standalone:!0,features:[p.\u0275\u0275StandaloneFeature],decls:6,vars:2,consts:[["padding","","color","light"],["slot","fixed",3,"ionRefresh"],["class","main-container"],[1,"main-container"],["class","main-container-element"],[1,"main-container-element"],[3,"data"],[3,"data","click","deleteTicketEvent"],[1,"main-container-element",3,"click"],[1,"main-container-element-load-more"],[1,"main-container-element-load-more-text"],[1,"empty-content"],["name","scan-circle-outline",1,"empty-content-icon"],[1,"empty-content-message"]],template:function(e,r){e&1&&(p.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-refresher",1),p.\u0275\u0275listener("ionRefresh",function(C){return r.handleRefresh(C)}),p.\u0275\u0275element(2,"ion-refresher-content"),p.\u0275\u0275elementEnd(),p.\u0275\u0275template(3,Bi,4,1,"section",2)(4,Ui,5,3)(5,Vi,1,0,"app-loading"),p.\u0275\u0275elementEnd()),e&2&&(p.\u0275\u0275advance(3),p.\u0275\u0275conditional(3,r.tickets.length?3:4),p.\u0275\u0275advance(2),p.\u0275\u0275conditional(5,r.loadingCount>0?5:-1))},dependencies:[Mi,Ti,Li,H.IonContent,H.IonIcon,H.IonRefresher,H.IonRefresherContent,Di,ae.TranslatePipe,lt,yt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-bottom:150px}[_nghost-%COMP%]   .main-container-element[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .main-container-element-load-more[_ngcontent-%COMP%]{justify-content:center;width:100%;max-width:290px;height:40px;background-color:transparent;border:solid thin var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;margin:5px;border-radius:7px;box-shadow:var(--box-shadow);padding:15px}[_nghost-%COMP%]   .main-container-element-load-more-text[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}[_nghost-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}[_nghost-%COMP%]   .empty-content-icon[_ngcontent-%COMP%]{width:120px;height:120px;color:gray}[_nghost-%COMP%]   .empty-content-message[_ngcontent-%COMP%]{color:gray;margin:20px}"],changeDetection:0});let i=n;return i})();import{CommonModule as Hi}from"@angular/common";import"@angular/core";import{IonicModule as zi}from"@ionic/angular";import{QrCodeModule as Fi}from"ng-qrcode";import{RouterModule as $i}from"@angular/router";import{TranslateModule as qi}from"@ngx-translate/core";import*as a from"@angular/core";import*as bt from"@ngx-translate/core";import*as x from"@ionic/angular";import*as ce from"@angular/common";import*as le from"ng-qrcode";function Ki(i,n){if(i&1&&a.\u0275\u0275element(0,"qr-code",12),i&2){let c=a.\u0275\u0275nextContext();a.\u0275\u0275property("value",c.qrUuid)}}function Qi(i,n){if(i&1&&(a.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"p"),a.\u0275\u0275text(6),a.\u0275\u0275elementEnd()()()),i&2){let c=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(4,2,"GLOBAL.ID")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(c.uuid)}}function Wi(i,n){if(i&1&&(a.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"p"),a.\u0275\u0275text(6),a.\u0275\u0275elementEnd()()()),i&2){let c=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(4,2,"GLOBAL.PUSH_TOKEN")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(c.pushToken)}}function Yi(i,n){if(i&1&&(a.\u0275\u0275elementStart(0,"ion-item")(1,"ion-label")(2,"h3"),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"p"),a.\u0275\u0275text(6),a.\u0275\u0275elementEnd()()()),i&2){let c=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(4,2,"GLOBAL.USER_ID")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(c.user._id)}}function Ji(i,n){if(i&1){let c=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"ion-item",10),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(c);let e=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(e.deSyncDevice())}),a.\u0275\u0275elementStart(1,"ion-label",13),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd()()}i&2&&(a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,1,"UUID.DESYNC_DEVICE")))}var me=(()=>{let n=class n{constructor(t,e,r,g,C,M,B,Et){this.cdr=t,this.uuidSrv=e,this.pushSrv=r,this.storageSrv=g,this.userSrv=C,this.translateSrv=M,this.alertController=B,this.modalController=Et,this.qrUuid="",this.languages=P,this.currentLanguage=P.EN,this.isSynced=!1,this.uuid="",this.pushToken="",this.user={}}ionViewDidEnter(){this.initLogic()}changeLanguage(t){this.storageSrv.setItem(_.LANGUAGE,t),this.translateSrv.use(t),this.cdr.detectChanges()}deSyncDevice(){return u(this,null,function*(){(yield this.presentAlertConfirmDeSyncUuid())===w.ACCEPT&&(this.storageSrv.removeItem(_.APP_UUID),this.storageSrv.removeItem(_.APP_SYNC_MARK),this.isSynced=!1,this.pushSrv.init(),yield this.uuidSrv.init(),setTimeout(()=>{this.initLogic()},400),this.cdr.detectChanges())})}initLogic(){this.qrUuid=G.UUID_QR_CODE+this.uuidSrv.getUuid(),this.isSynced=!!this.storageSrv.getItem(_.APP_SYNC_MARK),this.currentLanguage=this.storageSrv.getItem(_.LANGUAGE)||P.EN,this.uuid=this.uuidSrv.getUuid(),this.pushToken=this.pushSrv.getToken(),this.user=this.userSrv.getUser(),this.cdr.detectChanges()}launchOnboarding(){return u(this,null,function*(){let t=yield this.modalController.create({component:_t});t.present(),yield t.onWillDismiss(),this.pushSrv.init(),yield this.uuidSrv.init();let e=this.storageSrv.getItem(_.LANGUAGE)||P.EN;this.translateSrv.use(e),this.currentLanguage=this.storageSrv.getItem(_.LANGUAGE)||P.EN,this.storageSrv.setItem(_.ONBOARDING,!0)})}presentAlertConfirmDeSyncUuid(){return u(this,null,function*(){let t=yield this.alertController.create({header:this.translateSrv.instant("UUID.DESYNC_DEVICE"),subHeader:this.translateSrv.instant("GLOBAL.IRREVERSIBLE_ACTION"),message:this.translateSrv.instant("UUID.DESYNC_DEVICE_QUESTION"),buttons:[{text:this.translateSrv.instant("GLOBAL.CANCEL"),role:w.CANCEL,handler:()=>{}},{text:this.translateSrv.instant("GLOBAL.ACCEPT"),role:w.ACCEPT,handler:()=>{}}]});yield t.present();let{role:e}=yield t.onDidDismiss();return e})}};n.\u0275fac=function(e){return new(e||n)(a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(U),a.\u0275\u0275directiveInject(Y),a.\u0275\u0275directiveInject(S),a.\u0275\u0275directiveInject(k),a.\u0275\u0275directiveInject(bt.TranslateService),a.\u0275\u0275directiveInject(x.AlertController),a.\u0275\u0275directiveInject(x.ModalController))},n.\u0275cmp=a.\u0275\u0275defineComponent({type:n,selectors:[["app-menu"]],standalone:!0,features:[a.\u0275\u0275StandaloneFeature],decls:31,vars:29,consts:[["padding","","color","light"],[1,"menu-list",3,"inset"],[1,"menu-list-qr"],["size","200","errorCorrectionLevel","M",3,"value",4,"ngIf"],["interface","action-sheet",3,"label","value","ionChange"],["value","en"],["value","es"],["value","ca"],["value","gl"],["value","eu"],["button","",3,"click"],["button",""],["size","200","errorCorrectionLevel","M",3,"value"],["color","danger"]],template:function(e,r){e&1&&(a.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-list",1)(2,"section",2),a.\u0275\u0275template(3,Ki,1,1,"qr-code",3),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(4,Qi,7,4,"ion-item")(5,Wi,7,4,"ion-item")(6,Yi,7,4,"ion-item"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"ion-list",1)(8,"ion-item")(9,"ion-select",4),a.\u0275\u0275listener("ionChange",function(C){return r.changeLanguage(C.detail.value)}),a.\u0275\u0275pipe(10,"translate"),a.\u0275\u0275elementStart(11,"ion-select-option",5),a.\u0275\u0275text(12),a.\u0275\u0275pipe(13,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(14,"ion-select-option",6),a.\u0275\u0275text(15),a.\u0275\u0275pipe(16,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"ion-select-option",7),a.\u0275\u0275text(18),a.\u0275\u0275pipe(19,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"ion-select-option",8),a.\u0275\u0275text(21),a.\u0275\u0275pipe(22,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(23,"ion-select-option",9),a.\u0275\u0275text(24),a.\u0275\u0275pipe(25,"translate"),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(26,"ion-item",10),a.\u0275\u0275listener("click",function(){return r.launchOnboarding()}),a.\u0275\u0275elementStart(27,"ion-label"),a.\u0275\u0275text(28),a.\u0275\u0275pipe(29,"translate"),a.\u0275\u0275elementEnd()(),a.\u0275\u0275template(30,Ji,4,3,"ion-item",11),a.\u0275\u0275elementEnd()()),e&2&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("inset",!0),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngIf",r.qrUuid),a.\u0275\u0275advance(1),a.\u0275\u0275conditional(4,r.uuid?4:-1),a.\u0275\u0275advance(1),a.\u0275\u0275conditional(5,r.pushToken?5:-1),a.\u0275\u0275advance(1),a.\u0275\u0275conditional(6,r.user?6:-1),a.\u0275\u0275advance(1),a.\u0275\u0275property("inset",!0),a.\u0275\u0275advance(2),a.\u0275\u0275propertyInterpolate("label",a.\u0275\u0275pipeBind1(10,15,"GLOBAL.LANGUAGES")),a.\u0275\u0275propertyInterpolate("value",r.currentLanguage),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(13,17,"GLOBAL.ENGLISH")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(16,19,"GLOBAL.SPANISH")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(19,21,"GLOBAL.CATALAN")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(22,23,"GLOBAL.GALICIAN")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(25,25,"GLOBAL.BASQUE")),a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(29,27,"CONFIG.LAUNCH_ONBOARDING")),a.\u0275\u0275advance(2),a.\u0275\u0275conditional(30,r.isSynced?30:-1))},dependencies:[Hi,ce.NgIf,zi,x.IonContent,x.IonItem,x.IonLabel,x.IonList,x.IonSelect,x.IonSelectOption,x.SelectValueAccessor,$i,Fi,le.QrCodeComponent,qi,bt.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .menu-list-qr[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:10px 0}[_nghost-%COMP%]   .menu-list-option[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start}"],changeDetection:0});let i=n;return i})();import{CommonModule as sn}from"@angular/common";import"@angular/core";import{RouterModule as cn}from"@angular/router";import{IonicModule as ln}from"@ionic/angular";import{TranslateModule as mn}from"@ngx-translate/core";import{CommonModule as Zi}from"@angular/common";import"@angular/core";import{IonicModule as Xi}from"@ionic/angular";import{TranslateModule as tn}from"@ngx-translate/core";import*as s from"@angular/core";import"@angular/core";import*as de from"@angular/core";var It=(()=>{let n=class n{constructor(){}getBestPrizes(t){return JSON.parse(t)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=de.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();import*as Ot from"@angular/common";import*as he from"@ionic/angular";function en(i,n){if(i&1&&(s.\u0275\u0275elementStart(0,"article",9)(1,"ion-label",10)(2,"span",11),s.\u0275\u0275text(3),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(4,"ion-label",12),s.\u0275\u0275text(5),s.\u0275\u0275pipe(6,"async"),s.\u0275\u0275pipe(7,"currency"),s.\u0275\u0275elementEnd()()),i&2){let c=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass","game-more-best-prize-first-number"),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(c.bestGamePrizes.primerPremio.decimo),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass","game-more-best-prize-first-quantity"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(6,4,s.\u0275\u0275pipeBind2(7,6,c.bestGamePrizes.primerPremio.prize/100,"EUR")))}}function nn(i,n){if(i&1&&(s.\u0275\u0275elementStart(0,"article",13)(1,"ion-label",10)(2,"span",11),s.\u0275\u0275text(3),s.\u0275\u0275elementEnd()(),s.\u0275\u0275elementStart(4,"ion-label",12),s.\u0275\u0275text(5),s.\u0275\u0275pipe(6,"async"),s.\u0275\u0275pipe(7,"currency"),s.\u0275\u0275elementEnd()()),i&2){let c=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass","game-more-best-prize-second-number"),s.\u0275\u0275advance(2),s.\u0275\u0275textInterpolate(c.bestGamePrizes.segundoPremio.decimo),s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass","game-more-best-prize-second-quantity"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(6,4,s.\u0275\u0275pipeBind2(7,6,c.bestGamePrizes.segundoPremio.prize/100,"EUR")))}}var on=(i,n)=>n.decimo;function rn(i,n){if(i&1&&(s.\u0275\u0275elementStart(0,"span",11),s.\u0275\u0275text(1),s.\u0275\u0275elementEnd()),i&2){let c=n.$implicit;s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(c.decimo)}}function an(i,n){if(i&1&&(s.\u0275\u0275elementStart(0,"article",14)(1,"ion-label",10),s.\u0275\u0275repeaterCreate(2,rn,2,1,"span",15,on),s.\u0275\u0275elementEnd(),s.\u0275\u0275elementStart(4,"ion-label",12),s.\u0275\u0275text(5),s.\u0275\u0275pipe(6,"async"),s.\u0275\u0275pipe(7,"currency"),s.\u0275\u0275elementEnd()()),i&2){let c=s.\u0275\u0275nextContext();s.\u0275\u0275advance(1),s.\u0275\u0275property("ngClass","game-more-best-prize-third-number"),s.\u0275\u0275advance(1),s.\u0275\u0275repeater(c.bestGamePrizes.reintegros),s.\u0275\u0275advance(2),s.\u0275\u0275property("ngClass","game-more-best-prize-third-quantity"),s.\u0275\u0275advance(1),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(6,3,s.\u0275\u0275pipeBind2(7,5,c.bestGamePrizes.reintegros[0].prize/100,"EUR")))}}var wt=(()=>{let n=class n{constructor(t){this.lnSrv=t,this.environment=v,this.gameCodes=O,this.bestGamePrizes={}}ngOnChanges(){this.getBestPrizes()}getBestPrizes(){this.bestGamePrizes=this.lnSrv.getBestPrizes(this.data.data.info.raw)}};n.\u0275fac=function(e){return new(e||n)(s.\u0275\u0275directiveInject(It))},n.\u0275cmp=s.\u0275\u0275defineComponent({type:n,selectors:[["app-game-ln"]],inputs:{data:"data"},standalone:!0,features:[s.\u0275\u0275NgOnChangesFeature,s.\u0275\u0275StandaloneFeature],decls:13,vars:9,consts:[[1,"game"],[1,"row"],["aria-hidden","true","slot","start","alt","",1,"game-img",3,"src"],[1,"game-data"],["color","medium",1,"game-data-date"],[1,"game-more"],["class","game-more-item game-more-best-prize-first"],["class","game-more-item game-more-best-prize-second"],["class","game-more-item"],[1,"game-more-item","game-more-best-prize-first"],[3,"ngClass"],[1,"ball"],["slot","end",3,"ngClass"],[1,"game-more-item","game-more-best-prize-second"],[1,"game-more-item"],["class","ball"]],template:function(e,r){e&1&&(s.\u0275\u0275elementStart(0,"section",0)(1,"article",1),s.\u0275\u0275element(2,"img",2),s.\u0275\u0275elementStart(3,"section",3)(4,"span",4),s.\u0275\u0275text(5),s.\u0275\u0275pipe(6,"async"),s.\u0275\u0275pipe(7,"date"),s.\u0275\u0275elementEnd()()(),s.\u0275\u0275elementStart(8,"article",1)(9,"section",5),s.\u0275\u0275template(10,en,8,9,"article",6)(11,nn,8,9,"article",7)(12,an,8,8,"article",8),s.\u0275\u0275elementEnd()()()),e&2&&(s.\u0275\u0275advance(2),s.\u0275\u0275property("src",r.environment.web.host+"/assets/logos/games/"+r.data.code+".png",s.\u0275\u0275sanitizeUrl),s.\u0275\u0275advance(3),s.\u0275\u0275textInterpolate(s.\u0275\u0275pipeBind1(6,5,s.\u0275\u0275pipeBind1(7,7,r.data.date))),s.\u0275\u0275advance(5),s.\u0275\u0275conditional(10,r.bestGamePrizes.primerPremio?10:-1),s.\u0275\u0275advance(1),s.\u0275\u0275conditional(11,r.bestGamePrizes.segundoPremio?11:-1),s.\u0275\u0275advance(1),s.\u0275\u0275conditional(12,r.bestGamePrizes.reintegros?12:-1))},dependencies:[Zi,Ot.NgClass,Ot.AsyncPipe,at,ot,Xi,he.IonLabel,tn],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block;width:100%;max-width:300px}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:7px;border-radius:7px;box-shadow:var(--box-shadow);padding:10px;border:thin solid var(--ln-primary)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100%}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{width:25px;margin:0 15px 0 0}[_nghost-%COMP%]   .game-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .game-data-date[_ngcontent-%COMP%]{margin-bottom:15px;text-align:right;font-size:14px;color:var(--ln-primary);font-weight:700}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .game-more-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:35px;font-size:14px}[_nghost-%COMP%]   .game-more[_ngcontent-%COMP%]   .ball[_ngcontent-%COMP%]{background:var(--ln-primary);color:#fff;padding:5px 10px;border-radius:20px;margin-right:10px}[_nghost-%COMP%]   .game-more-best-prize-first-quantity[_ngcontent-%COMP%]{font-weight:700}"],changeDetection:0});let i=n;return i})();import*as h from"@angular/core";import*as ge from"@angular/router";import*as z from"@ionic/angular";import*as fe from"@ngx-translate/core";var dn=(i,n)=>n._id;function pn(i,n){if(i&1&&h.\u0275\u0275element(0,"app-game-ln",6),i&2){let c=h.\u0275\u0275nextContext().$implicit;h.\u0275\u0275property("data",c)}}function hn(i,n){if(i&1){let c=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"span",5),h.\u0275\u0275listener("click",function(){let r=h.\u0275\u0275restoreView(c).$implicit,g=h.\u0275\u0275nextContext(2);return h.\u0275\u0275resetView(g.openGame(r))}),h.\u0275\u0275template(1,pn,1,1,"app-game-ln",6),h.\u0275\u0275elementEnd()}if(i&2){let c=n.$implicit,t=h.\u0275\u0275nextContext(2);h.\u0275\u0275advance(1),h.\u0275\u0275conditional(1,c.code===t.gamesCodes.LOTERIA_NACIONAL?1:-1)}}function un(i,n){if(i&1){let c=h.\u0275\u0275getCurrentView();h.\u0275\u0275elementStart(0,"span",5),h.\u0275\u0275listener("click",function(){h.\u0275\u0275restoreView(c);let e=h.\u0275\u0275nextContext(2);return h.\u0275\u0275resetView(e.loadMore())}),h.\u0275\u0275elementStart(1,"section",7)(2,"span",8),h.\u0275\u0275text(3),h.\u0275\u0275pipe(4,"translate"),h.\u0275\u0275elementEnd()()()}i&2&&(h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(4,1,"GLOBAL.LOAD_MORE")))}function gn(i,n){if(i&1&&(h.\u0275\u0275elementStart(0,"section",3),h.\u0275\u0275repeaterCreate(1,hn,2,1,"span",4,dn),h.\u0275\u0275template(3,un,5,3,"span",4),h.\u0275\u0275elementEnd()),i&2){let c=h.\u0275\u0275nextContext();h.\u0275\u0275advance(1),h.\u0275\u0275repeater(c.games),h.\u0275\u0275advance(2),h.\u0275\u0275conditional(3,c.showLoadMore?3:-1)}}function fn(i,n){i&1&&(h.\u0275\u0275elementStart(0,"section",9),h.\u0275\u0275element(1,"ion-icon",10),h.\u0275\u0275elementStart(2,"span",11),h.\u0275\u0275text(3),h.\u0275\u0275pipe(4,"translate"),h.\u0275\u0275elementEnd()()),i&2&&(h.\u0275\u0275advance(3),h.\u0275\u0275textInterpolate(h.\u0275\u0275pipeBind1(4,1,"GAMES.EMPTY_GAME_LIST")))}function Cn(i,n){i&1&&h.\u0275\u0275element(0,"app-loading")}var _n=10,ue=10,Ce=(()=>{let n=class n{constructor(t,e,r){this.cdr=t,this.gameSrv=e,this.router=r,this.games=[],this.gamesCodes=O,this.loadingCount=0,this.showLoadMore=!0,this.limit=ue,this.offset=0}ionViewDidEnter(){return u(this,null,function*(){this.limit=ue,this.showLoadMore=!0,this.games.length||(yield this.loadGames()),this.sortGamesByDate(),this.cdr.detectChanges()})}loadGames(){return this.getGamesByCodeOnlyWithPrizes(O.LOTERIA_NACIONAL)}openGame(t){this.gameSrv.openGame(t)}loadMore(){return u(this,null,function*(){this.offset+=_n,this.loadGames()})}handleRefresh(t){return u(this,null,function*(){this.offset=0,yield this.loadGames(),t.target.complete()})}sortGamesByDate(){this.games.sort((t,e)=>{let r=new Date(t.date);return new Date(e.date).getTime()-r.getTime()})}getGamesByCodeOnlyWithPrizes(t){return u(this,null,function*(){try{this.showLoading();let e=yield this.gameSrv.getAllGamesByCodeOnlyWithPrizes(t,this.limit,this.offset);this.offset===0&&(this.games=[]),this.games=this.games.concat(e),e.length<this.limit&&(this.showLoadMore=!1),this.cdr.detectChanges(),this.dismissLoading()}catch(e){console.log("Error getting games by code",e),this.dismissLoading()}})}showLoading(){return u(this,null,function*(){let t=this.loadingCount;this.loadingCount++,t===0&&this.cdr.detectChanges()})}requestHideLoading(){return u(this,null,function*(){this.loadingCount--,this.loadingCount<=0&&this.dismissLoading()})}dismissLoading(){return u(this,null,function*(){this.loadingCount=0,this.cdr.detectChanges()})}};n.\u0275fac=function(e){return new(e||n)(h.\u0275\u0275directiveInject(h.ChangeDetectorRef),h.\u0275\u0275directiveInject(V),h.\u0275\u0275directiveInject(ge.Router))},n.\u0275cmp=h.\u0275\u0275defineComponent({type:n,selectors:[["app-games"]],standalone:!0,features:[h.\u0275\u0275StandaloneFeature],decls:6,vars:2,consts:[["padding","","color","light"],["slot","fixed",3,"ionRefresh"],["class","main-container"],[1,"main-container"],["class","main-container-element"],[1,"main-container-element",3,"click"],[3,"data"],[1,"main-container-element-load-more"],[1,"main-container-element-load-more-text"],[1,"empty-content"],["name","scan-circle-outline",1,"empty-content-icon"],[1,"empty-content-message"]],template:function(e,r){e&1&&(h.\u0275\u0275elementStart(0,"ion-content",0)(1,"ion-refresher",1),h.\u0275\u0275listener("ionRefresh",function(C){return r.handleRefresh(C)}),h.\u0275\u0275element(2,"ion-refresher-content"),h.\u0275\u0275elementEnd(),h.\u0275\u0275template(3,gn,4,1,"section",2)(4,fn,5,3)(5,Cn,1,0,"app-loading"),h.\u0275\u0275elementEnd()),e&2&&(h.\u0275\u0275advance(3),h.\u0275\u0275conditional(3,r.games.length?3:4),h.\u0275\u0275advance(2),h.\u0275\u0275conditional(5,r.loadingCount>0?5:-1))},dependencies:[sn,cn,ln,z.IonContent,z.IonIcon,z.IonRefresher,z.IonRefresherContent,mn,fe.TranslatePipe,wt,yt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));margin-bottom:150px}[_nghost-%COMP%]   .main-container-element[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   .main-container-element-load-more[_ngcontent-%COMP%]{justify-content:center;width:100%;max-width:290px;height:40px;background-color:transparent;border:solid thin var(--ion-color-primary);display:flex;flex-direction:column;align-items:center;margin:5px;border-radius:7px;box-shadow:var(--box-shadow);padding:15px}[_nghost-%COMP%]   .main-container-element-load-more-text[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:14px}[_nghost-%COMP%]   .empty-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}[_nghost-%COMP%]   .empty-content-icon[_ngcontent-%COMP%]{width:120px;height:120px;color:gray}[_nghost-%COMP%]   .empty-content-message[_ngcontent-%COMP%]{color:gray;margin:20px}"],changeDetection:0});let i=n;return i})();import{CommonModule as vn}from"@angular/common";import"@angular/core";import{IonicModule as Sn}from"@ionic/angular";import{ScrollingModule as xn}from"@angular/cdk/scrolling";import{TranslateModule as yn}from"@ngx-translate/core";import{FormsModule as bn}from"@angular/forms";import*as d from"@angular/core";import*as b from"@ionic/angular";import*as J from"@angular/forms";import*as At from"@ngx-translate/core";import*as Pt from"@angular/common";import*as Z from"@angular/cdk/scrolling";var In=()=>[Pt.NgClass,Pt.AsyncPipe,import("./chunk-BK64RPGE.js").then(i=>i.CustomCurrencyPipe),b.IonItem,b.IonLabel,b.IonList,Z.CdkFixedSizeVirtualScroll,Z.CdkVirtualForOf,Z.CdkVirtualScrollViewport,At.TranslatePipe];function On(i,n){if(i&1&&d.\u0275\u0275element(0,"app-game-ln",2),i&2){let c=d.\u0275\u0275nextContext();d.\u0275\u0275property("data",c.game)}}function wn(i,n){i&1&&d.\u0275\u0275element(0,"ion-spinner",7)}function Pn(i,n){i&1&&d.\u0275\u0275element(0,"ion-icon",8)}function En(i,n){i&1&&d.\u0275\u0275element(0,"ion-icon",9)}function kn(i,n){i&1&&d.\u0275\u0275element(0,"ion-icon",8)}function Mn(i,n){i&1&&d.\u0275\u0275element(0,"ion-icon",10)}function Tn(i,n){if(i&1){let c=d.\u0275\u0275getCurrentView();d.\u0275\u0275elementStart(0,"ion-icon",11),d.\u0275\u0275listener("click",function(){d.\u0275\u0275restoreView(c);let e=d.\u0275\u0275nextContext();return d.\u0275\u0275resetView(e.clearSearch())}),d.\u0275\u0275elementEnd()}}function Ln(i,n){if(i&1&&(d.\u0275\u0275elementStart(0,"ion-item",16)(1,"ion-label",17),d.\u0275\u0275text(2),d.\u0275\u0275pipe(3,"translate"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementStart(4,"ion-label",18),d.\u0275\u0275text(5),d.\u0275\u0275pipe(6,"async"),d.\u0275\u0275pipe(7,"currency"),d.\u0275\u0275elementEnd()()),i&2){let c=n.$implicit,t=n.$index;d.\u0275\u0275advance(1),d.\u0275\u0275property("ngClass","result-list-prize-number-"+t),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(3,4,c.number)),d.\u0275\u0275advance(2),d.\u0275\u0275property("ngClass","result-list-prize-quantity-"+t),d.\u0275\u0275advance(1),d.\u0275\u0275textInterpolate(d.\u0275\u0275pipeBind1(6,6,d.\u0275\u0275pipeBind2(7,8,c.quantity/100,"EUR")))}}function Dn(i,n){if(i&1&&d.\u0275\u0275template(0,Ln,8,11,"ion-item",15),i&2){let c=d.\u0275\u0275nextContext(2);d.\u0275\u0275property("cdkVirtualForOf",c.results)("cdkVirtualForTrack",c.result)}}function An(i,n){if(i&1&&(d.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",12)(1,"ion-list",13),d.\u0275\u0275template(2,Dn,1,2,"ion-item",14),d.\u0275\u0275elementEnd()()),i&2){let c=d.\u0275\u0275nextContext();d.\u0275\u0275advance(2),d.\u0275\u0275conditional(2,c.results.length?2:-1)}}var _e=(()=>{let n=class n{constructor(t,e){this.cdr=t,this.lnSrv=e,this.debounce=1e3,this.minSearchLength=3,this.environment=v,this.game={},this.gameCodes=O,this.results=[],this.searchValue="",this.bestGamePrizes={},this.showSearchLoading=!1}ionViewDidEnter(){this.searchValue="",this.game=history.state.game,this.formatPrizesNumbers(),this.results=this.game.data.info.prizes,this.cdr.detectChanges()}formatPrizesNumbers(){this.game.data.info.prizes.forEach(t=>{t.number=this.padStart(t.number,5,"?")})}handleInput(t){if(this.searchValue=t.target.value.toLowerCase(),this.results=this.game.data.info.prizes.filter(e=>e.number.toLowerCase().indexOf(this.searchValue)>-1),!this.results.length){let r=this.game.data.info.prizes.filter(g=>g.number.includes("?")).filter(g=>{let C=g.number.match(/\?/g)||[],M=g.number.slice(C.length),B=this.searchValue.slice(C.length);return M===B});this.results=Array.from(new Set([...this.results,...r]))}this.showSearchLoading=!1}clearSearch(){this.searchValue="",this.results=this.game.data.info.prizes}padStart(t,e,r){return e=e>>0,r=String(typeof r<"u"?r:" "),t.length>=e?String(t):(e=e-t.length,e>r.length&&(r+=r.repeat(e/r.length)),r.slice(0,e)+String(t))}};n.\u0275fac=function(e){return new(e||n)(d.\u0275\u0275directiveInject(d.ChangeDetectorRef),d.\u0275\u0275directiveInject(It))},n.\u0275cmp=d.\u0275\u0275defineComponent({type:n,selectors:[["app-game-detail"]],standalone:!0,features:[d.\u0275\u0275StandaloneFeature],decls:15,vars:8,consts:[[1,"container"],[1,"game"],[3,"data"],[1,"search"],["maxlength","5",3,"placeholder","ngModel","debounce","ionInput","ngModelChange","keypress"],["class","search-icon","slot","start","name","dots","aria-hidden","true"],["class","search-icon","slot","end","name","close","aria-hidden","true"],["slot","start","name","dots","aria-hidden","true",1,"search-icon"],["slot","start","name","search","aria-hidden","true",1,"search-icon"],["slot","start","name","checkmark-outline","aria-hidden","true",1,"search-icon"],["slot","start","name","checkmark-done-outline","aria-hidden","true",1,"search-icon"],["slot","end","name","close","aria-hidden","true",1,"search-icon",3,"click"],["itemSize","50","minBufferPx","900","maxBufferPx","1350"],[1,"result-list"],["class","result-list-prize"],["class","result-list-prize",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrack"],[1,"result-list-prize"],[3,"ngClass"],["slot","end",3,"ngClass"]],template:function(e,r){e&1&&(d.\u0275\u0275elementStart(0,"ion-content",0)(1,"section",1),d.\u0275\u0275template(2,On,1,1,"app-game-ln",2),d.\u0275\u0275elementStart(3,"article",3)(4,"ion-input",4),d.\u0275\u0275listener("ionInput",function(C){return r.handleInput(C)})("ngModelChange",function(C){return r.searchValue=C})("keypress",function(){return r.showSearchLoading=!0}),d.\u0275\u0275pipe(5,"translate"),d.\u0275\u0275template(6,wn,1,0,"ion-spinner",5)(7,Pn,1,0)(8,En,1,0)(9,kn,1,0)(10,Mn,1,0)(11,Tn,1,0,"ion-icon",6),d.\u0275\u0275elementEnd()(),d.\u0275\u0275template(12,An,3,1),d.\u0275\u0275defer(13,12,In),d.\u0275\u0275deferOnIdle(),d.\u0275\u0275elementEnd()()),e&2&&(d.\u0275\u0275advance(2),d.\u0275\u0275conditional(2,r.game&&r.game._id?2:-1),d.\u0275\u0275advance(2),d.\u0275\u0275propertyInterpolate("placeholder",d.\u0275\u0275pipeBind1(5,6,"GLOBAL.SEARCH")),d.\u0275\u0275property("ngModel",r.searchValue)("debounce",r.debounce),d.\u0275\u0275advance(2),d.\u0275\u0275conditional(6,r.showSearchLoading?6:r.results.length&&!r.searchValue.length?7:r.results.length&&r.searchValue.length<5?8:!r.results.length&&r.searchValue.length?9:10),d.\u0275\u0275advance(5),d.\u0275\u0275conditional(11,r.searchValue.length?11:-1))},dependencies:[vn,Sn,b.IonContent,b.IonIcon,b.IonInput,b.IonSpinner,b.TextValueAccessor,xn,bn,J.NgControlStatus,J.MaxLengthValidator,J.NgModel,yn,At.TranslatePipe,wt],styles:["[_ngcontent-%COMP%]:root{--color-background: var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--box-shadow: rgba(99, 99, 99, .2) 0px 2px 8px 0px;--ln-primary: #3478b3;--ion-color-primary: #3880ff;--ion-color-primary-rgb: 56,128,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61,194,255;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0,0,0;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82,96,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45,211,111;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255,196,9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235,68,90;--ion-color-danger-contrast: #000000;--ion-color-danger-contrast-rgb: 0,0,0;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244,245,248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146,148,156;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-dark: #222428;--ion-color-dark-rgb: 34,36,40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{height:100%;width:100%;overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%]::part(scroll){overscroll-behavior:none;overflow:scroll}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:var(--color-background);box-shadow:#0000003d 0 3px 8px;width:100%;height:100%}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%;padding:15px 15px 0}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding:0 15px;background-color:#fff;border-radius:100px;margin:15px;border:thin solid var(--ion-color-dark);width:calc(100% - 30px)}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{width:16px}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]{margin-bottom:56px;overflow-y:scroll;overscroll-behavior:none}[_nghost-%COMP%]   .game-img[_ngcontent-%COMP%]{width:50px;margin:0 15px 0 0}[_nghost-%COMP%]   .no-results[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}"],changeDetection:0});let i=n;return i})();var ve=[{path:"",component:ne,children:[{path:"",redirectTo:"main",pathMatch:"full"},{path:"main",component:te,children:[{path:"games",component:Ce},{path:"game-detail-ln",component:_e},{path:"scan",component:Yt},{path:"tickets",component:se},{path:"menu",component:me}]}]}];var Se={providers:[Rn(ve,Nn())]};import"@angular/core";import{CommonModule as Gn}from"@angular/common";import{RouterModule as Bn}from"@angular/router";import*as X from"@angular/core";import*as xe from"@angular/router";var ye=(()=>{let n=class n{constructor(){this.title="lookttery-app"}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=X.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],standalone:!0,features:[X.\u0275\u0275StandaloneFeature],decls:1,vars:0,template:function(e,r){e&1&&X.\u0275\u0275element(0,"router-outlet")},dependencies:[Gn,Bn,xe.RouterOutlet]});let i=n;return i})();Un(ye,Se).catch(i=>console.error(i));
